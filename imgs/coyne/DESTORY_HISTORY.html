<!DOCTYPE html>
<html lang="en">

<!-- Head tag -->
<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0" />

    <!--Description-->
    
        <meta name="description" content="DESTORY HISTORY
@-webkit-keyframes appear{0%{opacity:0}to{opacity:1}}@keyframes appear{0%{opacity:0}to{opacity:1}}@-webkit-keyframes fade-in-out{0%,to">
    

    <!--Author-->
    
        <meta name="author" content="The Individual Contributors">
    

    <!--Open Graph Title-->
    

    <!--Open Graph Site Name-->
    <meta property="og:site_name" content="Epoiesen&lt;br&gt;&lt;br&gt;&lt;small&gt; A Journal for Creative Engagement in History and Archaeology&lt;/small&gt;"/>

    <!--Page Cover-->
    
        <meta property="og:image" content="undefined"/>
    

    <!-- Title -->
    
    <title>Epoiesen&lt;br&gt;&lt;br&gt;&lt;small&gt; A Journal for Creative Engagement in History and Archaeology&lt;/small&gt;</title>

    <!-- Custom CSS -->
    <link rel="stylesheet" href="../../css/reset.css">
    <link rel="stylesheet" href="../../css/main.css">
    <link rel="stylesheet" href="../../tipuesearch/tipuesearch.css">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- Gallery -->
    <link href="//cdn.rawgit.com/noelboss/featherlight/1.3.5/release/featherlight.min.css" type="text/css" rel="stylesheet" />

    <!-- Google Analytics -->
    


</head>


<body>

<!-- Menu -->
<!-- Navigation -->
<header>
    <div class="logo">
        <a href="/">Epoiesen<br><br><small> A Journal for Creative Engagement in History and Archaeology</small></a>
    </div><!-- end logo -->

    <div id="menu_icon"></div>
    <nav>
        <ul>
            
            <li>
                <a href="../../archives">Articles</a>
            </li>
            
            <li>
                <a href="../../about">About</a>
            </li>
            
            <li>
                <a href="../../submit">For Creators</a>
            </li>
            
            <li>
                <a href="../../search">Search</a>
            </li>
            
        </ul>
    </nav><!-- end navigation menu -->

    <div class="footer clearfix">
        <ul class="social clearfix">
            
            
            
            
            
            
        </ul><!-- end social -->

        <div class="rights">
            <p>ISSN xxx-xxx-xxx-xxx</p>
            <p>Magnetic Theme</p>
            <p>Template by <a href="http://pixelhint.com/magnetic-free-html5-responsive-photography-website-template/">Pixelhint.com</a></p>
            <p>Hexo Version by <a href="http://www.codeblocq.com/">Jonathan K.</a></p>
        </div><!-- end rights -->
    </div ><!-- end footer -->
</header><!-- end header -->


<!-- Main Content -->

<section class="main clearfix">

    <section class="top" style="background: url('http://placehold.it/1300x500');">
        <div class="wrapper content_header clearfix"> 
            <h1 class="title">Untitled</h1>
        </div>
    </section><!-- end top -->

    <section class="wrapper">
        <div class="content">
            
            <!-- hypothesis -->
            <script src="https://hypothes.is/embed.js" async></script>

            <!-- tipuesearch -->
            <div id="tipue_search_content" style="display: none"></div>
            <div id="content" role="main"></div>

            <!-- Gallery -->
            

            <!-- Content -->
            <!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>DESTORY HISTORY</title>
<style title="Twine CSS">@-webkit-keyframes appear{0%{opacity:0}to{opacity:1}}@keyframes appear{0%{opacity:0}to{opacity:1}}@-webkit-keyframes fade-in-out{0%,to{opacity:0}50%{opacity:1}}@keyframes fade-in-out{0%,to{opacity:0}50%{opacity:1}}@-webkit-keyframes rumble{50%{-webkit-transform:translateY(-0.2em);transform:translateY(-0.2em)}}@keyframes rumble{50%{-webkit-transform:translateY(-0.2em);transform:translateY(-0.2em)}}@-webkit-keyframes shudder{50%{-webkit-transform:translateX(0.2em);transform:translateX(0.2em)}}@keyframes shudder{50%{-webkit-transform:translateX(0.2em);transform:translateX(0.2em)}}@-webkit-keyframes box-flash{0%{background-color:white;color:white}}@keyframes box-flash{0%{background-color:white;color:white}}@-webkit-keyframes pulse{0%{-webkit-transform:scale(0, 0);transform:scale(0, 0)}20%{-webkit-transform:scale(1.2, 1.2);transform:scale(1.2, 1.2)}40%{-webkit-transform:scale(0.9, 0.9);transform:scale(0.9, 0.9)}60%{-webkit-transform:scale(1.05, 1.05);transform:scale(1.05, 1.05)}80%{-webkit-transform:scale(0.925, 0.925);transform:scale(0.925, 0.925)}to{-webkit-transform:scale(1, 1);transform:scale(1, 1)}}@keyframes pulse{0%{-webkit-transform:scale(0, 0);transform:scale(0, 0)}20%{-webkit-transform:scale(1.2, 1.2);transform:scale(1.2, 1.2)}40%{-webkit-transform:scale(0.9, 0.9);transform:scale(0.9, 0.9)}60%{-webkit-transform:scale(1.05, 1.05);transform:scale(1.05, 1.05)}80%{-webkit-transform:scale(0.925, 0.925);transform:scale(0.925, 0.925)}to{-webkit-transform:scale(1, 1);transform:scale(1, 1)}}@-webkit-keyframes shudder-in{0%, to{-webkit-transform:translateX(0em);transform:translateX(0em)}5%, 25%, 45%{-webkit-transform:translateX(-1em);transform:translateX(-1em)}15%, 35%, 55%{-webkit-transform:translateX(1em);transform:translateX(1em)}65%{-webkit-transform:translateX(-0.6em);transform:translateX(-0.6em)}75%{-webkit-transform:translateX(0.6em);transform:translateX(0.6em)}85%{-webkit-transform:translateX(-0.2em);transform:translateX(-0.2em)}95%{-webkit-transform:translateX(0.2em);transform:translateX(0.2em)}}@keyframes shudder-in{0%, to{-webkit-transform:translateX(0em);transform:translateX(0em)}5%, 25%, 45%{-webkit-transform:translateX(-1em);transform:translateX(-1em)}15%, 35%, 55%{-webkit-transform:translateX(1em);transform:translateX(1em)}65%{-webkit-transform:translateX(-0.6em);transform:translateX(-0.6em)}75%{-webkit-transform:translateX(0.6em);transform:translateX(0.6em)}85%{-webkit-transform:translateX(-0.2em);transform:translateX(-0.2em)}95%{-webkit-transform:translateX(0.2em);transform:translateX(0.2em)}}.debug-mode tw-expression[type=hookref]{background-color:rgba(115,123,140,0.15)}.debug-mode tw-expression[type=hookref]::after{font-size:0.8rem;padding-left:0.2rem;padding-right:0.2rem;vertical-align:top;content:"?" attr(name)}.debug-mode tw-expression[type=variable]{background-color:rgba(140,128,115,0.15)}.debug-mode tw-expression[type=variable]::after{font-size:0.8rem;padding-left:0.2rem;padding-right:0.2rem;vertical-align:top;content:"$" attr(name)}.debug-mode tw-expression[type=macro]:nth-of-type(4n+0){background-color:rgba(136,153,102,0.15)}.debug-mode tw-expression[type=macro]:nth-of-type(2n+1){background-color:rgba(102,153,102,0.15)}.debug-mode tw-expression[type=macro]:nth-of-type(4n+2){background-color:rgba(102,153,136,0.15)}.debug-mode tw-expression[type=macro][name="display"]{background-color:rgba(0,170,255,0.1) !important}.debug-mode tw-expression[type=macro][name="if"],.debug-mode tw-expression[type=macro][name="if"]+tw-hook:not([name]),.debug-mode tw-expression[type=macro][name="unless"],.debug-mode tw-expression[type=macro][name="unless"]+tw-hook:not([name]),.debug-mode tw-expression[type=macro][name="elseif"],.debug-mode tw-expression[type=macro][name="elseif"]+tw-hook:not([name]),.debug-mode tw-expression[type=macro][name="else"],.debug-mode tw-expression[type=macro][name="else"]+tw-hook:not([name]){background-color:rgba(0,255,0,0.1) !important}.debug-mode tw-expression[type=macro].false{background-color:rgba(255,0,0,0.2) !important}.debug-mode tw-expression[type=macro].false+tw-hook:not([name]){display:none}.debug-mode tw-expression[type=macro][name="a"],.debug-mode tw-expression[type=macro][name="array"],.debug-mode tw-expression[type=macro][name="datamap"],.debug-mode tw-expression[type=macro][name="dataset"],.debug-mode tw-expression[type=macro][name="colour"],.debug-mode tw-expression[type=macro][name="color"],.debug-mode tw-expression[type=macro][name="num"],.debug-mode tw-expression[type=macro][name="number"],.debug-mode tw-expression[type=macro][name="text"],.debug-mode tw-expression[type=macro][name="print"]{background-color:rgba(255,255,0,0.2) !important}.debug-mode tw-expression[type=macro][name="put"],.debug-mode tw-expression[type=macro][name="set"]{background-color:rgba(255,128,0,0.2) !important}.debug-mode tw-expression[type=macro][name="script"]{background-color:rgba(255,191,0,0.2) !important}.debug-mode tw-expression[type=macro][name="style"]{background-color:rgba(185,198,198,0.2) !important}.debug-mode tw-expression[type=macro][name^="link"],.debug-mode tw-expression[type=macro][name^="click"],.debug-mode tw-expression[type=macro][name^="mouseover"],.debug-mode tw-expression[type=macro][name^="mouseout"]{background-color:rgba(128,223,32,0.2) !important}.debug-mode tw-expression[type=macro][name^="replace"],.debug-mode tw-expression[type=macro][name^="prepend"],.debug-mode tw-expression[type=macro][name^="append"],.debug-mode tw-expression[type=macro][name^="remove"]{background-color:rgba(223,96,32,0.2) !important}.debug-mode tw-expression[type=macro][name="live"]{background-color:rgba(32,96,223,0.2) !important}.debug-mode tw-expression[type=macro]::before{content:"(" attr(name) ":)";padding:0 0.5rem;font-size:1rem;vertical-align:middle;line-height:normal;background-color:inherit;border:1px solid rgba(255,255,255,0.5)}.debug-mode tw-hook{background-color:rgba(0,85,255,0.1) !important}.debug-mode tw-hook::before{font-size:0.8rem;padding-left:0.2rem;padding-right:0.2rem;vertical-align:top;content:"["}.debug-mode tw-hook::after{font-size:0.8rem;padding-left:0.2rem;padding-right:0.2rem;vertical-align:top;content:"]"}.debug-mode tw-hook[name]::after{font-size:0.8rem;padding-left:0.2rem;padding-right:0.2rem;vertical-align:top;content:"]<" attr(name) "|"}.debug-mode tw-pseudo-hook{background-color:rgba(255,170,0,0.1) !important}.debug-mode tw-collapsed::before{font-size:0.8rem;padding-left:0.2rem;padding-right:0.2rem;vertical-align:top;content:"{"}.debug-mode tw-collapsed::after{font-size:0.8rem;padding-left:0.2rem;padding-right:0.2rem;vertical-align:top;content:"}"}.debug-mode tw-verbatim::before,.debug-mode tw-verbatim::after{font-size:0.8rem;padding-left:0.2rem;padding-right:0.2rem;vertical-align:top;content:"`"}.debug-mode tw-align[style*="text-align: center"]{background:linear-gradient(to right, rgba(255,204,189,0) 0%, rgba(255,204,189,0.25) 50%, rgba(255,204,189,0) 100%)}.debug-mode tw-align[style*="text-align: left"]{background:linear-gradient(to right, rgba(255,204,189,0.25) 0%, rgba(255,204,189,0) 100%)}.debug-mode tw-align[style*="text-align: right"]{background:linear-gradient(to right, rgba(255,204,189,0) 0%, rgba(255,204,189,0.25) 100%)}.debug-mode p{background-color:rgba(255,213,0,0.1)}.debug-mode tw-enchantment{animation:enchantment 0.5s infinite;-webkit-animation:enchantment 0.5s infinite;border:1px solid}.debug-mode tw-link::after,.debug-mode tw-broken-link::after{font-size:0.8rem;padding-left:0.2rem;padding-right:0.2rem;vertical-align:top;content:attr(passage-name)}.debug-mode tw-include{background-color:rgba(204,128,51,0.1)}.debug-mode tw-include::before{font-size:0.8rem;padding-left:0.2rem;padding-right:0.2rem;vertical-align:top;content:attr(type) ' "' attr(title) '"'}@keyframes enchantment{0%,to{border-color:#ffb366}50%{border-color:#6fc}}@-webkit-keyframes enchantment{0%,to{border-color:#ffb366}50%{border-color:#6fc}}tw-debugger{position:fixed;bottom:0;right:0;z-index:999999;min-width:10em;min-height:1em;padding:1em;font-size:1.5em;border-left:solid #000 2px;border-top:solid #000 2px;border-top-left-radius:0.5em;background:#fff;transition:opacity 0.2s;-webkit-transition:opacity 0.2s;opacity:0.8}@media screen and (max-width: 1280px){tw-debugger{font-size:1.25em}}@media screen and (max-width: 960px){tw-debugger{font-size:1em}}@media screen and (max-width: 640px){tw-debugger{font-size:0.8em}}tw-debugger:hover{opacity:1}.show-invisibles{border-radius:3px;border:solid #999 1px;background-color:#fff;font-size:inherit}.debug-mode .show-invisibles{background-color:#eee;box-shadow:inset #ddd 3px 5px 0.5em}tw-link,.link,tw-icon{cursor:pointer}tw-link,.enchantment-link{color:#4169E1;font-weight:bold;text-decoration:none;transition:color 0.2s ease-in-out}tw-link:hover,.enchantment-link:hover{color:DeepSkyBlue}tw-link:active,.enchantment-link:active{color:#DD4B39}.visited{color:#6941e1}.visited:hover{color:#E3E}tw-broken-link{color:#993333;border-bottom:2px solid #993333;cursor:not-allowed}.enchantment-mouseover{border-bottom:1px dashed #666}.enchantment-mouseout{border:rgba(64,149,191,0.25) 1px solid}.enchantment-mouseout:hover{background-color:rgba(64,149,191,0.25);border:transparent 1px solid;border-radius:0.2em}html{font:100% Georgia, serif;margin:0;background-color:transparent;color:#000;height:100%;overflow-x:hidden;box-sizing:border-box}*,:before,:after{position:relative;box-sizing:inherit}body{margin:0;background-color:transparent}tw-storydata{display:none}tw-story{display:-webkit-box;display:-webkit-flex;display:-moz-flex;display:-ms-flexbox;display:flex;-webkit-box-direction:normal;-webkit-box-orient:vertical;-webkit-flex-direction:column;-moz-flex-direction:column;-ms-flex-direction:column;flex-direction:column;width:60%;font-size:1.5em;line-height:1.5em;margin:5% auto}@media screen and (max-width: 1024px){tw-story{font-size:1.2em}}@media screen and (max-width: 896px){tw-story{font-size:1.05em}}@media screen and (max-width: 768px){tw-story{font-size:.9em}}tw-passage{display:block}tw-sidebar{left:-5em;width:3em;position:absolute;text-align:center;display:block}tw-icon{display:block;margin:0.5em 0;opacity:0.1;font-size:2.75em}tw-icon:hover{opacity:0.3}tw-error{display:inline-block;border-radius:0.2em;padding:0.2em;font-size:1rem;cursor:help}tw-error.error{background-color:rgba(223,58,190,0.4);color:black}tw-error.warning{background-color:rgba(223,140,58,0.4);color:black;display:none}.debug-mode tw-error.warning{display:inline}tw-error-explanation{display:block;font-size:0.8rem;line-height:1rem}tw-error-explanation-button{cursor:pointer;line-height:0em;border-radius:1px;border:1px solid black;font-size:0.8rem;margin:0 0.4rem;opacity:0.5}tw-error-explanation-button .folddown-arrowhead{display:inline-block}tw-notifier{border-radius:0.2em;padding:0.2em;font-size:1rem;background-color:rgba(223,182,58,0.4);display:none}.debug-mode tw-notifier{display:inline}tw-notifier::before{content:attr(message)}tw-colour{border:1px solid black;display:inline-block;width:1em;height:1em}h1{font-size:3em}h2{font-size:2.25em}h3{font-size:1.75em}h1,h2,h3,h4,h5,h6{line-height:1em;margin:0.6em 0}pre{font-size:1rem}small{font-size:70%}big{font-size:120%}mark{color:rgba(0,0,0,0.6);background-color:#ff9}ins{color:rgba(0,0,0,0.6);background-color:rgba(255,242,204,0.5);border-radius:0.5em;box-shadow:0em 0em 0.2em #ffe699;text-decoration:none}del{background-color:#000;text-decoration:none}center{text-align:center;margin:0 auto;width:60%}blink{text-decoration:none;animation:fade-in-out 1s steps(1, end) infinite alternate;-webkit-animation:fade-in-out 1s steps(1, end) infinite alternate}tw-align{display:block}tw-outline{color:white;text-shadow:-1px -1px 0 #000, 1px -1px 0 #000, -1px 1px 0 #000, 1px 1px 0 #000}tw-shadow{text-shadow:0.08em 0.08em 0.08em #000}tw-emboss{text-shadow:0.08em 0.08em 0em #000;color:white}tw-condense{letter-spacing:-0.08em}tw-expand{letter-spacing:0.1em}tw-blur{color:transparent;text-shadow:0em 0em 0.08em #000}tw-blurrier{color:transparent;text-shadow:0em 0em 0.2em #000}tw-blurrier::selection{background-color:transparent;color:transparent}tw-blurrier::-moz-selection{background-color:transparent;color:transparent}tw-smear{color:transparent;text-shadow:0em 0em 0.02em rgba(0,0,0,0.75),-0.2em 0em 0.5em rgba(0,0,0,0.5),0.2em 0em 0.5em rgba(0,0,0,0.5)}tw-mirror{display:inline-block;transform:scaleX(-1);-webkit-transform:scaleX(-1)}tw-upside-down{display:inline-block;transform:scaleY(-1);-webkit-transform:scaleY(-1)}tw-fade-in-out{text-decoration:none;animation:fade-in-out 2s ease-in-out infinite alternate;-webkit-animation:fade-in-out 2s ease-in-out infinite alternate}tw-rumble{-webkit-animation:rumble linear 0.1s 0s infinite;animation:rumble linear 0.1s 0s infinite;display:inline-block}tw-shudder{-webkit-animation:shudder linear 0.1s 0s infinite;animation:shudder linear 0.1s 0s infinite;display:inline-block}tw-shudder-in{animation:shudder-in 1s ease-out;-webkit-animation:shudder-in 1s ease-out}.transition-in{-webkit-animation:appear 0ms step-start;animation:appear 0ms step-start}.transition-out{-webkit-animation:appear 0ms step-end;animation:appear 0ms step-end}[data-t8n^=fade-in].transition-in,.transition-in[data-t8n^=dissolve]{-webkit-animation:appear 0.8s;animation:appear 0.8s}[data-t8n^=dissolve].transition-out{-webkit-animation:appear 0.8s reverse;animation:appear 0.8s reverse}[data-t8n^=shudder-in].transition-in,.transition-in[data-t8n^=shudder]{display:inline-block;-webkit-animation:shudder-in 0.8s;animation:shudder-in 0.8s}[data-t8n^=shudder-out].transition-out,.transition-out[data-t8n^=shudder]{display:inline-block;-webkit-animation:shudder-out 0.8s;animation:shudder-out 0.8s}[data-t8n^=boxflash].transition-in{-webkit-animation:box-flash 0.8s;animation:box-flash 0.8s}[data-t8n^=pulse].transition-in{-webkit-animation:pulse 0.8s;animation:pulse 0.8s}[data-t8n^=pulse].transition-out{-webkit-animation:pulse 0.8s reverse;animation:pulse 0.8s reverse}[data-t8n$=fast]{animation-duration:0.4s;-webkit-animation-duration:0.4s}[data-t8n$=slow]{animation-duration:1.2s;-webkit-animation-duration:1.2s}
</style>
</head>

<body>

<tw-story></tw-story>

<tw-storydata name="DESTORY HISTORY" startnode="1" creator="Twine" creator-version="2.0.11" ifid="2C3B0729-588D-49E9-ADCB-70CF2086ED8E" format="Harlowe" options="" hidden><style role="stylesheet" id="twine-user-stylesheet" type="text/twine-css">html
{
	background-color: #D1D0CE;
}

tw-story
{
width: 1024px;
padding: 0px;
margin-top: 0px;
}

tw-passage
{
	width: 1024px;
}

tw-passage tw-include[title="SideTitle"] {
	width: 340px;
	padding: 5px;
	height: 100%;
}


#titlebox
{
float: left;
width: 300px;
margin: 0px;
padding: 0px;
text-align: center;
}

#tsibox
{
	float: left;
width: 290px;
padding: 10px;
margin: 5px;
border: solid;
border-width: 5px;
border-radius: 10px;
border-color: black;
background-color: black;
color: white;
font-family: Consolas,sans-serif; 
white-space: normal;
font-size: 18px;
text-align: left;
}

#content
{
float: right;
width: 710px;
padding: 5px;
}

#tsititle
{
font-family: Consolas,sans-serif; 
	background-color: black;
	color: green;
	font-size: 20px;
	font-weight: bold;
	text-align: center;
	padding: 5px;
	margin: 10px;
	border: solid;
  border-width: 5px;
  border-radius: 10px;
}

#tsiright
{
font-family: Consolas,sans-serif; 
	background-color: black;
	color: yellow;
	text-align: right;
	margin: 0px;
	padding: 0px;
}

#tsigood
{
font-family: Consolas,sans-serif; 
	background-color: black;
	color: lightgreen;
	text-align: right;
	margin: 0px;
	padding: 0px;
}
#tsimed
{
font-family: Consolas,sans-serif; 
	background-color: black;
	color: yellow;
	text-align: right;
	margin: 0px;
	padding: 0px;
}
#tsibad
{
font-family: Consolas,sans-serif; 
	background-color: black;
	color: red;
	text-align: right;
	margin: 0px;
	padding: 0px;
}


#zappright
{
	text-align: right;
	font-weight: bold;
	color: lightgreen;
	margin: 0px;
	padding: 0px;
}

h1 {
	font-family: Copperplate, "Copperplate Gothic Light", fantasy;
	font-size: 80px;
	font-style: italic;
	font-variant: normal;
	font-weight: bold;
	line-height: 50px;
	text-align: center;
	color: red;
	margin: 20px 0px 0px 0px;
}
h2 {
	font-family: Constantia,Verdana,Segoe,sans-serif; 
	font-size: 55px;
	font-variant: normal;
	font-weight: bold;
	text-align: center;
	margin: 0px;
	padding: 0px;
}
h3 {
	font-family: Copperplate, "Copperplate Gothic Light", fantasy;
	font-size: 80px;
	font-style: italic;
	font-variant: normal;
	font-weight: bold;
	line-height: 50px;
	text-align: center;
	color: cyan;
	margin: 20px 0px 0px 0px;
}
h4 {
	font-family: Constantia,Verdana,Segoe,sans-serif; 
	font-size: 55px;
	font-variant: normal;
	font-weight: bold;
	text-align: center;
	line-height:20px;
	margin: 0px;
	padding: 0px;
}
h5 {
	text-align: center;
	margin: 0px;
	padding: 0px;
}
html.porta {
	background: purple;
  background: -webkit-radial-gradient(circle, purple, indigo, blue);
  background: -o-radial-gradient(circle, purple, indigo, blue); /* Opera 11.6 to 12.0 */
  background: -moz-radial-gradient(circle, purple, indigo, blue); /* Firefox 3.6 to 15 */
  background: radial-gradient(circle, purple, indigo, blue); /* Standard syntax */
}
img 
{
    display: block;
    margin: auto;
    width: 40%;
}








</style><no-script role="script" id="twine-user-script" type="text/twine-javascript">











<tw-passagedata pid="1" name="Start" tags="" position="319,77">&lt;span id=&quot;content&quot;&gt;&lt;div style=&quot;text-align: center&quot;&gt;&lt;h4&gt;DESTORY HISTORY&lt;/h4&gt;
Version 1.0
A game by Lucas Coyne

[[Start a new game.-&gt;ms1]]
&lt;/div&gt;

(set: $tsion to false)&lt;/span&gt;</tw-passagedata>
<tw-passagedata pid="2" name="Gettysburg" tags="" position="347,1295">&lt;span id=&quot;content&quot;&gt;(set: $sAbe to false)(set: $sBot to false)(set: $zMan to false)Your head spins as you fall out of the portal, landing in a heap on the ground. 

A nearby man helps you to your feet. He&apos;s dressed in a rather old-fashioned style, with a vest and overcoat. As he looks you up and down, muttering something under his breath, you realize that your lab coat and goggles must be odd to him as well.

But then he&apos;s distracted again by a commotion nearby.

[[Take a look around.-&gt;address]]
(link:&quot;ZAPP the man!&quot;)[(set:$chaos to $chaos+3)(set:$zGetMan to true)(go-to:&quot;zGetMan&quot;)]&lt;/span&gt;</tw-passagedata>
<tw-passagedata pid="3" name="address" tags="" position="348,1427">&lt;span id=&quot;content&quot;&gt;There&apos;s lots of people crowded around a platform here. It looks like you&apos;re... in a cemetery? But there&apos;s definitely an event of some kind going on.

Everyone is currently staring up at the platform, and it&apos;s not hard to guess why. There&apos;s (if: $sBot)[Dr. Malevolus&apos;s robot, Boltsworth,](else:)[[[a robot in a stovepipe hat-&gt;boltsworth]]] at the podium, giving some kind of a speech. (if: $sAbe)[Abraham Lincoln](else:)[A [[tall man-&gt;abe]]] is off to the side, watching with a mixture of confusion and bemusement.

(if: $sBot)[(link:&quot;ZAPP Boltsworth!&quot;)[(set:$chaos to $chaos-6)(set:$zBot to true)(go-to:&quot;zBoltsworth&quot;)]](else:)[(link:&quot;ZAPP the robot!&quot;)[(set:$chaos to $chaos-6)(set:$zBot to true)(go-to:&quot;zBoltsworth&quot;)]]
(if: $sAbe)[(link:&quot;ZAPP Abraham Lincoln!&quot;)[(set:$chaos to $chaos+7)(set:$zAbe to true)(go-to:&quot;zAbe&quot;)]](else:)[(link:&quot;ZAPP the tall man!&quot;)[(set:$chaos to $chaos+7)(set:$zAbe to true)(go-to:&quot;zAbe&quot;)]]
(if: $zGetMan is false)[(link:&quot;No, really, ZAPP that first man!&quot;)[(set:$chaos to $chaos+3)(set:$zGetMan to true)(go-to:&quot;zGetMan&quot;)]]&lt;/span&gt;</tw-passagedata>
<tw-passagedata pid="4" name="zGetMan" tags="" position="201,1413">&lt;span id=&quot;content&quot;&gt;&lt;h1&gt;ZAPP!!!&lt;/h1&gt;
The man has disappeared, all memory of him erased from existence. Somewhere out there, some amateur genealogist suddenly hits a dead-end on researching their family. You feel a little bit bad about that. 

You look down to notice the TSI tick up to $chaos%.

[[Look at the platform-&gt;address]]&lt;/span&gt;</tw-passagedata>
<tw-passagedata pid="5" name="portal1-1" tags="porta" position="348,1163">[[&lt;img src=&quot;http://www.sundialtime.com/sundial/images/kids/spiral.gif&quot; alt=&quot;You fall through a portal...&quot;&gt;-&gt;Gettysburg]]
(set:$tsitime to &quot;NOV 19, 1863 C.E.&quot;)
(set:$tsiplace to &quot;GETTYSBURG, PA&quot;)
(set:$tsion to true)</tw-passagedata>
<tw-passagedata pid="6" name="Header" tags="header" position="61,84">{
(print: &quot;&lt;script&gt;$(&apos;html&apos;).removeClass(\)&lt;/script&gt;&quot;)
(if: (passage:)&apos;s tags&apos;s length &gt; 0)[
(print: &quot;&lt;script&gt;$(&apos;html&apos;).addClass(&apos;&quot; + (passage:)&apos;s tags.join(&apos; &apos;) + &quot;&apos;\)&lt;/script&gt;&quot;)
]
}
</tw-passagedata>
<tw-passagedata pid="7" name="zBoltsworth" tags="" position="254,1561">&lt;span id=&quot;content&quot;&gt;&lt;h1&gt;ZAPP!!!&lt;/h1&gt;
Goodbye, (if: $sBot)[friend Boltsworth](else:)[strange robot]. It&apos;s not your fault that you were used for evil. As soon as the robot has vanished, (if: $sAbe)[Abraham Lincoln](else:)[the tall man on stage] walks up to the podium and the crowd applauds respectfully.

The TSI chirps as the ambient historical chaos ticks down to $chaos%.

That&apos;s one thing fixed. As much as you&apos;d like to stick around and hear the speech, you know it&apos;s time to go.

(link:&quot;Continue onwards.&quot;)[(set:$tsitime to &quot;???&quot;)
(set:$tsiplace to &quot;???&quot;)
(go-to:&quot;portal2-1&quot;)]&lt;/span&gt;</tw-passagedata>
<tw-passagedata pid="8" name="zAbe" tags="" position="390,1560">&lt;span id=&quot;content&quot;&gt;&lt;h1&gt;ZAPP!!!&lt;/h1&gt;
Great work. (if: $sAbe)[You just erased Abraham Lincoln from history. Boy, this is sure going to make a mess out of the history books...](else:)[You just erased someone from history. Better hope they weren&apos;t important. And... you kind of get the feeling that they probably were.]

The TSI beeps loudly as the ambient historical chaos ticks up to $chaos%.

Maybe you should get out of here. (if: $sBot)[You figure *someone* ought to give the Gettysburg Address and Boltsworth isn&apos;t doing too badly. More pressingly,](else:)[It looks like] several people in the crowd have noticed you, and are staring.

(link:&quot;Continue onwards.&quot;)[(set:$tsitime to &quot;???&quot;)
(set:$tsiplace to &quot;???&quot;)
(go-to:&quot;portal2-1&quot;)]&lt;/span&gt;</tw-passagedata>
<tw-passagedata pid="9" name="boltsworth" tags="" position="542,1379">&lt;span id=&quot;content&quot;&gt;Hey, it&apos;s Boltsworth! You&apos;d recognize him anywhere. He&apos;s another one of Dr. Malevolus&apos;s inventions, built to help out around the lab. What&apos;s he doing here?

As you watch, Boltsworth raises one arm and starts speaking.

&quot;FOUR SCORE AND *BZZZT* SEVEN YEARS AGO&quot;
&quot;THE GREAT *BZZZZZZZT* DOCTOR MALEVOLUS FOUNDED&quot;
&quot;*BZZT* THESE UNITED STATES BECAUSE HE IS GREAT&quot;

Oh. That&apos;s what he&apos;s doing here.
(set: $sBot to true)
[[Take another look around.-&gt;address]]
&lt;/span&gt;</tw-passagedata>
<tw-passagedata pid="10" name="abe" tags="" position="538,1504">&lt;span id=&quot;content&quot;&gt;&lt;img src=&quot;https://upload.wikimedia.org/wikipedia/commons/a/ab/Abraham_Lincoln_O-77_matte_collodion_print.jpg&quot;&gt;

This guy looks pretty familiar! Which means... Yes, you&apos;re starting to think you know where you&apos;re at now.

[[Take another look around.-&gt;address]]
(set: $sAbe to true)&lt;/span&gt;</tw-passagedata>
<tw-passagedata pid="11" name="portal2-1" tags="porta" position="381,1794">[[&lt;img src=&quot;http://www.sundialtime.com/sundial/images/kids/spiral.gif&quot; alt=&quot;You fall through a portal...&quot;&gt;-&gt;basilica]]
(set:$tsitime to &quot;DEC 25, 800 C.E.&quot;)
(set:$tsiplace to &quot;ROME, ITALY&quot;)
(set:$tsion to true)</tw-passagedata>
<tw-passagedata pid="12" name="basilica" tags="" position="380,1920">&lt;span id=&quot;content&quot;&gt;You tumble out onto a hard surface, banging your knee pretty good in the process. You&apos;re in another crowd of people, but this time, the nearest person just studiously ignores you.

If the last crowd was old-fashioned, however, this one is practically &lt;em&gt;medieval&lt;/em&gt;, with robes and silks and tunics. You stand out like a sore thumb, but once again everyone else is preoccupied and not paying attention to you.

[[Take a look around.-&gt;coronation]]
(set: $sLeo to false)(set: $sCha to 0)(set: $sHat to false)&lt;/span&gt;</tw-passagedata>
<tw-passagedata pid="13" name="coronation" tags="" position="382,2045">&lt;span id=&quot;content&quot;&gt;You&apos;re in a big stone building with all sorts of columns and arched ceilings. Judging from the elaborate altar and the big golden cross, it&apos;s definitely a church.

Up a few marble steps, (if: $sCha is 0)[[[a regal man-&gt;charlie]]](else:)[(if: $sCha is 1)[Charlemagne](else:)[a king]] kneels on a silken pillow. (if: $sLeo)[The Pope](else:)[A [[robed man-&gt;leo]]] stands nearby, holding (if: $sHat)[a trucker hat](else:)[[[some kind of headwear-&gt;hat]]].

(if: $sCha is 0)[(link:&quot;ZAPP the regal man!&quot;)[(set:$chaos to $chaos+8)(go-to:&quot;zCha&quot;)]](else:)[(if: $sCha is 1)[(link:&quot;ZAPP Charlemagne!&quot;)[(set:$chaos to $chaos+8)(go-to:&quot;zCha&quot;)]](else:)[(link:&quot;ZAPP the king!&quot;)[(set:$chaos to $chaos+8)(go-to:&quot;zCha&quot;)]]]
(if: $sLeo)[(link:&quot;ZAPP the Pope!&quot;)[(set:$chaos to $chaos+5)(go-to:&quot;zLeo&quot;)]](else:)[(link:&quot;ZAPP the robed man!&quot;)[(set:$chaos to $chaos+5)(go-to:&quot;zLeo&quot;)]]
(if: $sHat)[(link:&quot;ZAPP the trucker hat!&quot;)[(set:$chaos to $chaos-6)(go-to:&quot;zHat&quot;)]](else:)[(link:&quot;ZAPP the headwear!&quot;)[(set:$chaos to $chaos-6)(go-to:&quot;zHat&quot;)]]&lt;/span&gt;</tw-passagedata>
<tw-passagedata pid="14" name="charlie" tags="" position="623,1886">&lt;span id=&quot;content&quot;&gt;This guy is quite tall, particularly compared to everyone else in the room. He&apos;s got the kind of face you put on money, with strong features and sharp eyes. And given that everyone in the crowd has their eyes glued to him, you can tell that he&apos;s the one in charge here.

If you had to guess, you&apos;d say this was...

[[Henry VIII?-&gt;charwrong]]
[[Charlemagne?-&gt;charlie2]]
[[Louis XIV?-&gt;charwrong]]&lt;/span&gt;</tw-passagedata>
<tw-passagedata pid="15" name="leo" tags="" position="623,2099">&lt;span id=&quot;content&quot;&gt;The man is wearing some seriously ornate robes, and a pretty distinctive hat. While a few aspects of his clothing seem different than you&apos;d expect, you&apos;re pretty certain that this is the Pope! 

He is looking down at the (if: $sHat)[trucker hat](else:)[[[headwear-&gt;hat]]] in his hands, with his brow furrowed.

[[Take another look around.-&gt;coronation]]
(set: $sLeo to true)&lt;/span&gt;</tw-passagedata>
<tw-passagedata pid="16" name="charlie2" tags="" position="779,1883">&lt;span id=&quot;content&quot;&gt;Charlemagne! Of course.

You feel like you&apos;ve seen paintings of this moment. Or maybe tapestries.
(set: $sCha to 1)
[[Take another look around.-&gt;coronation]]&lt;/span&gt;</tw-passagedata>
<tw-passagedata pid="17" name="charwrong" tags="" position="779,2008">&lt;span id=&quot;content&quot;&gt;Hm. Something about that doesn&apos;t seem right, though. Everyone here is dressed a little too old-fashioned.

Oh well, he&apos;s probably a king of some kind!
(set: $sCha to 2)
[[Take another look around.-&gt;coronation]]&lt;/span&gt;</tw-passagedata>
<tw-passagedata pid="18" name="hat" tags="" position="624,2252">&lt;span id=&quot;content&quot;&gt;Upon closer inspection, this is definitely a trucker hat, the kind with plastic snaps in the back to adjust it to your head&apos;s size. 

On the front of it, big black letters proclaim: 
**DR MALEVOLUS RULZ OK?**
(set: $sHat to true)
[[Take another look around.-&gt;coronation]]&lt;/span&gt;</tw-passagedata>
<tw-passagedata pid="19" name="zCha" tags="" position="224,2299">&lt;span id=&quot;content&quot;&gt;&lt;h1&gt;ZAPP!!!&lt;/h1&gt;
(if: $sCha is 1)[Okay, so, you definitely just erased the first Holy Roman Emperor from history. You feel like for a moment you can sense a great disturbance in academia, as if thousands of medievalists cried out in terror and were suddenly silenced.](else:)[Boy, as soon as you make that decision, you start to feel not great about it. It definitely seems like this was an important guy you just erased.]

The TSI bleeps as the ambient historical chaos climbs to $chaos%.

Everyone suddenly seems a bit confused about what they&apos;re all doing here. When a few notice your presence and odd clothing, they start whispering to one another, so you decide it&apos;s time to go.

(link:&quot;Continue onwards.&quot;)[(set:$tsitime to &quot;???&quot;)
(set:$tsiplace to &quot;???&quot;)
(go-to:&quot;portal3-1&quot;)]&lt;/span&gt;</tw-passagedata>
<tw-passagedata pid="20" name="zLeo" tags="" position="357,2298">&lt;span id=&quot;content&quot;&gt;&lt;h1&gt;ZAPP!!!&lt;/h1&gt;
(if: $sLeo)[Well, there goes the Pope. It&apos;s okay. History had a lot of those, right? You hope this wasn&apos;t one of the important ones.](else:)[That&apos;s another problem solved. You hope. Maybe the whole strategy of firing blindly at historical figures based on gut instinct isn&apos;t the optimal way to preserve history.]

The TSI bleeps as the ambient historical chaos climbs to $chaos%.

Everyone suddenly seems a bit confused about what they&apos;re all doing here. A few notice you and start whispering in suspicion, so it&apos;s probably a good idea to get out of here.

(link:&quot;Continue onwards.&quot;)[(set:$tsitime to &quot;???&quot;)
(set:$tsiplace to &quot;???&quot;)
(go-to:&quot;portal3-1&quot;)]&lt;/span&gt;</tw-passagedata>
<tw-passagedata pid="21" name="zHat" tags="" position="484,2295">&lt;span id=&quot;content&quot;&gt;&lt;h1&gt;ZAPP!!!&lt;/h1&gt;
(if: $sHat)[The trucker hat](else:)[The headwear] vanishes, and the (if: $sLeo)[Pope](else:)[robed man] blinks in confusion. Then another man walks up with a much more regal-looking crown on a small pillow, and the coronation resumes.

The TSI whirrs as the ambient historical chaos diminishes to $chaos%.

As people start to cheer, you briefly wonder if there&apos;s going to be cake. But since you&apos;re unsure if cake has been invented yet, you decide that it&apos;s time to go.

(link:&quot;Continue onwards.&quot;)[(set:$tsitime to &quot;???&quot;)
(set:$tsiplace to &quot;???&quot;)
(go-to:&quot;portal3-1&quot;)]&lt;/span&gt;</tw-passagedata>
<tw-passagedata pid="22" name="portal3-1" tags="porta" position="354,2566">[[&lt;img src=&quot;http://www.sundialtime.com/sundial/images/kids/spiral.gif&quot; alt=&quot;You fall through a portal...&quot;&gt;-&gt;chicago]]
(set:$tsitime to &quot;JUN 21, 1893 C.E.&quot;)
(set:$tsiplace to &quot;CHICAGO, IL&quot;)
(set:$tsion to true)
(set:$malevWin to false)</tw-passagedata>
<tw-passagedata pid="23" name="chicago" tags="" position="353,2700">&lt;span id=&quot;content&quot;&gt;This time, as you fall out of the time portal, you manage to catch yourself without landing face-first in the dirt. You&apos;re getting the hang of this!

[[Take a look around.-&gt;worldsfair]]
(set: $sWhe to false)(set: $sWhD to false)(set: $sMan to false)&lt;/span&gt;</tw-passagedata>
<tw-passagedata pid="24" name="worldsfair" tags="" position="352,2834">&lt;span id=&quot;content&quot;&gt;There&apos;s lots of people around again, but this time they&apos;re strolling to and fro along a boulevard shaded by carefully-planted trees.  Up and down either side of the path are different carnival rides and sideshows, with the operators noisily trying to attract customers.

Ahead of you, however, (if: $sWhe)[the Ferris Wheel](else:)[a [[giant metal wheel-&gt;wheel]]] dominates the entire midway. A (if: $sMan)[worker](else:)[[[man in overalls-&gt;malev]]] seems to be tinkering with the machinery at its base.

(if: $sMan)[(link:&quot;ZAPP the worker!&quot;)[(set:$chaos to $chaos-6)(go-to:&quot;zMan&quot;)]](else:)[(link:&quot;ZAPP the man!&quot;)[(set:$chaos to $chaos-6)(go-to:&quot;zMan&quot;)]]
(if: $sWhe)[(link:&quot;ZAPP the Ferris Wheel!&quot;)[(set:$chaos to $chaos+4)(go-to:&quot;zWhe&quot;)]](else:)[(link:&quot;ZAPP the wheel!&quot;)[(set:$chaos to $chaos+4)(go-to:&quot;zWhe&quot;)]]
(if: $sMan)[[[Confront the worker!-&gt;cMan]]]&lt;/span&gt;</tw-passagedata>
<tw-passagedata pid="25" name="wheel" tags="" position="566,2783">&lt;span id=&quot;content&quot;&gt;Well, this one is pretty obvious. It&apos;s a Ferris Wheel!

A particularly big one though. At the end of each spoke it looks like a whole train car full of seating. Thinking about it some more, you have to think that this has to be *the* Ferris Wheel. Y&apos;know, the very first one.
(set: $sWhe to true)
[[Take another look around.-&gt;worldsfair]]&lt;/span&gt;</tw-passagedata>
<tw-passagedata pid="26" name="zMan" tags="" position="230,3096">&lt;span id=&quot;content&quot;&gt;&lt;h1&gt;ZAPP!!!&lt;/h1&gt;
(if: $sMan is false)[A moment before he disappears, the man looks up and you realize that it was Dr. Malevolus! Boy, sometimes shooting first and asking questions later actually pays off.](else:)[Dr. Malevolus disappears, erased from history.] You breathe a sigh of relief, trying not to think about dwell on what that actually means for the guy. 

Still, one way or another, it seems like you&apos;ve done it. You&apos;ve saved history.

The TSI bloops as the ambient historical chaos declines to $chaos%.

It&apos;s only now that you realize a pretty big problem: you&apos;re not sure how to get back to the present. You can&apos;t control where your prototype history-rewinder sends you, and Dr. Malevolus&apos;s working one vanished along with him. I guess you&apos;ll just have to hope you figure something else out. Maybe you can make sure nothing else is going wrong with history in the meantime?

(link:&quot;Continue onwards.&quot;)[(set:$tsitime to &quot;???&quot;)
(set:$tsiplace to &quot;???&quot;)
(go-to:&quot;portal4-1&quot;)]&lt;/span&gt;</tw-passagedata>
<tw-passagedata pid="27" name="zWhe" tags="" position="229,2960">&lt;span id=&quot;content&quot;&gt;&lt;h1&gt;ZAPP!!!&lt;/h1&gt;
There goes the Ferris Wheel. Good riddance, I guess? Do you have a phobia of heights or do you just hate carnival rides??

The TSI chimes as the ambient historical chaos ticks up to $chaos%.

You suddenly hear someone shout, &quot;No! My magnificent plan!&quot;

[[Look around for the voice.-&gt;cMan]](set: $sWhD to true)&lt;/span&gt;</tw-passagedata>
<tw-passagedata pid="28" name="cMan" tags="" position="363,2962">&lt;span id=&quot;content&quot;&gt;(if: $sWhD is false)[&quot;Hey, you!&quot; you yell out. &quot;Hold it right there!&quot;

The man in overalls leaps up, and turns towards you with a snarl on his face.](else:)[The man who was working on the machinery is advancing in your direction.] 

As soon as you see his face, you immediately recognize him. That malicious glint in his eyes and arrogant sneer on his face... it&apos;s Dr. Malevolus!

And he looks quite upset that you&apos;ve interrupted him! He reaches into the pocket of his overalls and pulls out his freeze ray.

(link:&quot;ZAPP him!&quot;)[(set:$chaos to $chaos-6)(go-to:&quot;zMan&quot;)](set: $sMan2 to true)
[[No, wait, let&apos;s talk this out.-&gt;dTalk]]&lt;/span&gt;</tw-passagedata>
<tw-passagedata pid="29" name="malev" tags="" position="563,2908">&lt;span id=&quot;content&quot;&gt;This guy looks like an worker, probably hired out to fix any of the rides that aren&apos;t working. A few people are milling around the boulevard, waiting to see if he will finish and if the wheel will start moving.

The worker is bent over with his head inside an access hatch to the machinery, so you can&apos;t really get a good look at his face. But when he reaches back to grab a wrench you notice he&apos;s wearing a Rolex.
(set: $sMan to true)
[[Take another look around.-&gt;worldsfair]]&lt;/span&gt;</tw-passagedata>
<tw-passagedata pid="30" name="dTalk" tags="" position="562,3047">&lt;span id=&quot;content&quot;&gt;&quot;Look, maybe we can talk about this,&quot; you say. &quot;I think you&apos;re just worried about your own place in history, and I understand that.&quot;

He pauses, narrowing his eyes at you.

&quot;But this isn&apos;t the way to do things,&quot; you continue. &quot;I&apos;ve seen what you&apos;re capable of. Why not use your knowledge for good? I know you could change the world in a positive way, and secure a *real* legacy for yourself in history.&quot;

He rubs his chin thoughtfully. Then he smiles brightly, having come to a conclusion.

&quot;Nah,&quot; Dr. Malevolus says as he points the freeze ray at you.

&lt;h3&gt;(link:&quot;ZING!!&quot;)[(set:$malevWin to true)(set: $chaos to $chaos+10)(go-to:&quot;contMalev&quot;)]&lt;/h3&gt;&lt;/span&gt;</tw-passagedata>
<tw-passagedata pid="31" name="endFrozen" tags="" position="1911,3231">&lt;span id=&quot;content&quot;&gt;&lt;h1&gt;ZAPP!!!&lt;/h1&gt;
It&apos;s a strange and painful feeling, being erased from history. On the bright side, it&apos;s not like you feel that way for more than an instant.

Police find you a few days later, wandering down the street in a daze. You can&apos;t remember anything about yourself. And despite all their work in tracing your fingerprints, no one else can either.

On the plus side, you don&apos;t feel bad about having screwed up, because you won&apos;t ever remember it in the first place.
(set: $tsion to false)
&lt;h4&gt;**GAME OVER**&lt;/h4&gt;
&lt;h5&gt;([[*try again from the beginning?*-&gt;Start]])&lt;/h5&gt;&lt;/span&gt;</tw-passagedata>
<tw-passagedata pid="32" name="portal4-1" tags="porta" position="388,3371">[[&lt;img src=&quot;http://www.sundialtime.com/sundial/images/kids/spiral.gif&quot; alt=&quot;You fall through a portal...&quot;&gt;-&gt;colonialbeach]]
(set:$tsitime to &quot;APR 7, 1743 C.E.&quot;)
(set:$tsiplace to &quot;FERRY FARM, VA&quot;)
(set:$tsion to true)</tw-passagedata>
<tw-passagedata pid="33" name="colonialbeach" tags="" position="386,3502">&lt;span id=&quot;content&quot;&gt;
This time, when you fall out of the portal you land on your feet. Unfortunately, your feet end up right in a mud puddle, splashing all over your nice white lab coat. Aw, dang.

It&apos;s a lot quieter here than anywhere else you&apos;ve been. You&apos;re surprised by the comparative lack of people. Where did you end up this time?

Or, I guess, &lt;em&gt;when&lt;/em&gt;?

[[Take a look around.-&gt;cherrytree]]
(set: $sBoy to false)(set: $sTre to false)(set: $treechop to false)&lt;/span&gt;</tw-passagedata>
<tw-passagedata pid="34" name="cherrytree" tags="" position="386,3627">&lt;span id=&quot;content&quot;&gt;You&apos;re standing in a field, next to a large, rustic farmhouse with a (if: $sTre)[big cherry tree](else:)[[[big tree-&gt;treelook]]] standing in the front yard. It&apos;s a very nice day, mud puddles aside, with the sun shining and not a cloud in the sky. It fact, it&apos;s kind of *eerily* nice.

(if: $sBoy)[The boy marches across the yard, whistling Yankee Doodle Dandy as he swings his hatchet back and forth. He&apos;s heading right for the tree.](elseif: $sTre)[[[The boy-&gt;boylook]] marches across the yard, whistling Yankee Doodle Dandy as he swings his hatchet idly. He&apos;s heading right for the tree.](else:)[As you watch, the door of the farmhouse opens, and [[a boy-&gt;boylook]] in a tricorn hat walks out, holding a hatchet. He doesn&apos;t seem to notice you.]

(link:&quot;ZAPP the boy!&quot;)[(set:$chaos to $chaos+7)(go-to:&quot;zBoy&quot;)]
(if: $sTre)[(link:&quot;ZAPP the cherry tree!&quot;)[(set:$chaos to $chaos+3)(go-to:&quot;zTree&quot;)]](else:)[(link:&quot;ZAPP the tree!&quot;)[(set:$chaos to $chaos+3)(go-to:&quot;zTree&quot;)]]
[[Wait and see what happens.-&gt;cherrywait]]&lt;/span&gt;</tw-passagedata>
<tw-passagedata pid="35" name="treelook" tags="" position="560,3552">&lt;span id=&quot;content&quot;&gt;This big tree looks positively ancient, with a broad, gnarled trunk. Up in the leaves you see... cherries! Oh, how lovely.

You pause for a minute, glancing again at your TSI on your wrist. Shouldn&apos;t cherries be just blossoming this time of year? The ones on this tree look awfully full and ripe.
(set: $sTre to true)
[[Take another look around.-&gt;cherrytree]]&lt;/span&gt;</tw-passagedata>
<tw-passagedata pid="36" name="zBoy" tags="" position="387,3847">&lt;span id=&quot;content&quot;&gt;&lt;h1&gt;ZAPP!!!&lt;/h1&gt;
The boy vanishes, written out of history. A moment later, the door to the farmhouse opens again, and an older man walks out. (if: $treechop is true)[He takes one look at the fallen cherry tree and his mouth falls open in shock.](else:)[He looks around for a minute, as if he&apos;d forgotten why he came outside in the first place.]

The TSI dings as the ambient historical chaos raises to $chaos%. Hm, looks like whatever you did caused more problems than it solved. Was that kid important, after all?

(if: $treechop is true)[&quot;Who chopped down my cherry tree?&quot; the man demands. Then he notices you, and starts storming across the field in your direction.](else:)[&quot;Hey, you!&quot; the man says. &quot;What are you doing here on my farm?&quot;]

(link:&quot;Beat a hasty retreat.&quot;)[(set:$tsitime to &quot;???&quot;)
(set:$tsiplace to &quot;???&quot;)
(go-to:&quot;portal5-1&quot;)]&lt;/span&gt;</tw-passagedata>
<tw-passagedata pid="37" name="zTree" tags="" position="517,3845">&lt;span id=&quot;content&quot;&gt;&lt;h1&gt;ZAPP!!!&lt;/h1&gt;
The tree pops out of existence(if: $treechop)[, causing the boy to tumble onto the grass. He slowly gets back up on his feet, picking up the hatchet and staring at it in confusion.](else:)[. The boy suddenly halts in the middle of the yard, looking down at his hatchet with confusion. He takes another step forward and then stops again, frowning as he tries to remember what he was doing.]

The TSI clicks as the ambient historical chaos climbs ever-so-slightly to $chaos%. Hm.

The door to the farmhouse opens and a man leans out. &quot;George? What are you doing? Come back inside.&quot; The boy skips back towards the farmhouse again. 

Hm, there&apos;s not much more going on here.

(link:&quot;Continue onwards.&quot;)[(set:$tsitime to &quot;???&quot;)
(set:$tsiplace to &quot;???&quot;)
(go-to:&quot;portal5-1&quot;)]&lt;/span&gt;</tw-passagedata>
<tw-passagedata pid="38" name="cherrywait" tags="" position="252,3791">&lt;span id=&quot;content&quot;&gt;The boy grins as he strolls over to the the tree. With a few swift chops, he cuts right through the trunk and the whole tree crashes to the ground, sending leaves and cherries scattering everywhere.

He nods to himself, and then climbs up to sit on the fallen trunk, the hatchet in his lap.(set: $treechop to true)

(link:&quot;ZAPP the boy!&quot;)[(set:$chaos to $chaos+7)(go-to:&quot;zBoy&quot;)]
(if: $sTre)[(link:&quot;ZAPP the cherry tree!&quot;)[(set:$chaos to $chaos+3)(go-to:&quot;zTree&quot;)]](else:)[(link:&quot;ZAPP the tree!&quot;)[(set:$chaos to $chaos+3)(go-to:&quot;zTree&quot;)]]
(link:&quot;Nah, let&apos;s just move on.&quot;)[(set:$tsitime to &quot;???&quot;)
(set:$tsiplace to &quot;???&quot;)
(go-to:&quot;portal5-1&quot;)]&lt;/span&gt;</tw-passagedata>
<tw-passagedata pid="39" name="boylook" tags="" position="569,3690">&lt;span id=&quot;content&quot;&gt;He looks to be about eleven or twelve years old, and is dressed in his tricorn hat and trousers and a little blue vest. There&apos;s something very... presidential about this boy. As he hefts his hatchet, he grins slyly and you also can&apos;t help notice that his teeth are made of wood.

Something about this whole situation strikes you as very, very off.
(set: $sBoy to true)
[[Take another look around.-&gt;cherrytree]]&lt;/span&gt;</tw-passagedata>
<tw-passagedata pid="40" name="romelanding" tags="" position="301,4235">&lt;span id=&quot;content&quot;&gt;You land with another splash, this time knee-deep in a decorative fountain. 

At least that seemed to wash some of the mud off. That&apos;s what you keep telling yourself as you step out and try to wring the water out of your labcoat.

[[Take a look around.-&gt;romeburning]]
(set: $sNer to false)(set: $sFid to false)(set: $fiddleprog to 0)&lt;/span&gt;</tw-passagedata>
<tw-passagedata pid="41" name="romeburning" tags="" position="302,4361">&lt;span id=&quot;content&quot;&gt;It&apos;s night, but you don&apos;t see any stars in the sky. It doesn&apos;t take long to realize why. A cloud of thick smoke hangs above you, with soot and ash floating down in occasional flakes.

You&apos;re in a lavish garden, the greenery and flowers interspersed with marble columns and statuary. Off in the distance, you see a large hill, with raging flames enveloping the houses crowded along its slopes.

A (if: $sNer)[portly man](else:)[[[portly man-&gt;Nero]]] sits on a bench, fiddling with the knobs of (if: $sFid)[a fiddle](else:)[[[some instrument-&gt;Fiddle]]].

(link:&quot;ZAPP the man!&quot;)[(set:$chaos to $chaos+9)(go-to:&quot;zNero&quot;)]
(if: $sFid)[(link:&quot;ZAPP the fiddle!&quot;)[(set:$chaos to $chaos+2)(go-to:&quot;zFiddle&quot;)]](else:)[(link:&quot;ZAPP the instrument!&quot;)[(set:$chaos to $chaos+2)(go-to:&quot;zFiddle&quot;)]]
(link:&quot;Wait and see what happens.&quot;)[(set:$fiddleprog to $fiddleprog+1)(go-to:&quot;Rome2&quot;)]&lt;/span&gt;</tw-passagedata>
<tw-passagedata pid="42" name="Nero" tags="" position="632,4363">&lt;span id=&quot;content&quot;&gt;This man is a little on the large side, and wears a white toga and some sort of crown of golden leaves. He seems entirely unconcerned with the fires currently raging a mile or so away.

When he looks up and notices you, he smiles broadly. It&apos;s the kind of expression that leaves you a little uneasy.
(set: $sNer to true)
(link:&quot;Quick, ZAPP him!&quot;)[(set:$chaos to $chaos+9)(go-to:&quot;zNero&quot;)]
(if: $fiddleprog is 0)[(link:&quot;Take another look around.&quot;)[(set:$fiddleprog to $fiddleprog+1)(go-to:&quot;Rome2&quot;)]](elseif: $fiddleprog is 1)[(link:&quot;Take another look around.&quot;)[(set:$fiddleprog to $fiddleprog+1)(go-to:&quot;Rome3&quot;)]](elseif: $fiddleprog is 2)[(link:&quot;Take another look around.&quot;)[(set:$fiddleprog to $fiddleprog+1)(go-to:&quot;Rome4&quot;)]](else:)[(link:&quot;Take another look around.&quot;)[(set:$fiddleprog to $fiddleprog+1)(go-to:&quot;Rome5&quot;)]]&lt;/span&gt;</tw-passagedata>
<tw-passagedata pid="43" name="Fiddle" tags="" position="757,4477">&lt;span id=&quot;content&quot;&gt;The instrument is a violin, and a rather nice one. Or maybe it&apos;s a fiddle? Or is that two names for the same instrument?

You would look it up on Wikipedia, but it&apos;s not like you&apos;re going to get 4G coverage here. Still, you&apos;re pretty certain the thing was invented way later than the times when people hung out in togas.
(set: $sFid to true)
(link:&quot;ZAPP the fiddle!&quot;)[(set:$chaos to $chaos+2)(go-to:&quot;zFiddle&quot;)]
(if: $fiddleprog is 0)[(link:&quot;Take another look around.&quot;)[(set:$fiddleprog to $fiddleprog+1)(go-to:&quot;Rome2&quot;)]](elseif: $fiddleprog is 1)[(link:&quot;Take another look around.&quot;)[(set:$fiddleprog to $fiddleprog+1)(go-to:&quot;Rome3&quot;)]](elseif: $fiddleprog is 2)[(link:&quot;Take another look around.&quot;)[(set:$fiddleprog to $fiddleprog+1)(go-to:&quot;Rome4&quot;)]](else:)[(link:&quot;Take another look around.&quot;)[(set:$fiddleprog to $fiddleprog+1)(go-to:&quot;Rome5&quot;)]]&lt;/span&gt;</tw-passagedata>
<tw-passagedata pid="44" name="zNero" tags="" position="324,4839">&lt;span id=&quot;content&quot;&gt;&lt;h1&gt;ZAPP!!!&lt;/h1&gt;
The man and his toga vanish, leaving behind his instrument and the solitary circlet of golden leaves he was wearing. How important could he have been though, really? Right?

The TSI buzzes as the ambient historical chaos raises to $chaos%.

A guard in golden armor strolls through the garden, and when he sees you, he yells out something in a language you don&apos;t understand and raises a spear threateningly.

(link:&quot;Time to get out of here!&quot;)[(set:$tsitime to &quot;???&quot;)
(set:$tsiplace to &quot;???&quot;)
(go-to:&quot;portal6-1&quot;)]&lt;/span&gt;</tw-passagedata>
<tw-passagedata pid="45" name="zFiddle" tags="" position="472,4840">&lt;span id=&quot;content&quot;&gt;&lt;h1&gt;ZAPP!!!&lt;/h1&gt;
The fiddle poofs away, eliminated from the flow of history. You smile, happy to have corrected something, no matter how minor.

Then you frown, as the TSI whirrs and shows the historical instability raising to $chaos%.

The man is glaring in your direction, much less happy without his instrument. He yells out something you don&apos;t understand, and two guards holding spears arrive from behind some hedges.

(link:&quot;Time to get out of here!&quot;)[(set:$tsitime to &quot;???&quot;)
(set:$tsiplace to &quot;???&quot;)
(go-to:&quot;portal6-1&quot;)]&lt;/span&gt;</tw-passagedata>
<tw-passagedata pid="46" name="Rome2" tags="" position="407,4486">&lt;span id=&quot;content&quot;&gt;The (if: $sNer)[man](else:)[[[man-&gt;Nero]]] finally finishes tuning his (if: $sFid)[fiddle](else:)[[[instrument-&gt;Fiddle]]] and stands up. He balances it against his collarbone and gracefully lays a bow across the (if: $sFid)[fiddle](else:)[instrument]&apos;s strings.

In the distance you can hear the faint sounds of screams, coming from the direction of the fire.

(link:&quot;ZAPP the man!&quot;)[(set:$chaos to $chaos+9)(go-to:&quot;zNero&quot;)]
(if: $sFid)[(link:&quot;ZAPP the fiddle!&quot;)[(set:$chaos to $chaos+2)(go-to:&quot;zFiddle&quot;)]](else:)[(link:&quot;ZAPP the instrument!&quot;)[(set:$chaos to $chaos+2)(go-to:&quot;zFiddle&quot;)]]
(link:&quot;Wait and see what happens.&quot;)[(set:$fiddleprog to $fiddleprog+1)(go-to:&quot;Rome3&quot;)]&lt;/span&gt;</tw-passagedata>
<tw-passagedata pid="47" name="Rome3" tags="" position="524,4611">&lt;span id=&quot;content&quot;&gt;Flames flicker on the distant hill. You cough, as even this far away, the air is hazy with smoke.

The (if: $sNer)[man](else:)[[[man-&gt;Nero]]] draws the bow across the strings of the (if: $sFid)[fiddle](else:)[[[instrument-&gt;Fiddle]]]. A single note hangs in the air, and it&apos;s pretty nice.

(link:&quot;ZAPP the man!&quot;)[(set:$chaos to $chaos+9)(go-to:&quot;zNero&quot;)]
(if: $sFid)[(link:&quot;ZAPP the fiddle!&quot;)[(set:$chaos to $chaos+2)(go-to:&quot;zFiddle&quot;)]](else:)[(link:&quot;ZAPP the instrument!&quot;)[(set:$chaos to $chaos+2)(go-to:&quot;zFiddle&quot;)]]
(link:&quot;Wait and see what happens.&quot;)[(set:$fiddleprog to $fiddleprog+1)(go-to:&quot;Rome4&quot;)]&lt;/span&gt;</tw-passagedata>
<tw-passagedata pid="48" name="Rome4" tags="" position="649,4720">&lt;span id=&quot;content&quot;&gt;Nevermind. The (if: $sNer)[man](else:)[[[man-&gt;Nero]]] begins playing in earnest, and it&apos;s clear that he&apos;s never touched a(if: $sFid)[ fiddle](else:)[n [[instrument-&gt;Fiddle]]] before in his life. This is really, really dreadful.

(link:&quot;ZAPP the man!&quot;)[(set:$chaos to $chaos+9)(go-to:&quot;zNero&quot;)]
(if: $sFid)[(link:&quot;ZAPP the fiddle!&quot;)[(set:$chaos to $chaos+2)(go-to:&quot;zFiddle&quot;)]](else:)[(link:&quot;ZAPP the instrument!&quot;)[(set:$chaos to $chaos+2)(go-to:&quot;zFiddle&quot;)]]
(link:&quot;Wait and see what happens.&quot;)[(set:$fiddleprog to $fiddleprog+1)(go-to:&quot;Rome5&quot;)]&lt;/span&gt;</tw-passagedata>
<tw-passagedata pid="49" name="Rome5" tags="" position="766,4845">&lt;span id=&quot;content&quot;&gt;You know what? No more waiting. You&apos;re beginning to envy the people dealing with the fire right now, as it&apos;s just about that bad, somehow.

Plus, the guy is staring right at you now with a creepy smile on his face. You&apos;re pretty certain when he finishes, he&apos;s going to ask you how much you enjoyed the music, and you get the feeling he&apos;s not a fan of constructive criticism.

(link:&quot;ZAPP the man!&quot;)[(set:$chaos to $chaos+9)(go-to:&quot;zNero&quot;)]
(if: $sFid)[(link:&quot;ZAPP the fiddle!&quot;)[(set:$chaos to $chaos+2)(go-to:&quot;zFiddle&quot;)]](else:)[(link:&quot;ZAPP the instrument!&quot;)[(set:$chaos to $chaos+2)(go-to:&quot;zFiddle&quot;)]]
(link:&quot;Continue onwards.&quot;)[(set:$tsitime to &quot;???&quot;)
(set:$tsiplace to &quot;???&quot;)
(go-to:&quot;portal6-1&quot;)]&lt;/span&gt;</tw-passagedata>
<tw-passagedata pid="50" name="portal6-1" tags="porta" position="370,5142">[[&lt;img src=&quot;http://www.sundialtime.com/sundial/images/kids/spiral.gif&quot; alt=&quot;You fall through a portal...&quot;&gt;-&gt;versailles]]
(set:$tsitime to &quot;OCT 5, 1789 C.E.&quot;)
(set:$tsiplace to &quot;VERSAILLES, FRANCE&quot;)
(set:$tsion to true)</tw-passagedata>
<tw-passagedata pid="51" name="portal5-1" tags="porta" position="304,4103">[[&lt;img src=&quot;http://www.sundialtime.com/sundial/images/kids/spiral.gif&quot; alt=&quot;You fall through a portal...&quot;&gt;-&gt;romelanding]]
(set:$tsitime to &quot;JUL 7, 64 C.E.&quot;)
(set:$tsiplace to &quot;ROME, ITALY&quot;)
(set:$tsion to true)</tw-passagedata>
<tw-passagedata pid="52" name="versailles" tags="" position="369,5273">&lt;span id=&quot;content&quot;&gt;You fall out of the portal, landing with cat-like agility. Ha! Not getting wet *this* time.
(set: $sMar to false)(set: $sCake to false)(set: $zHarp to false)(set: $hasCake to false)
You&apos;re still no closer to finding a way back home, and that&apos;s starting to worry you. Will your broken history-rewinder not send you back until you&apos;ve fixed everything? But it doesn&apos;t seem like Dr. Malevolus was involved with the last couple of places you&apos;ve landed in, either. Regardless, you&apos;re not making any forward progress.

What if you&apos;re stuck careening from time to time for the rest of your natural life? Even if you do find sometime that you could stay in, would it even be real? It hurts your head to think about it all.

[[Take a look around.-&gt;palace]]&lt;/span&gt;</tw-passagedata>
<tw-passagedata pid="53" name="palace" tags="" position="367,5409">&lt;span id=&quot;content&quot;&gt;You&apos;re standing in a fabulously ornate parlor, with high ceilings that are decorated with elaborate paintings. Just about everything in here is covered in a layer of gold, including the furniture and the clocks and the fireplace.

A (if: $sMar)[noblewoman](else:)[[[woman-&gt;marie]]] reclines on a chaise longue. In one hand she holds a china plate with a delectable (if: $sCake)[piece of red velvet cake](else:)[[[piece of cake-&gt;cake]]] on it. In the background you can hear the melody of a harpsichord, played by a servant in one corner of the room.

(link:&quot;ZAPP the woman!&quot;)[(set:$chaos to $chaos+8)(go-to:&quot;zMarie&quot;)]
(link:&quot;ZAPP the harpsichord!&quot;)[(set:$chaos to $chaos+1)(go-to:&quot;zHarp&quot;)]
(if: $sCake)[(link:&quot;ZAPP the cake!&quot;)[(set:$chaos to $chaos+3)(go-to:&quot;zCake&quot;)]
][[Wait and see what happens.-&gt;waitVersailles]]&lt;/span&gt;</tw-passagedata>
<tw-passagedata pid="54" name="marie" tags="" position="624,5275">&lt;span id=&quot;content&quot;&gt;This woman wears an elaborate dress, and her hair is powdered and pulled up into a bouffant. Given her attire and the decoration of the room, you&apos;re quite certain she&apos;s a noblewoman. Probably royalty at that.
(set: $sMar to true)
Your history-rewinder seems to keep bringing you to people like this. Is it because there&apos;s something wrong? Or is it just because they&apos;re important? Or because people &lt;em&gt;think&lt;/em&gt; they&apos;re important? Is there a difference? Hm.

[[Take another look around.-&gt;palace]]&lt;/span&gt;</tw-passagedata>
<tw-passagedata pid="55" name="cake" tags="" position="622,5410">&lt;span id=&quot;content&quot;&gt;Ooh, red velvet. Looks delicious.
(set: $sCake to true)
(link:&quot;ZAPP the cake!&quot;)[(set:$chaos to $chaos+3)(go-to:&quot;zCake&quot;)]
[[Take another look around.-&gt;palace]]&lt;/span&gt;</tw-passagedata>
<tw-passagedata pid="56" name="zMarie" tags="" position="810,5693">&lt;span id=&quot;content&quot;&gt;&lt;h1&gt;ZAPP!!!&lt;/h1&gt;
The woman vanishes, leaving behind her cake. You are just considering whether it&apos;d be proper to take it when the servant swoops in and beats you to the punch.

The TSI buzzes as the ambient historical chaos climbs to $chaos%. 

(link:&quot;ZAPP the servant!&quot;)[(set: $chaos to $chaos+2)(go-to:&quot;zServant&quot;)]
[[Walk out onto the balcony.-&gt;balcony]]&lt;/span&gt;</tw-passagedata>
<tw-passagedata pid="57" name="zHarp" tags="" position="201,5551">&lt;span id=&quot;content&quot;&gt;&lt;h1&gt;ZAPP!!!&lt;/h1&gt;
Given the abrupt lack of harpsichord, the servant looks remarkably confused. He stands and begins polishing the mantel of the room&apos;s fireplace.

The TSI clicks as the ambient historical chaos increments to $chaos%. 

[[You hear a commotion outside...-&gt;waitVersailles]]&lt;/span&gt;</tw-passagedata>
<tw-passagedata pid="58" name="waitVersailles" tags="" position="510,5559">&lt;span id=&quot;content&quot;&gt;(if: $zHarp is false)[The dulcet plinking of the harpsichord is momentarily interrupted by some commotion outside.] The woman gestures, and the servant gets up to go open a door and step out onto a balcony.

A moment later, the servant rushes back in. &quot;Madame!&quot; he cries out. &quot;The people are revolting!&quot;

The woman raises one hand to her mouth in shock. &quot;What? Why?&quot;

&quot;Because they have no bread,&quot; the servant explains.

(link:&quot;ZAPP the woman!&quot;)[(set:$chaos to $chaos+8)(go-to:&quot;zMarie&quot;)]
(if: $sCake)[(link:&quot;ZAPP the cake!&quot;)[(set:$chaos to $chaos+3)(go-to:&quot;zCake&quot;)]
][[Wait and see what happens.-&gt;wait2Versailles]]&lt;/span&gt;</tw-passagedata>
<tw-passagedata pid="59" name="zCake" tags="" position="666,5692">&lt;span id=&quot;content&quot;&gt;&lt;h1&gt;ZAPP!!!&lt;/h1&gt;
You briefly mourn the loss of a perfectly good piece of cake, but some sacrifices must be made for the greater good.

The TSI dings as the ambient historical chaos ticks up to $chaos%. 

Try as you might, none of this seems to be working out quite right.

[[Walk out onto the balcony.-&gt;balcony]]&lt;/span&gt;</tw-passagedata>
<tw-passagedata pid="60" name="wait2Versailles" tags="" position="511,5694">&lt;span id=&quot;content&quot;&gt;The woman&apos;s eyes drift down to the plate in her hand. She smiles, looking a little relieved.

&quot;Well, then, let them eat cake!&quot;

(link:&quot;ZAPP the woman!&quot;)[(set:$chaos to $chaos+8)(go-to:&quot;zMarie&quot;)]
[[Walk out onto the balcony.-&gt;balcony]]&lt;/span&gt;</tw-passagedata>
<tw-passagedata pid="61" name="balcony" tags="" position="510,5836">&lt;span id=&quot;content&quot;&gt;When you step outside, you can see more clearly what&apos;s going on. You&apos;re standing on the second floor balcony of a palace, looking out into a large open courtyard. Right now that courtyard is full of angry, shouting people, many of them women.

This whole traveling through history thing is starting to look like a total disaster. You&apos;ve got to find a solution, because you&apos;re rapidly losing hope that you&apos;ll ever get out of here.(if: $hasCake)[

At least you have some cake. You take a bite. It&apos;s really good!]

(link:&quot;Continue onwards.&quot;)[(set:$tsitime to &quot;???&quot;)
(set:$tsiplace to &quot;???&quot;)
(go-to:&quot;portal7-1&quot;)]&lt;/span&gt;</tw-passagedata>
<tw-passagedata pid="62" name="zServant" tags="" position="931,5831">&lt;span id=&quot;content&quot;&gt;&lt;h1&gt;ZAPP!!!&lt;/h1&gt;
Okay, that was just *mean*. But now you have a plate of cake, I guess, and no one else to stop you from enjoying it.

The TSI bings as the ambient historical chaos ticks up to $chaos%. 
(set: $hasCake to true)
[[Walk out onto the balcony.-&gt;balcony]]&lt;/span&gt;</tw-passagedata>
<tw-passagedata pid="63" name="ms2" tags="" position="451,265">&lt;span id=&quot;content&quot;&gt;So here you are, in the basement laboratory, about to embark upon an adventure and/or explode. There&apos;s a lot of bubbling chemicals(click-replace: &quot;a lot of bubbling chemicals&quot;)[several machines that beep and occasionally emit sparks(click-replace: &quot;several machines that beep and occasionally emit sparks&quot;)[some human skulls with candles on them]] but you&apos;re pretty certain those are just for show. The really important device is clipped to your belt.

&quot;Pay attention!&quot; Dr. Malevolus says. &quot;You must follow my instructions &lt;em&gt;exactly&lt;/em&gt;. I will not tolerate failure!&quot;

He jams a piece of paper into your hands, and then scuttles off to hide behind a piece of radiation shielding.

[[Check all your equipment one more time.-&gt;ms3]]
[[No time, let&apos;s go!-&gt;portal0-1]]
&lt;/span&gt;</tw-passagedata>
<tw-passagedata pid="64" name="ms1" tags="" position="319,260">&lt;span id=&quot;content&quot;&gt;You never should have taken a job working for a mad scientist.

I mean, &lt;em&gt;sure&lt;/em&gt; the pay was alright, and you didn&apos;t have a lot of other options, and you figured you would get used to the occasional bouts of maniacal laughter. At first, he seemed totally harmless, a rich eccentric playing around with science experiments that would never work.

And now, here you are, about to activate an experimental device that will either work and send you hurtling backwards through history, or fail and possibly explode.

[[And the job doesn&apos;t even cover health insurance!-&gt;ms2]]
&lt;/span&gt;</tw-passagedata>
<tw-passagedata pid="65" name="ms3" tags="" position="589,264">&lt;span id=&quot;content&quot;&gt;The history-rewinder is pretty unassuming. It just looks like an egg timer that you&apos;ve clipped to your belt. According to Dr. Malevolus though, there&apos;s a microfusion reactor inside it, so you should probably make sure not to drop it or anything. It&apos;s not exactly a time machine, but instead sends you into the collective unconscious of the past. So... theoretically you can&apos;t change what happens in the past, only the way those things are remembered.

On one wrist, you have the TSI, or temporal stability index. It&apos;s like a big clunky watch that tells you vital information about when and where you are, as well as giving a very general indication of how much history deviates from reality.

Finally, you have the Zero-degree Anomalous Potentiality Purger, which looks like a space-age raygun. You just point and shoot this thing and whatever you hit gets erased from the timeline. That is, if &lt;em&gt;any&lt;/em&gt; of this stuff actually works.

Oh, and you have your labcoat and plastic goggles. Safety first!

[[Okay, let&apos;s go!-&gt;portal0-1]]
&lt;/span&gt;</tw-passagedata>
<tw-passagedata pid="66" name="portal0-1" tags="porta" position="450,416">[[&lt;img src=&quot;http://www.sundialtime.com/sundial/images/kids/spiral.gif&quot; alt=&quot;You fall through a portal...&quot;&gt;-&gt;ph1]]</tw-passagedata>
<tw-passagedata pid="67" name="SideTitle" tags="header" position="62,209">&lt;span id=&quot;titlebox&quot;&gt;&lt;h2&gt;DESTORY HISTORY&lt;/h2&gt; (link:&quot;save&quot;)[(if:(savegame:&quot;dhsave&quot;))[saved!](else:)[Error: Could not save.]] (if:(saved-games:) contains &quot;dhsave&quot;)[(link:&quot;load&quot;)[(loadgame:&quot;dhsave&quot;)]](else:)[load] [[restart-&gt;Start]]

(if:$tsion)[&lt;span id=&quot;tsibox&quot;&gt;&lt;div id=&quot;tsititle&quot;&gt;T.S.I. v0.9&lt;/div&gt; CHRONOLOGIC LOCATION: (if: $tsitime is &quot;N/A&quot; or $tsitime is &quot;???&quot;)[&lt;div id=&quot;tsibad&quot;&gt;$tsitime&lt;/div&gt;](else:)[&lt;div id=&quot;tsiright&quot;&gt;$tsitime&lt;/div&gt;] GEOGRAPHIC LOCATION: (if: $tsiplace is &quot;N/A&quot; or $tsiplace is &quot;???&quot;)[&lt;div id=&quot;tsibad&quot;&gt;$tsiplace&lt;/div&gt;](else:)[&lt;div id=&quot;tsiright&quot;&gt;$tsiplace&lt;/div&gt;] HISTORICAL INSTABILITY: (if:$chaos&lt;10)[&lt;div id=&quot;tsigood&quot;&gt;$chaos%&lt;/div&gt;](elseif:$chaos&lt;30)[&lt;div id=&quot;tsimed&quot;&gt;$chaos%&lt;/div&gt;](else:)[&lt;div id=&quot;tsibad&quot;&gt;$chaos%&lt;/div&gt;] Z.A.P.P. STATUS: &lt;div id=&quot;zappright&quot;&gt;READY&lt;/div&gt;&lt;/span&gt;]&lt;/span&gt;</tw-passagedata>
<tw-passagedata pid="68" name="ph1" tags="" position="599,533">&lt;span id=&quot;content&quot;&gt;You tumble out onto some grass, your head still swirling from the journey. That was certainly an experience!

Amazingly, the history-rewinder seemed to work! You feel a little bit giddy, even though this raises a whole lot of questions. You&apos;re not certain if you&apos;re actually in the past, but you&apos;re definitely somewhere other than the lab.

As you stand up and take a look around, it seems like you&apos;re in a small clearing in the middle of a jungle. The plants here are out of control. Some of the ferns are twice as tall as you are!

[[Read Dr. Malevolus&apos;s instructions.-&gt;ph2]]
&lt;/span&gt;</tw-passagedata>
<tw-passagedata pid="69" name="ph2" tags="" position="732,535">&lt;span id=&quot;content&quot;&gt;You take another look at the piece of paper Dr. Malevolus left you.

&lt;div style=&quot;font: small-caps bold 24px Book Antiqua, serif; background-color:ghostwhite; padding: 20px 20px 20px 20px; width: 600px&quot;&gt;Testing Requirements

 1) Activate the History-Rewinder
 2) Calibrate the Temporal Stability Index
 3) Enact a controlled alteration of the timeline

 DO NOT FAIL ME!!!&lt;/div&gt;
Boy, that guy needs to chill out. You definitely did the first thing already, so you can move onto the second step.

[[Calibrate the TSI-&gt;ph3]]&lt;/span&gt;</tw-passagedata>
<tw-passagedata pid="70" name="ph3" tags="" position="863,532">&lt;span id=&quot;content&quot;&gt;You check the device on your wrist. For a second, you think it might be broken, until realizing you just need to turn it on.

(link:&quot;Turn it on.&quot;)[(set:$tsion to true)
(set:$tsitime to &quot;APR 10, 147231392 B.C.E.&quot;)
(set:$tsiplace to &quot;PREHISTORIC EUROPE&quot;)
(set:$chaos to 1)(go-to:&quot;ph4&quot;)]
&lt;/span&gt;</tw-passagedata>
<tw-passagedata pid="71" name="ph4" tags="" position="996,530">&lt;span id=&quot;content&quot;&gt;With a beep, the temporal stability index comes on. Numbers scroll across its readouts quickly for a moment before stabilizing.

Wow, according to this, you&apos;re in the very very very distant past. That can&apos;t possibly be right. Right?

A dinosaur runs out from behind a fern and freezes as it sees you. It chirps and then scurries away back into the underbrush.

Whoa.

[[Time to change history.-&gt;ph5]]&lt;/span&gt;</tw-passagedata>
<tw-passagedata pid="72" name="ph5" tags="" position="1132,527">&lt;span id=&quot;content&quot;&gt;Right, so, now you should change something. I mean, presumably even being here is changing history very slightly, but Dr. Malevolus assured you that natural temporal elasticity means that you would have to do something very deliberate for it to &apos;stick.&apos;

That&apos;s why you have the ZAPPer. Just point and shoot, and something will vanish from history forever! You don&apos;t understand exactly how that works, but figure it&apos;s worth a try. It&apos;s not like you have to worry about time paradoxes - you&apos;re not &lt;em&gt;actually&lt;/em&gt; in the past, but rather in &lt;em&gt;history&lt;/em&gt;, a kind of collective unconscious about the past. So you can only change what people remember, not what actually happened.

Still, it feels like an awfully big decision to have to make. A butterfly flutters into the clearing while you ponder.

(link:&quot;ZAPP the butterfly!&quot;)[(set:$chaos to $chaos+2)(set:$zBut to true)(go-to:&quot;zButterfly&quot;)]
(link:&quot;ZAPP a fern or something!&quot;)[(set:$chaos to $chaos+1)(set:$zFern to true)(go-to:&quot;zFern&quot;)]
[[Actually, let&apos;s not ZAPP anything.-&gt;phNoZap]]
&lt;/span&gt;(set: $zBut to false)(set: $zFern to false)</tw-passagedata>
<tw-passagedata pid="73" name="Variable Initialization" tags="startup" position="62,369">(set:$tsion to false)</tw-passagedata>
<tw-passagedata pid="74" name="zButterfly" tags="" position="1009,656">&lt;span id=&quot;content&quot;&gt;&lt;h1&gt;ZAPP!!!&lt;/h1&gt;
The butterfly vanishes, erased from history. You&apos;re not sure how much people remember about a single butterfly that&apos;s millions and millions of years in the past, but... presumably that one point of decision must have affected a tremendous amount of other things over time?

The TSI boops as the ambient historical chaos rises to $chaos%. Guess it couldn&apos;t have affected &lt;em&gt;that&lt;/em&gt; much, then. Time must be pretty elastic after all.

Still, that should work as a test. Maybe you should report back to Dr. Malevolus?

(link:&quot;Head back to the present.&quot;)[(set:$tsitime to &quot;???&quot;)
(set:$tsiplace to &quot;???&quot;)
(go-to:&quot;portalp-1&quot;)]
(if:$zFern is false)[(link:&quot;Actually, let&apos;s ZAPP a fern, too.&quot;)[(set:$chaos to $chaos+1)(set:$zFern to true)(go-to:&quot;zFern&quot;)]]
&lt;/span&gt;</tw-passagedata>
<tw-passagedata pid="75" name="zFern" tags="" position="1149,654">&lt;span id=&quot;content&quot;&gt;&lt;h1&gt;ZAPP!!!&lt;/h1&gt;
You fire randomly out into the jungle. It looks like you hit something or another, because the TSI beeps and the historical instability raises marginally to $chaos.

Worst case scenario, there&apos;s probably some poor botanical paleontologist in the present who suddenly can&apos;t remember what they&apos;ve been studying for the past year. But at least you&apos;ve finished the test for Dr. Malevolus.

(link:&quot;Head back to the present.&quot;)[(set:$tsitime to &quot;???&quot;)
(set:$tsiplace to &quot;???&quot;)
(go-to:&quot;portalp-1&quot;)]
(if: $zBut is false)[(link:&quot;Actually, let&apos;s ZAPP that butterfly too.&quot;)[(set:$chaos to $chaos+2)(set:$zBut to true)(go-to:&quot;zButterfly&quot;)]]
&lt;/span&gt;</tw-passagedata>
<tw-passagedata pid="76" name="phNoZap" tags="" position="1275,653">&lt;span id=&quot;content&quot;&gt;On second thought, you&apos;re not certain how comfortable you are with erasing things from history, even if they&apos;re relatively minor. 

You&apos;ve proven you can travel back in history... that&apos;s got to be good enough, right? Dr. Malevolus will probably be angry, but he&apos;s &lt;em&gt;always&lt;/em&gt; angry, so it&apos;s a wash.

You hang around a moment, marveling at the gargantuan prehistoric flora. Then you hear something very big roar nearby and decide that you&apos;d rather skip admiring the fauna.

(link:&quot;Head back to the present.&quot;)[(set:$tsitime to &quot;???&quot;)
(set:$tsiplace to &quot;???&quot;)
(go-to:&quot;portalp-1&quot;)]&lt;/span&gt;</tw-passagedata>
<tw-passagedata pid="77" name="portalp-1" tags="porta" position="1146,799">[[&lt;img src=&quot;http://www.sundialtime.com/sundial/images/kids/spiral.gif&quot; alt=&quot;You fall through a portal...&quot;&gt;-&gt;lab1]]
(set:$tsitime to &quot;N/A&quot;)
(set:$tsiplace to &quot;N/A&quot;)
</tw-passagedata>
<tw-passagedata pid="78" name="lab1" tags="" position="87,794">&lt;span id=&quot;content&quot;&gt;As you stumble out of the portal, you find yourself back in the basement laboratory of Dr. Malevolus. He pokes his head up above the radiation shielding to peer at you.

&quot;You&apos;re back!&quot; he exclaims. &quot;Did you successfully complete the tests??&quot;

(if: $zFern or $zBut)[&quot;Yes,&quot; you say.](else:)[&quot;Uh... yes,&quot; you say.] &quot;I can hardly believe it, but your time machine actually works.&quot;

&quot;It&apos;s not a time machine,&quot; Dr. Malevolus snaps. &quot;But no matter! The first phase of my nefarious plan is complete!&quot;

As he breaks out into hysterical laughter, you begin to have second thoughts about trusting him with the history-rewinder.

[[Try to sneak away.-&gt;lab2a]]
[[Ask about his plan.-&gt;lab2b]]&lt;/span&gt;</tw-passagedata>
<tw-passagedata pid="79" name="lab2a" tags="" position="80,932">&lt;span id=&quot;content&quot;&gt;You back away from Dr. Malevolus, edging towards the door. You&apos;re almost there when he notices.

&quot;Hold it!&quot; he yells out, and steps forward. He&apos;s got a device in his hand that looks a little like the ZAPPer. &quot;Just where do you think you&apos;re going?&quot;

&quot;I think it&apos;s time for my break,&quot; you say, and then turn to flee.

&lt;h3&gt;(link:&quot;ZING!!&quot;)[(set:$chaos to $chaos+21)
(go-to:&quot;lab3&quot;)]&lt;/h3&gt;&lt;/span&gt;</tw-passagedata>
<tw-passagedata pid="80" name="lab2b" tags="" position="205,930">&lt;span id=&quot;content&quot;&gt;&quot;Oh, I&apos;m going to rewrite history so that I&apos;m the supreme ruler of the world,&quot; he says offhandedly. &quot;You know, the standard supervillain stuff.&quot;

&quot;How evil!&quot; you say.

&quot;Yes, yes, thank you.&quot; He pauses, pondering. &quot;Oh, and I suppose I&apos;ll no longer have any need of your services. You&apos;ve been a terribly incompetent employee, but I suppose things turned out alright in the end.&quot;

[[Ask if you get a severance package.-&gt;lab3a]]
[[Appeal to his better nature.-&gt;lab3b]]
[[Try to slip away.-&gt;lab2a]]&lt;/span&gt;</tw-passagedata>
<tw-passagedata pid="81" name="lab3" tags="" position="643,922">&lt;span id=&quot;content&quot;&gt;Your vision blurs and a wave of nausea hits you. When it passes, you realize that Dr. Malevolus is gone. Looking up at the clock on the wall, you also realize that somehow an hour has passed.

His freeze ray works &lt;em&gt;too&lt;/em&gt;? Boy, you really underestimated his inventions.

The history-rewinder is gone, of course, but you still have the ZAPPer and your TSI. From the looks of the TSI, Dr. Malevolus has already been busy with making alterations to the historical timeline. But maybe there&apos;s still something you can do to stop him.

[[Look around the lab.-&gt;lab4]]
[[Give up and go home.-&gt;endGiveUp]]&lt;/span&gt;</tw-passagedata>
<tw-passagedata pid="82" name="lab3a" tags="" position="352,933">&lt;span id=&quot;content&quot;&gt;&quot;Why yes!&quot; he says, grinning. &quot;I have a particular reward for your service.&quot;

He reaches into one pocket and pulls out a raygun that looks kind of like the ZAPPer.

&quot;Uh, that&apos;s not exactly what I meant,&quot; you say. &quot;Aw, da--&quot;

&lt;h3&gt;(link:&quot;ZING!!&quot;)[(set:$chaos to $chaos+21)
(go-to:&quot;lab3&quot;)]&lt;/h3&gt;&lt;/span&gt;</tw-passagedata>
<tw-passagedata pid="83" name="lab3b" tags="" position="498,930">&lt;span id=&quot;content&quot;&gt;&quot;I don&apos;t think you understand,&quot; Dr. Malevolus says. &quot;If I wanted to create inventions to benefit humanity, I&apos;d just go off and do that. But I dislike other people and would rather use technology to further my own selfish goals. It&apos;s nothing personal.&quot;

&quot;Well, I won&apos;t let you,&quot; you say. &quot;I have the history-rewinder. Take one step closer and--&quot;

He points a raygun at you that looks kind of like the ZAPPer.

&lt;h3&gt;(link:&quot;ZING!!&quot;)[(set:$chaos to $chaos+21)
(go-to:&quot;lab3&quot;)]&lt;/h3&gt;&lt;/span&gt;</tw-passagedata>
<tw-passagedata pid="84" name="lab4" tags="" position="778,921">&lt;span id=&quot;content&quot;&gt;You frantically search the lab, looking for something that might help. Finally, on a workbench you discover the prototype history-rewinder that Dr. Malevolus had first tinkered with. 

It&apos;s not in great shape, and when you shake it, you hear something rattling around inside. You remember him ranting about the problems with it at one point: it causes the user to wind up at random distorted points in the timeline, rather than being able to pick their destination.

Still, it might be your best option. If you use this, you might be able to travel to where Dr. Malevolus has tampered with history and undo the worst of the damage.

(link:&quot;Let&apos;s do it!&quot;)[(set:$tsitime to &quot;???&quot;)
(set:$tsiplace to &quot;???&quot;)
(go-to:&quot;portal1-1&quot;)]&lt;/span&gt;</tw-passagedata>
<tw-passagedata pid="85" name="endGiveUp" tags="" position="1909,3098">&lt;span id=&quot;content&quot;&gt;After a while, you get used to living in Malevolia. 

It only took a few weeks for Dr. Malevolus to use the history-rewinder to completely rewrite the past so that he&apos;s the most important person who ever existed. And then it was fairly trivial for him to assume control of the world.

Sure, everything is mostly awful now, but on the bright side, ever since 95% of the population was forced into compulsory industrial work for Malevolia, there are no wars or unemployment. It&apos;s definitely nothing worth complaining about. Because then the Doctor&apos;s secret police will drag you away for compulsory reeducation.
(set: $tsion to false)
&lt;h4&gt;**GAME OVER**&lt;/h4&gt;
&lt;h5&gt;([[*try again from the beginning?*-&gt;Start]])&lt;/h5&gt;&lt;/span&gt;</tw-passagedata>
<tw-passagedata pid="86" name="portal7-1" tags="porta" position="388,6156">[[&lt;img src=&quot;http://www.sundialtime.com/sundial/images/kids/spiral.gif&quot; alt=&quot;You fall through a portal...&quot;&gt;-&gt;convo1]]</tw-passagedata>
<tw-passagedata pid="87" name="convo1" tags="" position="386,6305">&lt;span id=&quot;content&quot;&gt;You land in a crouch in the middle of a small clearing. Lush, overgrown jungle surrounds you. This all looks so familiar, and glancing at the TSI only confirms your suspicion.

You close your eyes and try really really hard to remember a time only a couple of hours in your (relative) past.

Behind you, you hear a *pop* sound, and when you open your eyes and turn around, you&apos;re face to face with yourself.

&quot;Whoa,&quot; both of you say, at the same time.

[[Explain the situation.-&gt;convo2]]&lt;/span&gt;</tw-passagedata>
<tw-passagedata pid="88" name="convo2" tags="" position="386,6455">&lt;span id=&quot;content&quot;&gt;The other you looks a little doubtful. &quot;How do I know that this isn&apos;t some kind of trick? Prove that you&apos;re me.&quot;

You go ahead and tell them the most embarrassing thing you can possibly say about yourself. You know, *that*.

&quot;Fine,&quot; the other you says, their face red. &quot;But still. I could give you the working history-rewinder, but then I&apos;d be stuck here, right?&quot;

You frown. &quot;I&apos;m pretty certain you&apos;re a memory and not real,&quot; you say.

&quot;Boy, that&apos;s easy for *you* to decide. How do you know that I&apos;m not the real one and you&apos;re fake?&quot;

[[Point out that you&apos;re further ahead in time.-&gt;convo3]]&lt;/span&gt;</tw-passagedata>
<tw-passagedata pid="89" name="convo3" tags="" position="719,6583">&lt;span id=&quot;content&quot;&gt;&quot;I guess that&apos;s true,&quot; they admit.

&quot;Look, I&apos;ll leave you the broken rewinder,&quot; you say. &quot;But you have to promise not to do anything crazy.&quot;

&quot;Well, I wouldn&apos;t do anything you wouldn&apos;t do,&quot; they point out.

&quot;Fair.&quot;

&quot;There&apos;s just one more thing,&quot; they say. &quot;So, say you do use this, and get back to the present, what then? What will you do with the history-rewinder?&quot;

(if:$chaos&lt;30)[[[Say that you&apos;ll destroy the device.-&gt;cStop1]]
](if:$chaos&lt;5)[[[Say that you&apos;ll use it to fix history.-&gt;cFix1a]]](elseif:$chaos&gt;30)[[[Say that you&apos;ll use it to fix history.-&gt;cFix1c]]](else:)[[[Say that you&apos;ll use it to fix history.-&gt;cFix1b]]]
(if:$chaos&gt;30)[[[Say that you&apos;ll use it to destroy history.-&gt;cDest1]]]&lt;/span&gt;</tw-passagedata>
<tw-passagedata pid="90" name="cStop1" tags="" position="104,6722">&lt;span id=&quot;content&quot;&gt;The other you nods. &quot;Maybe that&apos;s for the best.&quot;

&quot;You&apos;re not going to try and dissuade me?&quot; you ask. &quot;Convince me that it&apos;s too important of an opportunity to waste?&quot;

They shrug. &quot;I don&apos;t know. You&apos;ve obviously thought it through, right? So there&apos;s some reason why you think this technology shouldn&apos;t be used.&quot;

[[Say that it&apos;s too dangerous to use.-&gt;cDangerous]]
[[Say that you don&apos;t have the right to decide history.-&gt;cNoRight]]
[[Say that it&apos;s too bothersome.-&gt;cBother]]&lt;/span&gt;</tw-passagedata>
<tw-passagedata pid="91" name="cFix1" tags="" position="164,6504">&lt;span id=&quot;content&quot;&gt;(if:$chaos&lt;10)[&quot;Hmm,&quot; the other you says. &quot;Does history really `need` fixing?&quot;]


&lt;/span&gt;



&quot;Hmm,&quot; the other you says. &quot;Does history really `need` fixing?&quot;

You point at the TSI. &quot;Of course. See, there&apos;s still some instability in the timeline. Obviously, something is wrong.&quot;

&quot;Yeah, but how well has fixing it worked out so far?&quot;

&quot;Cleaning up after Dr. Malevolus was good.&quot; You sigh. &quot;But ever since then it&apos;s only made things worse.&quot;

&quot;Exactly.&quot;

Suggest that maybe the TSI is wrong.
Insist you just need to try harder.
Note that the history you keep seeing is stupid.





&quot;Hmm,&quot; the other you says. &quot;Does history really `need` fixing? What exactly have you changed?&quot;

&quot;Nothing yet,&quot; you say. &quot;Well, aside from getting rid of Dr. Malevolus and his anomalys. But this is too important and powerful `not` to use.&quot;

&quot;But what makes you think you have the right to make those decisions? 

Argue that you&apos;re smarter than most people.
Point out that people `already` change history.
Decide that you shouldn&apos;t change things, after all.








</tw-passagedata>
<tw-passagedata pid="92" name="cDest1" tags="" position="1354,6746">&lt;span id=&quot;content&quot;&gt;&quot;What?!&quot; the other you exclaims. &quot;Why??&quot;

[[Argue we&apos;d be better off without the past.-&gt;cDestPast]]
[[Theorize that starting with a blank slate would be good.-&gt;cBlankSlate]]
[[Admit you just wanted to see what would happen.-&gt;cTrolling]]&lt;/span&gt;</tw-passagedata>
<tw-passagedata pid="93" name="cFix1a" tags="" position="543,6731">&lt;span id=&quot;content&quot;&gt;&quot;Okay,&quot; the other you says. &quot;But does history really *need* fixing? What exactly have you changed?&quot;

&quot;Nothing yet,&quot; you say. &quot;Well, aside from getting rid of Dr. Malevolus and his anomalys. But this is too important and powerful not to use.&quot;

&quot;But what makes you think you have the right to make those decisions? 

[[Argue that you&apos;re smarter than most people.-&gt;cFixMalevolus]]
[[Point out that people *already* change history.-&gt;cFixAlreadyChange]]
[[Decide that you shouldn&apos;t change things, after all.-&gt;cFixDecideNo]]&lt;/span&gt;</tw-passagedata>
<tw-passagedata pid="94" name="cFix1c" tags="" position="877,6740">&lt;span id=&quot;content&quot;&gt;The other you stares at you. &quot;You know that I can see the historical instability numbers too, right? I&apos;d say you&apos;ve done a pretty spectacularly poor job of &apos;fixing&apos; anything so far.&quot;

[[Suggest that maybe the TSI is wrong.-&gt;cFixTSIWrong]]
[[Insist you just need to try harder.-&gt;cFixTryHarder]]
[[Admit you were doing things badly on purpose.-&gt;cDest1]]
&lt;/span&gt;</tw-passagedata>
<tw-passagedata pid="95" name="cFix1b" tags="" position="712,6744">&lt;span id=&quot;content&quot;&gt;&quot;Okay,&quot; the other you says. &quot;But does history really *need* fixing?&quot;

You point at the TSI. &quot;Of course. See, there&apos;s still some instability in the timeline. Obviously, something is wrong.&quot;

&quot;Yeah, but how well has fixing it worked out so far?&quot;

&quot;Cleaning up after Dr. Malevolus was good.&quot; You sigh. &quot;But ever since then it&apos;s only made things worse.&quot;

&quot;Exactly.&quot;

[[Suggest that maybe the TSI is wrong.-&gt;cFixTSIWrong]]
[[Insist you just need to try harder.-&gt;cFixTryHarder]]
[[Note that the history you keep seeing is stupid.-&gt;cFixHistStupid]]&lt;/span&gt;</tw-passagedata>
<tw-passagedata pid="96" name="cFixMalevolus" tags="" position="356,6901">&lt;span id=&quot;content&quot;&gt;&quot;Hmm,&quot; the other you says. &quot;But what, exactly, makes you any different from Dr. Malevolus, then? Other than the fact that he seems to realize that what he&apos;s doing is wrong, and is okay with that.&quot;

&quot;It&apos;s different,&quot; you insist. &quot;I&apos;ll be doing good.&quot;

&quot;I see,&quot; they say, looking completely unconvinced.

[[Take the device by force!-&gt;cStealDevice]]
[[Point out that people `already` change history.-&gt;cFixAlreadyChange]]
[[Decide that you shouldn&apos;t change things, after all.-&gt;cFixDecideNo]]&lt;/span&gt;</tw-passagedata>
<tw-passagedata pid="97" name="cFixAlreadyChange" tags="" position="495,6908">&lt;span id=&quot;content&quot;&gt;The other you throws their hands up. &quot;Yes, people change history, but not with magic science guns! They write books or make websites or teach classes or film documentaries or work in museums.&quot;

&quot;Well, they don&apos;t have this technology,&quot; you say. &quot;I do. I can&apos;t waste that opportunity.&quot;

&quot;I&apos;m just saying, maybe this isn&apos;t the right way to do things.&quot; They look down at the history-rewinder. &quot;But I don&apos;t know that I can argue any more with myself.&quot;

[[Assure them that you will be careful-&gt;cFixDecideYes]]
[[Decide that you shouldn&apos;t change things, after all.-&gt;cFixDecideNo]]&lt;/span&gt;</tw-passagedata>
<tw-passagedata pid="98" name="cFixDecideNo" tags="" position="632,7398">&lt;span id=&quot;content&quot;&gt;The other you looks relieved. &quot;Okay, good.&quot; They look down at the history-rewinder. &quot;This is a big responsibility, so I&apos;m holding you to your word.&quot;

You try to smile reassuringly.

They hand over the history-rewinder and you give them your broken one in turn. There&apos;s a moment of awkward pause.

&quot;Good luck,&quot; you say at the same time. Then you share a laugh.

(link:&quot;Continue onwards.&quot;)[(set:$tsitime to &quot;???&quot;)
(set:$tsiplace to &quot;???&quot;)
(go-to:&quot;portal8-2&quot;)]&lt;/span&gt;</tw-passagedata>
<tw-passagedata pid="99" name="cStealDevice" tags="" position="357,7053">&lt;span id=&quot;content&quot;&gt;Enough of this!

You dart forward, trying to grab the history-rewinder off of the other-you&apos;s belt. You catch them off guard, and snatch it, shoving them to the ground in the process.

&quot;Ha ha!&quot; you exclaim. &quot;What do you have to say to *that*, past me?&quot;

Then as you look down at them, you remember that they have a copy of the ZAPPer, too. Whoops.

&lt;h1&gt;ZAPP!!!&lt;/h1&gt;

[[Try to figure out what happened.-&gt;endZAPPed]]&lt;/span&gt;</tw-passagedata>
<tw-passagedata pid="100" name="endZAPPed" tags="" position="2047,3093">&lt;span id=&quot;content&quot;&gt;It&apos;s a strange and painful feeling, being erased from history. On the bright side, it&apos;s not like you feel that way for more than an instant.

Police find you a few days later, wandering down the street in a daze. You can&apos;t remember anything about yourself. And despite all their work in tracing your fingerprints, no one else can either.

On the plus side, you don&apos;t feel bad about having screwed up, because you won&apos;t ever remember it in the first place.
(set: $tsion to false)
&lt;h4&gt;**GAME OVER**&lt;/h4&gt;
&lt;h5&gt;([[*try again from the beginning?*-&gt;Start]])&lt;/h5&gt;&lt;/span&gt;</tw-passagedata>
<tw-passagedata pid="101" name="cFixTSIWrong" tags="" position="657,6887">&lt;span id=&quot;content&quot;&gt;&quot;Yes, maybe it&apos;s wrong, but maybe it&apos;s *right*,&quot; the other you argues. &quot;I&apos;m a little worried that if that number gets too high something really bad will happen.&quot;

&quot;I&apos;ll be careful,&quot; you say.

&quot;Sure, but is it even worth that risk?&quot;

[[Argue that it&apos;s important that things get fixed.-&gt;cFixHistStupid]]
[[Decide that you shouldn&apos;t change things, after all.-&gt;cFixDecideNo]]&lt;/span&gt;</tw-passagedata>
<tw-passagedata pid="102" name="cFixTryHarder" tags="" position="782,6957">&lt;span id=&quot;content&quot;&gt;The other you glances at the TSI again. &quot;I&apos;d say you trying hard is the problem to begin with.&quot;

&quot;Ouch. That&apos;s kind of mean.&quot;

&quot;Sorry!&quot;

[[Suggest that maybe the TSI is wrong.-&gt;cFixTSIWrong]]
[[Argue that it&apos;s important that things get fixed.-&gt;cFixHistStupid]]
[[Decide that you shouldn&apos;t change things, after all.-&gt;cFixDecideNo]]&lt;/span&gt;</tw-passagedata>
<tw-passagedata pid="103" name="cFixHistStupid" tags="" position="910,6890">&lt;span id=&quot;content&quot;&gt;The other you blinks. &quot;What do you mean?&quot;

&quot;Well, look at all the things I&apos;ve seen. Historical misconceptions and myths that aren&apos;t even true.&quot;

&quot;Yeah, but they still *matter*, right? Just because these things may or may not have happened the way people remember them doesn&apos;t mean that it&apos;s not important how they&apos;re remembered.&quot;

[[Argue that only facts should matter.-&gt;cFixFacts]]
[[Point out that history should be more inclusive.-&gt;cFixInclusive]]
[[Decide that you shouldn&apos;t change things, after all.-&gt;cFixDecideNo]]&lt;/span&gt;</tw-passagedata>
<tw-passagedata pid="104" name="cFixFacts" tags="" position="910,7040">&lt;span id=&quot;content&quot;&gt;&quot;That&apos;s pretty idealistic,&quot; the other you says.

&quot;Thank you!&quot;

&quot;It wasn&apos;t a compliment. What about the ways that even these myths matter, historically? Even when not true, they say something about how people understand their past, and their relationship with the present. There&apos;s a reason why these things resonate and stick in people&apos;s heads, right?

[[Insist that myths should be erased.-&gt;cFixErasure]]
[[Point out that history should be more inclusive.-&gt;cFixInclusive]]
[[Decide that you shouldn&apos;t change things, after all.-&gt;cFixDecideNo]]&lt;/span&gt;</tw-passagedata>
<tw-passagedata pid="105" name="cFixInclusive" tags="" position="1060,7040">&lt;span id=&quot;content&quot;&gt;&quot;Huh?&quot; the other you says.

&quot;I mean, everywhere I&apos;ve ended up at it&apos;s rich, powerful white people. And most of them men. Are those really the only people worth remembering? What about all the other people living during these times? Who&apos;s remembering their stories?&quot;

&quot;I guess you have a point...&quot; the other you admits.

[[Assure them that you can make things better.-&gt;cFixErasure]]&lt;/span&gt;</tw-passagedata>
<tw-passagedata pid="106" name="cFixErasure" tags="" position="910,7190">&lt;span id=&quot;content&quot;&gt;&quot;Is erasure really fixing things, though?&quot; the other you says. &quot;Is that the right approach to dealing with even admittedly problematic history?&quot;

&quot;As compared to what?&quot;

The other you shrugs. &quot;Any number of alternatives. But providing more context or correcting the mistaken impressions, most obviously.&quot;

&quot;That&apos;s a lot harder and less effective.&quot;

&quot;Maybe. But what gives you the right to make such big changes like this without anyone else&apos;s input or consent?&quot;

[[Argue that you&apos;re smarter than most people.-&gt;cFixMalevolus]]
[[Point out that people *already* change history.-&gt;cFixAlreadyChange]]
[[Decide that you shouldn&apos;t change things, after all.-&gt;cFixDecideNo]]
&lt;/span&gt;</tw-passagedata>
<tw-passagedata pid="107" name="cFixDecideYes" tags="" position="502,7397">&lt;span id=&quot;content&quot;&gt;The other you frowns, still looking very uncertain. &quot;Okay,&quot; they say. &quot;I hope I don&apos;t regret this.&quot;

You try to smile reassuringly. &quot;If it&apos;s any consolation, I&apos;m pretty certain you&apos;re just a memory and will cease existing or whatever when I leave.&quot;

&quot;Yeah, that definitely doesn&apos;t help,&quot; they grumble. They hand over the history-rewinder and you give them your broken one in turn. There&apos;s a moment of awkward pause.

&quot;Good luck,&quot; you say. The other you just shakes their head and walks off to stare into the jungle.

(link:&quot;Continue onwards.&quot;)[(set:$tsitime to &quot;???&quot;)
(set:$tsiplace to &quot;???&quot;)
(go-to:&quot;portal8-1&quot;)]&lt;/span&gt;</tw-passagedata>
<tw-passagedata pid="108" name="cDestPast" tags="" position="1219,6885">&lt;span id=&quot;content&quot;&gt;&quot;But without the past, the present is incomprehensible,&quot; the other you argues. &quot;I can barely even imagine a world without our understanding of the forces that shape it. I mean, maybe that&apos;s complete societal collapse. &apos;I have no idea!&apos;&quot;

[[Say that you&apos;re optimistic.-&gt;cShowdown]]
[[Say that you don&apos;t care.-&gt;cShowdown]]&lt;/span&gt;</tw-passagedata>
<tw-passagedata pid="109" name="cBlankSlate" tags="" position="1358,6883">&lt;span id=&quot;content&quot;&gt;&quot;How could that be good *in any way*?&quot; the other you demands.

&quot;Well, you know, sometimes a forest fire helps clear out the underbrush and provides room for new growth.&quot;

&quot;Yes, but it also kills everything inside of it to do so. And guess what? We&apos;re *all* inside history.&quot;

You shrug. &quot;It will probably be fine.&quot;

&quot;What makes you think that?&quot;

[[Shrug and say you&apos;re optimistic.-&gt;cShowdown]]
[[Admit you don&apos;t really care.-&gt;cShowdown]]
(if: $chaos &gt;64)[[[Argue that the game gave you the options, so...-&gt;cMeta]]]&lt;/span&gt;</tw-passagedata>
<tw-passagedata pid="110" name="cTrolling" tags="" position="1527,6881">&lt;span id=&quot;content&quot;&gt;The other you stares at you, open-mouthed. &quot;You&apos;ve got to be kidding, right? I never would have thought I could be so impulsive.&quot;

&quot;Search your feelings, you know it to be true.&quot;

&quot;Shut up.&quot;

[[Insist that maybe this is for the best.-&gt;cBlankSlate]]
[[Agree to stop breaking things now.-&gt;cFixDecideNo]]
(if: $chaos &gt;64)[[[Argue that the game gave you the options, so...-&gt;cMeta]]]&lt;/span&gt;</tw-passagedata>
<tw-passagedata pid="111" name="cMeta" tags="" position="1523,7032">&lt;span id=&quot;content&quot;&gt;&quot;Okay, now this is getting meta, and that makes my head hurt,&quot; the other you says. &quot;If the game gave you the option to shoot yourself with the ZAPPer, would you?&quot;

[[ZAPP yourself!-&gt;endZAPPed]]
[[Say that you&apos;ve already seen that ending.-&gt;cMeta2]]&lt;/span&gt;</tw-passagedata>
<tw-passagedata pid="112" name="portal8-1" tags="porta" position="494,7593">[[&lt;img src=&quot;http://www.sundialtime.com/sundial/images/kids/spiral.gif&quot; alt=&quot;You fall through a portal...&quot;&gt;-&gt;endAmbig]]
(set:$tsitime to &quot;N/A&quot;)
(set:$tsiplace to &quot;N/A&quot;)
(set:$tsion to true)</tw-passagedata>
<tw-passagedata pid="113" name="portal8-2" tags="porta" position="636,7590">[[&lt;img src=&quot;http://www.sundialtime.com/sundial/images/kids/spiral.gif&quot; alt=&quot;You fall through a portal...&quot;&gt;-&gt;endAmbig]]
(set:$tsitime to &quot;DEC 25, 800 C.E.&quot;)
(set:$tsiplace to &quot;ROME, ITALY&quot;)
(set:$tsion to true)</tw-passagedata>
<tw-passagedata pid="114" name="cMeta2" tags="" position="1524,7185">&lt;span id=&quot;content&quot;&gt;The other you throws their hands up in frustration. &quot;Well then, what do you want? A good ending?&quot;

You shrug.

&quot;Okay, how about you win and everything is fine forever.&quot;

[[Ask if you can have some cake too-&gt;cMeta3]]&lt;/span&gt;</tw-passagedata>
<tw-passagedata pid="115" name="cMeta3" tags="" position="1524,7335">&lt;span id=&quot;content&quot;&gt;&quot;Didn&apos;t you already get some in Versailles?&quot;

(if:$hasCake)[&quot;Yes, but I&apos;m still hungry,&quot; you say.](else:)[&quot;No...?&quot; you say.]

&quot;Fine. Cake too.&quot;

&quot;Oh, and...&quot;

&quot;Okay, no, since we&apos;re being meta I&apos;m just going to decide that you&apos;re going to have your ending now, and you&apos;re going to *enjoy* it too.&quot;

[[Enjoy your ending.-&gt;endMeta]]&lt;/span&gt;</tw-passagedata>
<tw-passagedata pid="116" name="endMeta" tags="" position="2049,3231">&lt;span id=&quot;content&quot;&gt;Good news! Everything works out perfectly, and you change history to be exactly the kind of thing that you have always wanted it to be. 

Also, Dr. Malevolus is alright and he&apos;s good now, and you work together to do great things. Unless you&apos;d rather find fulfillment in some other way in your life, in which case you do that. Congratulations!

Also you have cake, I guess. It&apos;s delicious. So delicious that you start thinking about going and getting cake in real life. See what I did there?
(set: $tsion to false)
&lt;h4&gt;**THE END**&lt;/h4&gt;
&lt;h5&gt;([[*start over from the beginning?*-&gt;Start]])</tw-passagedata>
<tw-passagedata pid="117" name="cShowdown" tags="" position="1210,7180">&lt;span id=&quot;content&quot;&gt;The other you&apos;s eyes narrow. &quot;It doesn&apos;t matter how you feel. I... I can&apos;t let you do this.&quot;

In a flash, they point their ZAPPer in your direction. Alarmed, you raise your own in turn, so that the both of you are in a standoff, waiting for the first person to pull the trigger.

The other you grins. &quot;I think there&apos;s something you don&apos;t realize. No matter who shoots who, *I win*.&quot;

&lt;h1&gt;ZAPP!!!&lt;/h1&gt;

[[Try to figure out what happened.-&gt;endZAPPed]]&lt;/span&gt;</tw-passagedata>
<tw-passagedata pid="118" name="cDangerous" tags="" position="0,6881">&lt;span id=&quot;content&quot;&gt;The other you nods. &quot;Yeah, you probably have that right. History is complicated! There&apos;s no telling how anything you do might affect everything else. And if things really get messed up... well, there&apos;s no telling what could happen.&quot;

&quot;Exactly. So you&apos;ll give me the working history-rewinder?&quot;

They nod.

[[Exchange rewinders.-&gt;cRewindGood]]&lt;/span&gt;</tw-passagedata>
<tw-passagedata pid="119" name="cNoRight" tags="" position="0,7006">&lt;span id=&quot;content&quot;&gt;The other you nods. &quot;It&apos;s a big decision alright. You&apos;re effectively rummaging around in the minds of everyone on the planet, and that&apos;s pretty creepy.&quot;

&quot;Exactly. So you&apos;ll give me the working history-rewinder?&quot;

They nod.

[[Exchange rewinders.-&gt;cRewindGood]]&lt;/span&gt;</tw-passagedata>
<tw-passagedata pid="120" name="cBother" tags="" position="0,7131">&lt;span id=&quot;content&quot;&gt;The other you gives you a funny look. &quot;So you&apos;re just too *lazy*? Well, that&apos;s certainly a reason. But I suppose it&apos;s good enough.

&quot;So you&apos;ll give me the working history-rewinder?&quot;

They nod.

[[Exchange rewinders.-&gt;cRewindGood]]&lt;/span&gt;</tw-passagedata>
<tw-passagedata pid="121" name="cRewindGood" tags="" position="173,7281">&lt;span id=&quot;content&quot;&gt;They hand over the history-rewinder and you give them your broken one in turn. There&apos;s a moment of awkward pause.

&quot;Good luck,&quot; you say at the same time. Then you share a laugh.

(link:&quot;Continue onwards.&quot;)[(set:$tsitime to &quot;???&quot;)
(set:$tsiplace to &quot;???&quot;)
(go-to:&quot;portal8-2&quot;)]&lt;/span&gt;</tw-passagedata>
<tw-passagedata pid="122" name="endAmbig" tags="" position="2191,3229">&lt;span id=&quot;content&quot;&gt;You land back in the lab again, and everything is exactly like you remember it. You breathe a sigh of relief when you glance at your TSI. You&apos;re finally out of history and back to real life.

(if: $malevWin)[Dr. Malevolus looks up from a workbench where he&apos;s tinkering with something. &quot;You!&quot; he cries out. Then he points his freeze ray at you and tries to fire, but only gets a fizzling sound. &quot;Hold on a minute while I find some more batteries,&quot; he says, and then scurries off deeper into the lab.](else:)[Dr. Malevolus wanders out from behind a machine. &quot;Hello,&quot; he says amiably. &quot;I hate to be a bother but... Where am I?&quot; He frowns. &quot;Also, who am I?&quot;

Huh. Looks like erasing him from history had some unintended consequences. You&apos;re not sure how you feel about that. But you&apos;ll deal with it later.]

You still hold the history-rewinder in your hand.

What&apos;s next is up to you.
(set: $tsion to false)
&lt;h4&gt;**THE END**&lt;/h4&gt;
&lt;h5&gt;([[*start over from the beginning?*-&gt;Start]])
</tw-passagedata>
<tw-passagedata pid="123" name="contMalev" tags="" position="814,3026">&lt;span id=&quot;content&quot;&gt;When you&apos;re finally unfrozen again, you see that the Ferris Wheel is up and running. And there&apos;s a giant W spelled out in electric lights along it.

Wait, as it continues turning, you realize that must actually be an M. You start to get the feeling that insane mechanical genius or no, Dr. Malevolus isn&apos;t actually that clever in his attempts to upset history.

You still have your ZAPPer and the broken history-rewinder, but Dr. Malevolus has a good head start on you now. It&apos;s time to pick up the pace.

(link:&quot;Continue onwards.&quot;)[(set:$tsitime to &quot;???&quot;)
(set:$tsiplace to &quot;???&quot;)
(go-to:&quot;portal4-1&quot;)]&lt;/span&gt;</tw-passagedata>
</no-script></tw-storydata>


<no-script title="Twine engine code" data-main="harlowe">&quot;use strict&quot;;function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return="" array.from(arr)}var="" _slicedtoarray="function(){function" sliceiterator(arr,i){var="" _arr="[],_n=!0,_d=!1,_e=void" 0;try{for(var="" _s,_i="arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&amp;&amp;(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{!_n&amp;&amp;_i[" return"]&&_i["return"]()}finally{if(_d)throw"="" _e}}return="" _arr}return="" function(arr,i){if(array.isarray(arr))return="" arr;if(symbol.iterator="" in="" object(arr))return="" sliceiterator(arr,i);throw="" new="" typeerror("invalid="" attempt="" to="" destructure="" non-iterable="" instance")}}(),_typeof="function" =="typeof" symbol&&"symbol"="=typeof" symbol.iterator?function(obj){return="" typeof="" obj}:function(obj){return="" obj&&"function"="=typeof" symbol&&obj.constructor="==Symbol?" symbol":typeof"="" obj};!function(){="" **="" *="" @license="" almond="" 0.3.1="" copyright="" (c)="" 2011-2014,="" the="" dojo="" foundation="" all="" rights="" reserved.="" available="" via="" mit="" or="" bsd="" license.="" see:="" http:="" github.com="" jrburke="" for="" details="" var="" requirejs,require,define;!function(undef){function="" hasprop(obj,prop){return="" hasown.call(obj,prop)}function="" normalize(name,basename){var="" nameparts,namesegment,mapvalue,foundmap,lastindex,foundi,foundstarmap,stari,i,j,part,baseparts="baseName&amp;&amp;baseName.split(" "),map="config.map,starMap=map&amp;&#x21A6;&quot;*&quot;]||{};if(name&amp;&amp;&quot;.&quot;===name.charAt(0))if(baseName){for(name=name.split(&quot;/&quot;),lastIndex=name.length-1,config.nodeIdCompat&amp;&amp;jsSuffixRegExp.test(name[lastIndex])&amp;&amp;(name[lastIndex]=name[lastIndex].replace(jsSuffixRegExp,&quot;&quot;)),name=baseParts.slice(0,baseParts.length-1).concat(name),i=0;i&lt;name.length;i+=1)if(part=name[i],&quot;.&quot;===part)name.splice(i,1),i-=1;else&quot;" if(".."="==part){if(1===i&amp;&amp;(" .."="==name[2]||&quot;..&quot;===name[0]))break;i&quot;">0&amp;&amp;(name.splice(i-1,2),i-=2)}name=name.join(&quot;/&quot;)}else 0===name.indexOf(&quot;./&quot;)&amp;&amp;(name=name.substring(2));if((baseParts||starMap)&amp;&amp;map){for(nameParts=name.split(&quot;/&quot;),i=nameParts.length;i&gt;0;i-=1){if(nameSegment=nameParts.slice(0,i).join(&quot;/&quot;),baseParts)for(j=baseParts.length;j&gt;0;j-=1)if(mapValue=map[baseParts.slice(0,j).join(&quot;/&quot;)],mapValue&amp;&amp;(mapValue=mapValue[nameSegment])){foundMap=mapValue,foundI=i;break}if(foundMap)break;!foundStarMap&amp;&amp;starMap&amp;&amp;starMap[nameSegment]&amp;&amp;(foundStarMap=starMap[nameSegment],starI=i)}!foundMap&amp;&amp;foundStarMap&amp;&amp;(foundMap=foundStarMap,foundI=starI),foundMap&amp;&amp;(nameParts.splice(0,foundI,foundMap),name=nameParts.join(&quot;/&quot;))}return name}function makeRequire(relName,forceSync){return function(){var args=aps.call(arguments,0);return&quot;string&quot;!=typeof args[0]&amp;&amp;1===args.length&amp;&amp;args.push(null),_req.apply(undef,args.concat([relName,forceSync]))}}function makeNormalize(relName){return function(name){return normalize(name,relName)}}function makeLoad(depName){return function(value){defined[depName]=value}}function callDep(name){if(hasProp(waiting,name)){var args=waiting[name];delete waiting[name],defining[name]=!0,main.apply(undef,args)}if(!hasProp(defined,name)&amp;&amp;!hasProp(defining,name))throw new Error(&quot;No &quot;+name);return defined[name]}function splitPrefix(name){var prefix,index=name?name.indexOf(&quot;!&quot;):-1;return index&gt;-1&amp;&amp;(prefix=name.substring(0,index),name=name.substring(index+1,name.length)),[prefix,name]}function makeConfig(name){return function(){return config&amp;&amp;config.config&amp;&amp;config.config[name]||{}}}var main,_req,makeMap,handlers,defined={},waiting={},config={},defining={},hasOwn=Object.prototype.hasOwnProperty,aps=[].slice,jsSuffixRegExp=/\.js$/;makeMap=function(name,relName){var plugin,parts=splitPrefix(name),prefix=parts[0];return name=parts[1],prefix&amp;&amp;(prefix=normalize(prefix,relName),plugin=callDep(prefix)),prefix?name=plugin&amp;&amp;plugin.normalize?plugin.normalize(name,makeNormalize(relName)):normalize(name,relName):(name=normalize(name,relName),parts=splitPrefix(name),prefix=parts[0],name=parts[1],prefix&amp;&amp;(plugin=callDep(prefix))),{f:prefix?prefix+&quot;!&quot;+name:name,n:name,pr:prefix,p:plugin}},handlers={require:function(name){return makeRequire(name)},exports:function(name){var e=defined[name];return&quot;undefined&quot;!=typeof e?e:defined[name]={}},module:function(name){return{id:name,uri:&quot;&quot;,exports:defined[name],config:makeConfig(name)}}},main=function(name,deps,callback,relName){var cjsModule,depName,ret,map,i,usingExports,args=[],callbackType=&quot;undefined&quot;==typeof callback?&quot;undefined&quot;:_typeof(callback);if(relName=relName||name,&quot;undefined&quot;===callbackType||&quot;function&quot;===callbackType){for(deps=!deps.length&amp;&amp;callback.length?[&quot;require&quot;,&quot;exports&quot;,&quot;module&quot;]:deps,i=0;i<deps.length;i+=1)if(map=makemap(deps[i],relname),depname=map.f,"require"===depname)args[i]=handlers.require(name);else if("exports"="==depName)args[i]=handlers.exports(name),usingExports=!0;else" if("module"="==depName)cjsModule=args[i]=handlers.module(name);else" if(hasprop(defined,depname)||hasprop(waiting,depname)||hasprop(defining,depname))args[i]="callDep(depName);else{if(!map.p)throw" new="" error(name+"="" missing="" "+depname);map.p.load(map.n,makerequire(relname,!0),makeload(depname),{}),args[i]="defined[depName]}ret=callback?callback.apply(defined[name],args):void" 0,name&&(cjsmodule&&cjsmodule.exports!="=undef&amp;&amp;cjsModule.exports!==defined[name]?defined[name]=cjsModule.exports:ret===undef&amp;&amp;usingExports||(defined[name]=ret))}else" name&&(defined[name]="callback)},requirejs=require=_req=function(deps,callback,relName,forceSync,alt){if(" string"="=typeof&quot;" deps)return="" handlers[deps]?handlers[deps](callback):calldep(makemap(deps,callback).f);if(!deps.splice){if(config="deps,config.deps&amp;&amp;_req(config.deps,config.callback),!callback)return;callback.splice?(deps=callback,callback=relName,relName=null):deps=undef}return" callback="callback||function(){}," function"="=typeof&quot;" relname&&(relname="forceSync,forceSync=alt),forceSync?main(undef,deps,callback,relName):setTimeout(function(){main(undef,deps,callback,relName)},4),_req},_req.config=function(cfg){return" _req(cfg)},requirejs._defined="defined,define=function(name,deps,callback){if(" string"!="typeof&quot;" name)throw="" error("see="" almond="" readme:="" incorrect="" module="" build,="" no="" name");deps.splice||(callback="deps,deps=[]),hasProp(defined,name)||hasProp(waiting,name)||(waiting[name]=[name,deps,callback])},define.amd={jQuery:!0}}(),define(" almond",function(){}),function(global,factory){"object"="==(&quot;undefined&quot;==typeof&quot;" module?"undefined":_typeof(module))&&"object"="==_typeof(module.exports)?module.exports=global.document?factory(global,!0):function(w){if(!w.document)throw" error("jquery="" requires="" a="" window="" with="" document");return="" factory(w)}:factory(global)}("undefined"!="typeof" window?window:this,function(window,noglobal){function="" isarraylike(obj){var="" length="!!obj&amp;&amp;" length"in"="" obj&&obj.length,type="jQuery.type(obj);return" length&&length="">0&amp;&amp;length-1 in obj}function winnow(elements,qualifier,not){if(jQuery.isFunction(qualifier))return jQuery.grep(elements,function(elem,i){return!!qualifier.call(elem,i,elem)!==not});if(qualifier.nodeType)return jQuery.grep(elements,function(elem){return elem===qualifier!==not});if(&quot;string&quot;==typeof qualifier){if(risSimple.test(qualifier))return jQuery.filter(qualifier,elements,not);qualifier=jQuery.filter(qualifier,elements)}return jQuery.grep(elements,function(elem){return indexOf.call(qualifier,elem)&gt;-1!==not})}function sibling(cur,dir){for(;(cur=cur[dir])&amp;&amp;1!==cur.nodeType;);return cur}function createOptions(options){var object={};return jQuery.each(options.match(rnotwhite)||[],function(_,flag){object[flag]=!0}),object}function completed(){document.removeEventListener(&quot;DOMContentLoaded&quot;,completed),window.removeEventListener(&quot;load&quot;,completed),jQuery.ready()}function Data(){this.expando=jQuery.expando+Data.uid++}function dataAttr(elem,key,data){var name;if(void 0===data&amp;&amp;1===elem.nodeType)if(name=&quot;data-&quot;+key.replace(rmultiDash,&quot;-$&amp;&quot;).toLowerCase(),data=elem.getAttribute(name),&quot;string&quot;==typeof data){try{data=&quot;true&quot;===data?!0:&quot;false&quot;===data?!1:&quot;null&quot;===data?null:+data+&quot;&quot;===data?+data:rbrace.test(data)?jQuery.parseJSON(data):data}catch(e){}dataUser.set(elem,key,data)}else data=void 0;return data}function adjustCSS(elem,prop,valueParts,tween){var adjusted,scale=1,maxIterations=20,currentValue=tween?function(){return tween.cur()}:function(){return jQuery.css(elem,prop,&quot;&quot;)},initial=currentValue(),unit=valueParts&amp;&amp;valueParts[3]||(jQuery.cssNumber[prop]?&quot;&quot;:&quot;px&quot;),initialInUnit=(jQuery.cssNumber[prop]||&quot;px&quot;!==unit&amp;&amp;+initial)&amp;&amp;rcssNum.exec(jQuery.css(elem,prop));if(initialInUnit&amp;&amp;initialInUnit[3]!==unit){unit=unit||initialInUnit[3],valueParts=valueParts||[],initialInUnit=+initial||1;do scale=scale||&quot;.5&quot;,initialInUnit/=scale,jQuery.style(elem,prop,initialInUnit+unit);while(scale!==(scale=currentValue()/initial)&amp;&amp;1!==scale&amp;&amp;--maxIterations)}return valueParts&amp;&amp;(initialInUnit=+initialInUnit||+initial||0,adjusted=valueParts[1]?initialInUnit+(valueParts[1]+1)*valueParts[2]:+valueParts[2],tween&amp;&amp;(tween.unit=unit,tween.start=initialInUnit,tween.end=adjusted)),adjusted}function getAll(context,tag){var ret=&quot;undefined&quot;!=typeof context.getElementsByTagName?context.getElementsByTagName(tag||&quot;*&quot;):&quot;undefined&quot;!=typeof context.querySelectorAll?context.querySelectorAll(tag||&quot;*&quot;):[];return void 0===tag||tag&amp;&amp;jQuery.nodeName(context,tag)?jQuery.merge([context],ret):ret}function setGlobalEval(elems,refElements){for(var i=0,l=elems.length;l&gt;i;i++)dataPriv.set(elems[i],&quot;globalEval&quot;,!refElements||dataPriv.get(refElements[i],&quot;globalEval&quot;))}function buildFragment(elems,context,scripts,selection,ignored){for(var elem,tmp,tag,wrap,contains,j,fragment=context.createDocumentFragment(),nodes=[],i=0,l=elems.length;l&gt;i;i++)if(elem=elems[i],elem||0===elem)if(&quot;object&quot;===jQuery.type(elem))jQuery.merge(nodes,elem.nodeType?[elem]:elem);else if(rhtml.test(elem)){for(tmp=tmp||fragment.appendChild(context.createElement(&quot;div&quot;)),tag=(rtagName.exec(elem)||[&quot;&quot;,&quot;&quot;])[1].toLowerCase(),wrap=wrapMap[tag]||wrapMap._default,tmp.innerHTML=wrap[1]+jQuery.htmlPrefilter(elem)+wrap[2],j=wrap[0];j--;)tmp=tmp.lastChild;jQuery.merge(nodes,tmp.childNodes),tmp=fragment.firstChild,tmp.textContent=&quot;&quot;}else nodes.push(context.createTextNode(elem));for(fragment.textContent=&quot;&quot;,i=0;elem=nodes[i++];)if(selection&amp;&amp;jQuery.inArray(elem,selection)&gt;-1)ignored&amp;&amp;ignored.push(elem);else if(contains=jQuery.contains(elem.ownerDocument,elem),tmp=getAll(fragment.appendChild(elem),&quot;script&quot;),contains&amp;&amp;setGlobalEval(tmp),scripts)for(j=0;elem=tmp[j++];)rscriptType.test(elem.type||&quot;&quot;)&amp;&amp;scripts.push(elem);return fragment}function returnTrue(){return!0}function returnFalse(){return!1}function safeActiveElement(){try{return document.activeElement}catch(err){}}function _on(elem,types,selector,data,fn,one){var origFn,type;if(&quot;object&quot;===(&quot;undefined&quot;==typeof types?&quot;undefined&quot;:_typeof(types))){&quot;string&quot;!=typeof selector&amp;&amp;(data=data||selector,selector=void 0);for(type in types)_on(elem,type,selector,data,types[type],one);return elem}if(null==data&amp;&amp;null==fn?(fn=selector,data=selector=void 0):null==fn&amp;&amp;(&quot;string&quot;==typeof selector?(fn=data,data=void 0):(fn=data,data=selector,selector=void 0)),fn===!1)fn=returnFalse;else if(!fn)return this;return 1===one&amp;&amp;(origFn=fn,fn=function(event){return jQuery().off(event),origFn.apply(this,arguments)},fn.guid=origFn.guid||(origFn.guid=jQuery.guid++)),elem.each(function(){jQuery.event.add(this,types,fn,data,selector)})}function manipulationTarget(elem,content){return jQuery.nodeName(elem,&quot;table&quot;)&amp;&amp;jQuery.nodeName(11!==content.nodeType?content:content.firstChild,&quot;tr&quot;)?elem.getElementsByTagName(&quot;tbody&quot;)[0]||elem:elem}function disableScript(elem){return elem.type=(null!==elem.getAttribute(&quot;type&quot;))+&quot;/&quot;+elem.type,elem}function restoreScript(elem){var match=rscriptTypeMasked.exec(elem.type);return match?elem.type=match[1]:elem.removeAttribute(&quot;type&quot;),elem}function cloneCopyEvent(src,dest){var i,l,type,pdataOld,pdataCur,udataOld,udataCur,events;if(1===dest.nodeType){if(dataPriv.hasData(src)&amp;&amp;(pdataOld=dataPriv.access(src),pdataCur=dataPriv.set(dest,pdataOld),events=pdataOld.events)){delete pdataCur.handle,pdataCur.events={};for(type in events)for(i=0,l=events[type].length;l&gt;i;i++)jQuery.event.add(dest,type,events[type][i])}dataUser.hasData(src)&amp;&amp;(udataOld=dataUser.access(src),udataCur=jQuery.extend({},udataOld),dataUser.set(dest,udataCur))}}function fixInput(src,dest){var nodeName=dest.nodeName.toLowerCase();&quot;input&quot;===nodeName&amp;&amp;rcheckableType.test(src.type)?dest.checked=src.checked:(&quot;input&quot;===nodeName||&quot;textarea&quot;===nodeName)&amp;&amp;(dest.defaultValue=src.defaultValue)}function domManip(collection,args,callback,ignored){args=concat.apply([],args);var fragment,first,scripts,hasScripts,node,doc,i=0,l=collection.length,iNoClone=l-1,value=args[0],isFunction=jQuery.isFunction(value);if(isFunction||l&gt;1&amp;&amp;&quot;string&quot;==typeof value&amp;&amp;!support.checkClone&amp;&amp;rchecked.test(value))return collection.each(function(index){var self=collection.eq(index);isFunction&amp;&amp;(args[0]=value.call(this,index,self.html())),domManip(self,args,callback,ignored)});if(l&amp;&amp;(fragment=buildFragment(args,collection[0].ownerDocument,!1,collection,ignored),first=fragment.firstChild,1===fragment.childNodes.length&amp;&amp;(fragment=first),first||ignored)){for(scripts=jQuery.map(getAll(fragment,&quot;script&quot;),disableScript),hasScripts=scripts.length;l&gt;i;i++)node=fragment,i!==iNoClone&amp;&amp;(node=jQuery.clone(node,!0,!0),hasScripts&amp;&amp;jQuery.merge(scripts,getAll(node,&quot;script&quot;))),callback.call(collection[i],node,i);if(hasScripts)for(doc=scripts[scripts.length-1].ownerDocument,jQuery.map(scripts,restoreScript),i=0;hasScripts&gt;i;i++)node=scripts[i],rscriptType.test(node.type||&quot;&quot;)&amp;&amp;!dataPriv.access(node,&quot;globalEval&quot;)&amp;&amp;jQuery.contains(doc,node)&amp;&amp;(node.src?jQuery._evalUrl&amp;&amp;jQuery._evalUrl(node.src):jQuery.globalEval(node.textContent.replace(rcleanScript,&quot;&quot;)))}return collection}function _remove(elem,selector,keepData){for(var node,nodes=selector?jQuery.filter(selector,elem):elem,i=0;null!=(node=nodes[i]);i++)keepData||1!==node.nodeType||jQuery.cleanData(getAll(node)),node.parentNode&amp;&amp;(keepData&amp;&amp;jQuery.contains(node.ownerDocument,node)&amp;&amp;setGlobalEval(getAll(node,&quot;script&quot;)),node.parentNode.removeChild(node));return elem}function actualDisplay(name,doc){var elem=jQuery(doc.createElement(name)).appendTo(doc.body),display=jQuery.css(elem[0],&quot;display&quot;);return elem.detach(),display}function defaultDisplay(nodeName){var doc=document,display=elemdisplay[nodeName];return display||(display=actualDisplay(nodeName,doc),&quot;none&quot;!==display&amp;&amp;display||(iframe=(iframe||jQuery(&quot;<no-iframe frameborder="0" width="0" height="0">&quot;)).appendTo(doc.documentElement),doc=iframe[0].contentDocument,doc.write(),doc.close(),display=actualDisplay(nodeName,doc),iframe.detach()),elemdisplay[nodeName]=display),display}function curCSS(elem,name,computed){var width,minWidth,maxWidth,ret,style=elem.style;return computed=computed||getStyles(elem),computed&amp;&amp;(ret=computed.getPropertyValue(name)||computed[name],&quot;&quot;!==ret||jQuery.contains(elem.ownerDocument,elem)||(ret=jQuery.style(elem,name)),!support.pixelMarginRight()&amp;&amp;rnumnonpx.test(ret)&amp;&amp;rmargin.test(name)&amp;&amp;(width=style.width,minWidth=style.minWidth,maxWidth=style.maxWidth,style.minWidth=style.maxWidth=style.width=ret,ret=computed.width,style.width=width,style.minWidth=minWidth,style.maxWidth=maxWidth)),void 0!==ret?ret+&quot;&quot;:ret}function addGetHookIf(conditionFn,hookFn){return{get:function(){return conditionFn()?void delete this.get:(this.get=hookFn).apply(this,arguments)}}}function vendorPropName(name){if(name in emptyStyle)return name;for(var capName=name[0].toUpperCase()+name.slice(1),i=cssPrefixes.length;i--;)if(name=cssPrefixes[i]+capName,name in emptyStyle)return name}function setPositiveNumber(elem,value,subtract){var matches=rcssNum.exec(value);return matches?Math.max(0,matches[2]-(subtract||0))+(matches[3]||&quot;px&quot;):value}function augmentWidthOrHeight(elem,name,extra,isBorderBox,styles){for(var i=extra===(isBorderBox?&quot;border&quot;:&quot;content&quot;)?4:&quot;width&quot;===name?1:0,val=0;4&gt;i;i+=2)&quot;margin&quot;===extra&amp;&amp;(val+=jQuery.css(elem,extra+cssExpand[i],!0,styles)),isBorderBox?(&quot;content&quot;===extra&amp;&amp;(val-=jQuery.css(elem,&quot;padding&quot;+cssExpand[i],!0,styles)),&quot;margin&quot;!==extra&amp;&amp;(val-=jQuery.css(elem,&quot;border&quot;+cssExpand[i]+&quot;Width&quot;,!0,styles))):(val+=jQuery.css(elem,&quot;padding&quot;+cssExpand[i],!0,styles),&quot;padding&quot;!==extra&amp;&amp;(val+=jQuery.css(elem,&quot;border&quot;+cssExpand[i]+&quot;Width&quot;,!0,styles)));return val}function getWidthOrHeight(elem,name,extra){var valueIsBorderBox=!0,val=&quot;width&quot;===name?elem.offsetWidth:elem.offsetHeight,styles=getStyles(elem),isBorderBox=&quot;border-box&quot;===jQuery.css(elem,&quot;boxSizing&quot;,!1,styles);if(document.msFullscreenElement&amp;&amp;window.top!==window&amp;&amp;elem.getClientRects().length&amp;&amp;(val=Math.round(100*elem.getBoundingClientRect()[name])),0&gt;=val||null==val){if(val=curCSS(elem,name,styles),(0&gt;val||null==val)&amp;&amp;(val=elem.style[name]),rnumnonpx.test(val))return val;valueIsBorderBox=isBorderBox&amp;&amp;(support.boxSizingReliable()||val===elem.style[name]),val=parseFloat(val)||0}return val+augmentWidthOrHeight(elem,name,extra||(isBorderBox?&quot;border&quot;:&quot;content&quot;),valueIsBorderBox,styles)+&quot;px&quot;}function showHide(elements,show){for(var display,elem,hidden,values=[],index=0,length=elements.length;length&gt;index;index++)elem=elements[index],elem.style&amp;&amp;(values[index]=dataPriv.get(elem,&quot;olddisplay&quot;),display=elem.style.display,show?(values[index]||&quot;none&quot;!==display||(elem.style.display=&quot;&quot;),&quot;&quot;===elem.style.display&amp;&amp;isHidden(elem)&amp;&amp;(values[index]=dataPriv.access(elem,&quot;olddisplay&quot;,defaultDisplay(elem.nodeName)))):(hidden=isHidden(elem),&quot;none&quot;===display&amp;&amp;hidden||dataPriv.set(elem,&quot;olddisplay&quot;,hidden?display:jQuery.css(elem,&quot;display&quot;))));for(index=0;length&gt;index;index++)elem=elements[index],elem.style&amp;&amp;(show&amp;&amp;&quot;none&quot;!==elem.style.display&amp;&amp;&quot;&quot;!==elem.style.display||(elem.style.display=show?values[index]||&quot;&quot;:&quot;none&quot;));return elements}function Tween(elem,options,prop,end,easing){return new Tween.prototype.init(elem,options,prop,end,easing)}function createFxNow(){return window.setTimeout(function(){fxNow=void 0}),fxNow=jQuery.now()}function genFx(type,includeWidth){var which,i=0,attrs={height:type};for(includeWidth=includeWidth?1:0;4&gt;i;i+=2-includeWidth)which=cssExpand[i],attrs[&quot;margin&quot;+which]=attrs[&quot;padding&quot;+which]=type;return includeWidth&amp;&amp;(attrs.opacity=attrs.width=type),attrs}function createTween(value,prop,animation){for(var tween,collection=(Animation.tweeners[prop]||[]).concat(Animation.tweeners[&quot;*&quot;]),index=0,length=collection.length;length&gt;index;index++)if(tween=collection[index].call(animation,prop,value))return tween}function defaultPrefilter(elem,props,opts){var prop,value,toggle,tween,hooks,oldfire,display,checkDisplay,anim=this,orig={},style=elem.style,hidden=elem.nodeType&amp;&amp;isHidden(elem),dataShow=dataPriv.get(elem,&quot;fxshow&quot;);opts.queue||(hooks=jQuery._queueHooks(elem,&quot;fx&quot;),null==hooks.unqueued&amp;&amp;(hooks.unqueued=0,oldfire=hooks.empty.fire,hooks.empty.fire=function(){hooks.unqueued||oldfire()}),hooks.unqueued++,anim.always(function(){anim.always(function(){hooks.unqueued--,jQuery.queue(elem,&quot;fx&quot;).length||hooks.empty.fire()})})),1===elem.nodeType&amp;&amp;(&quot;height&quot;in props||&quot;width&quot;in props)&amp;&amp;(opts.overflow=[style.overflow,style.overflowX,style.overflowY],display=jQuery.css(elem,&quot;display&quot;),checkDisplay=&quot;none&quot;===display?dataPriv.get(elem,&quot;olddisplay&quot;)||defaultDisplay(elem.nodeName):display,&quot;inline&quot;===checkDisplay&amp;&amp;&quot;none&quot;===jQuery.css(elem,&quot;float&quot;)&amp;&amp;(style.display=&quot;inline-block&quot;)),opts.overflow&amp;&amp;(style.overflow=&quot;hidden&quot;,anim.always(function(){style.overflow=opts.overflow[0],style.overflowX=opts.overflow[1],style.overflowY=opts.overflow[2]}));for(prop in props)if(value=props[prop],rfxtypes.exec(value)){if(delete props[prop],toggle=toggle||&quot;toggle&quot;===value,value===(hidden?&quot;hide&quot;:&quot;show&quot;)){if(&quot;show&quot;!==value||!dataShow||void 0===dataShow[prop])continue;hidden=!0}orig[prop]=dataShow&amp;&amp;dataShow[prop]||jQuery.style(elem,prop)}else display=void 0;if(jQuery.isEmptyObject(orig))&quot;inline&quot;===(&quot;none&quot;===display?defaultDisplay(elem.nodeName):display)&amp;&amp;(style.display=display);else{dataShow?&quot;hidden&quot;in dataShow&amp;&amp;(hidden=dataShow.hidden):dataShow=dataPriv.access(elem,&quot;fxshow&quot;,{}),toggle&amp;&amp;(dataShow.hidden=!hidden),hidden?jQuery(elem).show():anim.done(function(){jQuery(elem).hide()}),anim.done(function(){var prop;dataPriv.remove(elem,&quot;fxshow&quot;);for(prop in orig)jQuery.style(elem,prop,orig[prop])});for(prop in orig)tween=createTween(hidden?dataShow[prop]:0,prop,anim),prop in dataShow||(dataShow[prop]=tween.start,hidden&amp;&amp;(tween.end=tween.start,tween.start=&quot;width&quot;===prop||&quot;height&quot;===prop?1:0))}}function propFilter(props,specialEasing){var index,name,easing,value,hooks;for(index in props)if(name=jQuery.camelCase(index),easing=specialEasing[name],value=props[index],jQuery.isArray(value)&amp;&amp;(easing=value[1],value=props[index]=value[0]),index!==name&amp;&amp;(props[name]=value,delete props[index]),hooks=jQuery.cssHooks[name],hooks&amp;&amp;&quot;expand&quot;in hooks){value=hooks.expand(value),delete props[name];for(index in value)index in props||(props[index]=value[index],specialEasing[index]=easing)}else specialEasing[name]=easing}function Animation(elem,properties,options){var result,stopped,index=0,length=Animation.prefilters.length,deferred=jQuery.Deferred().always(function(){delete tick.elem}),tick=function(){if(stopped)return!1;for(var currentTime=fxNow||createFxNow(),remaining=Math.max(0,animation.startTime+animation.duration-currentTime),temp=remaining/animation.duration||0,percent=1-temp,index=0,length=animation.tweens.length;length&gt;index;index++)animation.tweens[index].run(percent);return deferred.notifyWith(elem,[animation,percent,remaining]),1&gt;percent&amp;&amp;length?remaining:(deferred.resolveWith(elem,[animation]),!1)},animation=deferred.promise({elem:elem,props:jQuery.extend({},properties),opts:jQuery.extend(!0,{specialEasing:{},easing:jQuery.easing._default},options),originalProperties:properties,originalOptions:options,startTime:fxNow||createFxNow(),duration:options.duration,tweens:[],createTween:function(prop,end){var tween=jQuery.Tween(elem,animation.opts,prop,end,animation.opts.specialEasing[prop]||animation.opts.easing);return animation.tweens.push(tween),tween},stop:function(gotoEnd){var index=0,length=gotoEnd?animation.tweens.length:0;if(stopped)return this;for(stopped=!0;length&gt;index;index++)animation.tweens[index].run(1);return gotoEnd?(deferred.notifyWith(elem,[animation,1,0]),deferred.resolveWith(elem,[animation,gotoEnd])):deferred.rejectWith(elem,[animation,gotoEnd]),this}}),props=animation.props;for(propFilter(props,animation.opts.specialEasing);length&gt;index;index++)if(result=Animation.prefilters[index].call(animation,elem,props,animation.opts))return jQuery.isFunction(result.stop)&amp;&amp;(jQuery._queueHooks(animation.elem,animation.opts.queue).stop=jQuery.proxy(result.stop,result)),result;return jQuery.map(props,createTween,animation),jQuery.isFunction(animation.opts.start)&amp;&amp;animation.opts.start.call(elem,animation),jQuery.fx.timer(jQuery.extend(tick,{elem:elem,anim:animation,queue:animation.opts.queue})),animation.progress(animation.opts.progress).done(animation.opts.done,animation.opts.complete).fail(animation.opts.fail).always(animation.opts.always)}function getClass(elem){return elem.getAttribute&amp;&amp;elem.getAttribute(&quot;class&quot;)||&quot;&quot;}function addToPrefiltersOrTransports(structure){return function(dataTypeExpression,func){&quot;string&quot;!=typeof dataTypeExpression&amp;&amp;(func=dataTypeExpression,dataTypeExpression=&quot;*&quot;);var dataType,i=0,dataTypes=dataTypeExpression.toLowerCase().match(rnotwhite)||[];if(jQuery.isFunction(func))for(;dataType=dataTypes[i++];)&quot;+&quot;===dataType[0]?(dataType=dataType.slice(1)||&quot;*&quot;,(structure[dataType]=structure[dataType]||[]).unshift(func)):(structure[dataType]=structure[dataType]||[]).push(func)}}function inspectPrefiltersOrTransports(structure,options,originalOptions,jqXHR){function inspect(dataType){var selected;return inspected[dataType]=!0,jQuery.each(structure[dataType]||[],function(_,prefilterOrFactory){var dataTypeOrTransport=prefilterOrFactory(options,originalOptions,jqXHR);return&quot;string&quot;!=typeof dataTypeOrTransport||seekingTransport||inspected[dataTypeOrTransport]?seekingTransport?!(selected=dataTypeOrTransport):void 0:(options.dataTypes.unshift(dataTypeOrTransport),inspect(dataTypeOrTransport),!1)}),selected}var inspected={},seekingTransport=structure===transports;return inspect(options.dataTypes[0])||!inspected[&quot;*&quot;]&amp;&amp;inspect(&quot;*&quot;)}function ajaxExtend(target,src){var key,deep,flatOptions=jQuery.ajaxSettings.flatOptions||{};for(key in src)void 0!==src[key]&amp;&amp;((flatOptions[key]?target:deep||(deep={}))[key]=src[key]);return deep&amp;&amp;jQuery.extend(!0,target,deep),target}function ajaxHandleResponses(s,jqXHR,responses){for(var ct,type,finalDataType,firstDataType,contents=s.contents,dataTypes=s.dataTypes;&quot;*&quot;===dataTypes[0];)dataTypes.shift(),void 0===ct&amp;&amp;(ct=s.mimeType||jqXHR.getResponseHeader(&quot;Content-Type&quot;));if(ct)for(type in contents)if(contents[type]&amp;&amp;contents[type].test(ct)){dataTypes.unshift(type);break}if(dataTypes[0]in responses)finalDataType=dataTypes[0];else{for(type in responses){if(!dataTypes[0]||s.converters[type+&quot; &quot;+dataTypes[0]]){finalDataType=type;break}firstDataType||(firstDataType=type)}finalDataType=finalDataType||firstDataType}return finalDataType?(finalDataType!==dataTypes[0]&amp;&amp;dataTypes.unshift(finalDataType),responses[finalDataType]):void 0}function ajaxConvert(s,response,jqXHR,isSuccess){var conv2,current,conv,tmp,prev,converters={},dataTypes=s.dataTypes.slice();if(dataTypes[1])for(conv in s.converters)converters[conv.toLowerCase()]=s.converters[conv];for(current=dataTypes.shift();current;)if(s.responseFields[current]&amp;&amp;(jqXHR[s.responseFields[current]]=response),!prev&amp;&amp;isSuccess&amp;&amp;s.dataFilter&amp;&amp;(response=s.dataFilter(response,s.dataType)),prev=current,current=dataTypes.shift())if(&quot;*&quot;===current)current=prev;else if(&quot;*&quot;!==prev&amp;&amp;prev!==current){if(conv=converters[prev+&quot; &quot;+current]||converters[&quot;* &quot;+current],!conv)for(conv2 in converters)if(tmp=conv2.split(&quot; &quot;),tmp[1]===current&amp;&amp;(conv=converters[prev+&quot; &quot;+tmp[0]]||converters[&quot;* &quot;+tmp[0]])){conv===!0?conv=converters[conv2]:converters[conv2]!==!0&amp;&amp;(current=tmp[0],dataTypes.unshift(tmp[1]));break}if(conv!==!0)if(conv&amp;&amp;s[&quot;throws&quot;])response=conv(response);else try{response=conv(response)}catch(e){return{state:&quot;parsererror&quot;,error:conv?e:&quot;No conversion from &quot;+prev+&quot; to &quot;+current}}}return{state:&quot;success&quot;,data:response}}function buildParams(prefix,obj,traditional,add){var name;if(jQuery.isArray(obj))jQuery.each(obj,function(i,v){traditional||rbracket.test(prefix)?add(prefix,v):buildParams(prefix+&quot;[&quot;+(&quot;object&quot;===(&quot;undefined&quot;==typeof v?&quot;undefined&quot;:_typeof(v))&amp;&amp;null!=v?i:&quot;&quot;)+&quot;]&quot;,v,traditional,add)});else if(traditional||&quot;object&quot;!==jQuery.type(obj))add(prefix,obj);else for(name in obj)buildParams(prefix+&quot;[&quot;+name+&quot;]&quot;,obj[name],traditional,add)}function getWindow(elem){return jQuery.isWindow(elem)?elem:9===elem.nodeType&amp;&amp;elem.defaultView}var arr=[],document=window.document,_slice=arr.slice,concat=arr.concat,push=arr.push,indexOf=arr.indexOf,class2type={},toString=class2type.toString,hasOwn=class2type.hasOwnProperty,support={},version=&quot;2.2.0&quot;,jQuery=function jQuery(selector,context){return new jQuery.fn.init(selector,context)},rtrim=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,rmsPrefix=/^-ms-/,rdashAlpha=/-([\da-z])/gi,fcamelCase=function(all,letter){return letter.toUpperCase()};jQuery.fn=jQuery.prototype={jquery:version,constructor:jQuery,selector:&quot;&quot;,length:0,toArray:function(){return _slice.call(this)},get:function(num){return null!=num?0&gt;num?this[num+this.length]:this[num]:_slice.call(this)},pushStack:function(elems){var ret=jQuery.merge(this.constructor(),elems);return ret.prevObject=this,ret.context=this.context,ret},each:function(callback){return jQuery.each(this,callback)},map:function(callback){return this.pushStack(jQuery.map(this,function(elem,i){return callback.call(elem,i,elem)}))},slice:function(){return this.pushStack(_slice.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(i){var len=this.length,j=+i+(0&gt;i?len:0);return this.pushStack(j&gt;=0&amp;&amp;len&gt;j?[this[j]]:[])},end:function(){return this.prevObject||this.constructor()},push:push,sort:arr.sort,splice:arr.splice},jQuery.extend=jQuery.fn.extend=function(){var options,name,src,copy,copyIsArray,clone,target=arguments[0]||{},i=1,length=arguments.length,deep=!1;for(&quot;boolean&quot;==typeof target&amp;&amp;(deep=target,target=arguments[i]||{},i++),&quot;object&quot;===(&quot;undefined&quot;==typeof target?&quot;undefined&quot;:_typeof(target))||jQuery.isFunction(target)||(target={}),i===length&amp;&amp;(target=this,i--);length&gt;i;i++)if(null!=(options=arguments[i]))for(name in options)src=target[name],copy=options[name],target!==copy&amp;&amp;(deep&amp;&#xA9;&amp;&amp;(jQuery.isPlainObject(copy)||(copyIsArray=jQuery.isArray(copy)))?(copyIsArray?(copyIsArray=!1,clone=src&amp;&amp;jQuery.isArray(src)?src:[]):clone=src&amp;&amp;jQuery.isPlainObject(src)?src:{},target[name]=jQuery.extend(deep,clone,copy)):void 0!==copy&amp;&amp;(target[name]=copy));return target},jQuery.extend({expando:&quot;jQuery&quot;+(version+Math.random()).replace(/\D/g,&quot;&quot;),isReady:!0,error:function(msg){throw new Error(msg)},noop:function(){},isFunction:function(obj){return&quot;function&quot;===jQuery.type(obj)},isArray:Array.isArray,isWindow:function(obj){return null!=obj&amp;&amp;obj===obj.window},isNumeric:function(obj){var realStringObj=obj&amp;&amp;obj.toString();return!jQuery.isArray(obj)&amp;&amp;realStringObj-parseFloat(realStringObj)+1&gt;=0},isPlainObject:function(obj){return&quot;object&quot;!==jQuery.type(obj)||obj.nodeType||jQuery.isWindow(obj)?!1:obj.constructor&amp;&amp;!hasOwn.call(obj.constructor.prototype,&quot;isPrototypeOf&quot;)?!1:!0},isEmptyObject:function(obj){var name;for(name in obj)return!1;return!0},type:function(obj){return null==obj?obj+&quot;&quot;:&quot;object&quot;===(&quot;undefined&quot;==typeof obj?&quot;undefined&quot;:_typeof(obj))||&quot;function&quot;==typeof obj?class2type[toString.call(obj)]||&quot;object&quot;:&quot;undefined&quot;==typeof obj?&quot;undefined&quot;:_typeof(obj)},globalEval:function(code){var script,indirect=eval;code=jQuery.trim(code),code&amp;&amp;(1===code.indexOf(&quot;use strict&quot;)?(script=document.createElement(&quot;script&quot;),script.text=code,document.head.appendChild(script).parentNode.removeChild(script)):indirect(code))},camelCase:function(string){return string.replace(rmsPrefix,&quot;ms-&quot;).replace(rdashAlpha,fcamelCase)},nodeName:function(elem,name){return elem.nodeName&amp;&amp;elem.nodeName.toLowerCase()===name.toLowerCase()},each:function(obj,callback){var length,i=0;if(isArrayLike(obj))for(length=obj.length;length&gt;i&amp;&amp;callback.call(obj[i],i,obj[i])!==!1;i++);else for(i in obj)if(callback.call(obj[i],i,obj[i])===!1)break;return obj},trim:function(text){return null==text?&quot;&quot;:(text+&quot;&quot;).replace(rtrim,&quot;&quot;)},makeArray:function(arr,results){var ret=results||[];return null!=arr&amp;&amp;(isArrayLike(Object(arr))?jQuery.merge(ret,&quot;string&quot;==typeof arr?[arr]:arr):push.call(ret,arr)),ret},inArray:function(elem,arr,i){return null==arr?-1:indexOf.call(arr,elem,i)},merge:function(first,second){for(var len=+second.length,j=0,i=first.length;len&gt;j;j++)first[i++]=second[j];return first.length=i,first},grep:function(elems,callback,invert){for(var callbackInverse,matches=[],i=0,length=elems.length,callbackExpect=!invert;length&gt;i;i++)callbackInverse=!callback(elems[i],i),callbackInverse!==callbackExpect&amp;&amp;matches.push(elems[i]);return matches},map:function(elems,callback,arg){var length,value,i=0,ret=[];if(isArrayLike(elems))for(length=elems.length;length&gt;i;i++)value=callback(elems[i],i,arg),null!=value&amp;&amp;ret.push(value);else for(i in elems)value=callback(elems[i],i,arg),null!=value&amp;&amp;ret.push(value);return concat.apply([],ret)},guid:1,proxy:function proxy(fn,context){var tmp,args,proxy;return&quot;string&quot;==typeof context&amp;&amp;(tmp=fn[context],context=fn,fn=tmp),jQuery.isFunction(fn)?(args=_slice.call(arguments,2),proxy=function(){return fn.apply(context||this,args.concat(_slice.call(arguments)))},proxy.guid=fn.guid=fn.guid||jQuery.guid++,proxy):void 0},now:Date.now,support:support}),&quot;function&quot;==typeof Symbol&amp;&amp;(jQuery.fn[Symbol.iterator]=arr[Symbol.iterator]),jQuery.each(&quot;Boolean Number String Function Array Date RegExp Object Error Symbol&quot;.split(&quot; &quot;),function(i,name){class2type[&quot;[object &quot;+name+&quot;]&quot;]=name.toLowerCase()});var Sizzle=function(window){function Sizzle(selector,context,results,seed){var m,i,elem,nid,nidselect,match,groups,newSelector,newContext=context&amp;&amp;context.ownerDocument,nodeType=context?context.nodeType:9;if(results=results||[],&quot;string&quot;!=typeof selector||!selector||1!==nodeType&amp;&amp;9!==nodeType&amp;&amp;11!==nodeType)return results;if(!seed&amp;&amp;((context?context.ownerDocument||context:preferredDoc)!==document&amp;&amp;setDocument(context),context=context||document,documentIsHTML)){if(11!==nodeType&amp;&amp;(match=rquickExpr.exec(selector)))if(m=match[1]){if(9===nodeType){if(!(elem=context.getElementById(m)))return results;if(elem.id===m)return results.push(elem),results}else if(newContext&amp;&amp;(elem=newContext.getElementById(m))&amp;&amp;contains(context,elem)&amp;&amp;elem.id===m)return results.push(elem),results}else{if(match[2])return push.apply(results,context.getElementsByTagName(selector)),results;if((m=match[3])&amp;&amp;support.getElementsByClassName&amp;&amp;context.getElementsByClassName)return push.apply(results,context.getElementsByClassName(m)),results}if(!(!support.qsa||compilerCache[selector+&quot; &quot;]||rbuggyQSA&amp;&amp;rbuggyQSA.test(selector))){if(1!==nodeType)newContext=context,newSelector=selector;else if(&quot;object&quot;!==context.nodeName.toLowerCase()){
for((nid=context.getAttribute(&quot;id&quot;))?nid=nid.replace(rescape,&quot;\\$&amp;&quot;):context.setAttribute(&quot;id&quot;,nid=expando),groups=tokenize(selector),i=groups.length,nidselect=ridentifier.test(nid)?&quot;#&quot;+nid:&quot;[id=&apos;&quot;+nid+&quot;&apos;]&quot;;i--;)groups[i]=nidselect+&quot; &quot;+toSelector(groups[i]);newSelector=groups.join(&quot;,&quot;),newContext=rsibling.test(selector)&amp;&amp;testContext(context.parentNode)||context}if(newSelector)try{return push.apply(results,newContext.querySelectorAll(newSelector)),results}catch(qsaError){}finally{nid===expando&amp;&amp;context.removeAttribute(&quot;id&quot;)}}}return select(selector.replace(rtrim,&quot;$1&quot;),context,results,seed)}function createCache(){function cache(key,value){return keys.push(key+&quot; &quot;)&gt;Expr.cacheLength&amp;&amp;delete cache[keys.shift()],cache[key+&quot; &quot;]=value}var keys=[];return cache}function markFunction(fn){return fn[expando]=!0,fn}function assert(fn){var div=document.createElement(&quot;div&quot;);try{return!!fn(div)}catch(e){return!1}finally{div.parentNode&amp;&amp;div.parentNode.removeChild(div),div=null}}function addHandle(attrs,handler){for(var arr=attrs.split(&quot;|&quot;),i=arr.length;i--;)Expr.attrHandle[arr[i]]=handler}function siblingCheck(a,b){var cur=b&amp;&amp;a,diff=cur&amp;&amp;1===a.nodeType&amp;&amp;1===b.nodeType&amp;&amp;(~b.sourceIndex||MAX_NEGATIVE)-(~a.sourceIndex||MAX_NEGATIVE);if(diff)return diff;if(cur)for(;cur=cur.nextSibling;)if(cur===b)return-1;return a?1:-1}function createInputPseudo(type){return function(elem){var name=elem.nodeName.toLowerCase();return&quot;input&quot;===name&amp;&amp;elem.type===type}}function createButtonPseudo(type){return function(elem){var name=elem.nodeName.toLowerCase();return(&quot;input&quot;===name||&quot;button&quot;===name)&amp;&amp;elem.type===type}}function createPositionalPseudo(fn){return markFunction(function(argument){return argument=+argument,markFunction(function(seed,matches){for(var j,matchIndexes=fn([],seed.length,argument),i=matchIndexes.length;i--;)seed[j=matchIndexes[i]]&amp;&amp;(seed[j]=!(matches[j]=seed[j]))})})}function testContext(context){return context&amp;&amp;&quot;undefined&quot;!=typeof context.getElementsByTagName&amp;&amp;context}function setFilters(){}function toSelector(tokens){for(var i=0,len=tokens.length,selector=&quot;&quot;;len&gt;i;i++)selector+=tokens[i].value;return selector}function addCombinator(matcher,combinator,base){var dir=combinator.dir,checkNonElements=base&amp;&amp;&quot;parentNode&quot;===dir,doneName=done++;return combinator.first?function(elem,context,xml){for(;elem=elem[dir];)if(1===elem.nodeType||checkNonElements)return matcher(elem,context,xml)}:function(elem,context,xml){var oldCache,uniqueCache,outerCache,newCache=[dirruns,doneName];if(xml){for(;elem=elem[dir];)if((1===elem.nodeType||checkNonElements)&amp;&amp;matcher(elem,context,xml))return!0}else for(;elem=elem[dir];)if(1===elem.nodeType||checkNonElements){if(outerCache=elem[expando]||(elem[expando]={}),uniqueCache=outerCache[elem.uniqueID]||(outerCache[elem.uniqueID]={}),(oldCache=uniqueCache[dir])&amp;&amp;oldCache[0]===dirruns&amp;&amp;oldCache[1]===doneName)return newCache[2]=oldCache[2];if(uniqueCache[dir]=newCache,newCache[2]=matcher(elem,context,xml))return!0}}}function elementMatcher(matchers){return matchers.length&gt;1?function(elem,context,xml){for(var i=matchers.length;i--;)if(!matchers[i](elem,context,xml))return!1;return!0}:matchers[0]}function multipleContexts(selector,contexts,results){for(var i=0,len=contexts.length;len&gt;i;i++)Sizzle(selector,contexts[i],results);return results}function condense(unmatched,map,filter,context,xml){for(var elem,newUnmatched=[],i=0,len=unmatched.length,mapped=null!=map;len&gt;i;i++)(elem=unmatched[i])&amp;&amp;(!filter||filter(elem,context,xml))&amp;&amp;(newUnmatched.push(elem),mapped&amp;&amp;map.push(i));return newUnmatched}function setMatcher(preFilter,selector,matcher,postFilter,postFinder,postSelector){return postFilter&amp;&amp;!postFilter[expando]&amp;&amp;(postFilter=setMatcher(postFilter)),postFinder&amp;&amp;!postFinder[expando]&amp;&amp;(postFinder=setMatcher(postFinder,postSelector)),markFunction(function(seed,results,context,xml){var temp,i,elem,preMap=[],postMap=[],preexisting=results.length,elems=seed||multipleContexts(selector||&quot;*&quot;,context.nodeType?[context]:context,[]),matcherIn=!preFilter||!seed&amp;&amp;selector?elems:condense(elems,preMap,preFilter,context,xml),matcherOut=matcher?postFinder||(seed?preFilter:preexisting||postFilter)?[]:results:matcherIn;if(matcher&amp;&amp;matcher(matcherIn,matcherOut,context,xml),postFilter)for(temp=condense(matcherOut,postMap),postFilter(temp,[],context,xml),i=temp.length;i--;)(elem=temp[i])&amp;&amp;(matcherOut[postMap[i]]=!(matcherIn[postMap[i]]=elem));if(seed){if(postFinder||preFilter){if(postFinder){for(temp=[],i=matcherOut.length;i--;)(elem=matcherOut[i])&amp;&amp;temp.push(matcherIn[i]=elem);postFinder(null,matcherOut=[],temp,xml)}for(i=matcherOut.length;i--;)(elem=matcherOut[i])&amp;&amp;(temp=postFinder?indexOf(seed,elem):preMap[i])&gt;-1&amp;&amp;(seed[temp]=!(results[temp]=elem))}}else matcherOut=condense(matcherOut===results?matcherOut.splice(preexisting,matcherOut.length):matcherOut),postFinder?postFinder(null,results,matcherOut,xml):push.apply(results,matcherOut)})}function matcherFromTokens(tokens){for(var checkContext,matcher,j,len=tokens.length,leadingRelative=Expr.relative[tokens[0].type],implicitRelative=leadingRelative||Expr.relative[&quot; &quot;],i=leadingRelative?1:0,matchContext=addCombinator(function(elem){return elem===checkContext},implicitRelative,!0),matchAnyContext=addCombinator(function(elem){return indexOf(checkContext,elem)&gt;-1},implicitRelative,!0),matchers=[function(elem,context,xml){var ret=!leadingRelative&amp;&amp;(xml||context!==outermostContext)||((checkContext=context).nodeType?matchContext(elem,context,xml):matchAnyContext(elem,context,xml));return checkContext=null,ret}];len&gt;i;i++)if(matcher=Expr.relative[tokens[i].type])matchers=[addCombinator(elementMatcher(matchers),matcher)];else{if(matcher=Expr.filter[tokens[i].type].apply(null,tokens[i].matches),matcher[expando]){for(j=++i;len&gt;j&amp;&amp;!Expr.relative[tokens[j].type];j++);return setMatcher(i&gt;1&amp;&amp;elementMatcher(matchers),i&gt;1&amp;&amp;toSelector(tokens.slice(0,i-1).concat({value:&quot; &quot;===tokens[i-2].type?&quot;*&quot;:&quot;&quot;})).replace(rtrim,&quot;$1&quot;),matcher,j&gt;i&amp;&amp;matcherFromTokens(tokens.slice(i,j)),len&gt;j&amp;&amp;matcherFromTokens(tokens=tokens.slice(j)),len&gt;j&amp;&amp;toSelector(tokens))}matchers.push(matcher)}return elementMatcher(matchers)}function matcherFromGroupMatchers(elementMatchers,setMatchers){var bySet=setMatchers.length&gt;0,byElement=elementMatchers.length&gt;0,superMatcher=function(seed,context,xml,results,outermost){var elem,j,matcher,matchedCount=0,i=&quot;0&quot;,unmatched=seed&amp;&amp;[],setMatched=[],contextBackup=outermostContext,elems=seed||byElement&amp;&amp;Expr.find.TAG(&quot;*&quot;,outermost),dirrunsUnique=dirruns+=null==contextBackup?1:Math.random()||.1,len=elems.length;for(outermost&amp;&amp;(outermostContext=context===document||context||outermost);i!==len&amp;&amp;null!=(elem=elems[i]);i++){if(byElement&amp;&amp;elem){for(j=0,context||elem.ownerDocument===document||(setDocument(elem),xml=!documentIsHTML);matcher=elementMatchers[j++];)if(matcher(elem,context||document,xml)){results.push(elem);break}outermost&amp;&amp;(dirruns=dirrunsUnique)}bySet&amp;&amp;((elem=!matcher&amp;&amp;elem)&amp;&amp;matchedCount--,seed&amp;&amp;unmatched.push(elem))}if(matchedCount+=i,bySet&amp;&amp;i!==matchedCount){for(j=0;matcher=setMatchers[j++];)matcher(unmatched,setMatched,context,xml);if(seed){if(matchedCount&gt;0)for(;i--;)unmatched[i]||setMatched[i]||(setMatched[i]=pop.call(results));setMatched=condense(setMatched)}push.apply(results,setMatched),outermost&amp;&amp;!seed&amp;&amp;setMatched.length&gt;0&amp;&amp;matchedCount+setMatchers.length&gt;1&amp;&amp;Sizzle.uniqueSort(results)}return outermost&amp;&amp;(dirruns=dirrunsUnique,outermostContext=contextBackup),unmatched};return bySet?markFunction(superMatcher):superMatcher}var i,support,Expr,getText,isXML,tokenize,compile,select,outermostContext,sortInput,hasDuplicate,setDocument,document,docElem,documentIsHTML,rbuggyQSA,rbuggyMatches,matches,contains,expando=&quot;sizzle&quot;+1*new Date,preferredDoc=window.document,dirruns=0,done=0,classCache=createCache(),tokenCache=createCache(),compilerCache=createCache(),sortOrder=function(a,b){return a===b&amp;&amp;(hasDuplicate=!0),0},MAX_NEGATIVE=1&lt;<31,hasown={}.hasownproperty,arr=[],pop=arr.pop,push_native=arr.push,push=arr.push,slice=arr.slice,indexof=function(list,elem){for(var i="0,len=list.length;len">i;i++)if(list[i]===elem)return i;return-1},booleans=&quot;checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped&quot;,whitespace=&quot;[\\x20\\t\\r\\n\\f]&quot;,identifier=&quot;(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+&quot;,attributes=&quot;\\[&quot;+whitespace+&quot;*(&quot;+identifier+&quot;)(?:&quot;+whitespace+&quot;*([*^$|!~]?=)&quot;+whitespace+&quot;*(?:&apos;((?:\\\\.|[^\\\\&apos;])*)&apos;|\&quot;((?:\\\\.|[^\\\\\&quot;])*)\&quot;|(&quot;+identifier+&quot;))|)&quot;+whitespace+&quot;*\\]&quot;,pseudos=&quot;:(&quot;+identifier+&quot;)(?:\\(((&apos;((?:\\\\.|[^\\\\&apos;])*)&apos;|\&quot;((?:\\\\.|[^\\\\\&quot;])*)\&quot;)|((?:\\\\.|[^\\\\()[\\]]|&quot;+attributes+&quot;)*)|.*)\\)|)&quot;,rwhitespace=new RegExp(whitespace+&quot;+&quot;,&quot;g&quot;),rtrim=new RegExp(&quot;^&quot;+whitespace+&quot;+|((?:^|[^\\\\])(?:\\\\.)*)&quot;+whitespace+&quot;+$&quot;,&quot;g&quot;),rcomma=new RegExp(&quot;^&quot;+whitespace+&quot;*,&quot;+whitespace+&quot;*&quot;),rcombinators=new RegExp(&quot;^&quot;+whitespace+&quot;*([&gt;+~]|&quot;+whitespace+&quot;)&quot;+whitespace+&quot;*&quot;),rattributeQuotes=new RegExp(&quot;=&quot;+whitespace+&quot;*([^\\]&apos;\&quot;]*?)&quot;+whitespace+&quot;*\\]&quot;,&quot;g&quot;),rpseudo=new RegExp(pseudos),ridentifier=new RegExp(&quot;^&quot;+identifier+&quot;$&quot;),matchExpr={ID:new RegExp(&quot;^#(&quot;+identifier+&quot;)&quot;),CLASS:new RegExp(&quot;^\\.(&quot;+identifier+&quot;)&quot;),TAG:new RegExp(&quot;^(&quot;+identifier+&quot;|[*])&quot;),ATTR:new RegExp(&quot;^&quot;+attributes),PSEUDO:new RegExp(&quot;^&quot;+pseudos),CHILD:new RegExp(&quot;^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\(&quot;+whitespace+&quot;*(even|odd|(([+-]|)(\\d*)n|)&quot;+whitespace+&quot;*(?:([+-]|)&quot;+whitespace+&quot;*(\\d+)|))&quot;+whitespace+&quot;*\\)|)&quot;,&quot;i&quot;),bool:new RegExp(&quot;^(?:&quot;+booleans+&quot;)$&quot;,&quot;i&quot;),needsContext:new RegExp(&quot;^&quot;+whitespace+&quot;*[&gt;+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\(&quot;+whitespace+&quot;*((?:-\\d)?\\d*)&quot;+whitespace+&quot;*\\)|)(?=[^-]|$)&quot;,&quot;i&quot;)},rinputs=/^(?:input|select|textarea|button)$/i,rheader=/^h\d$/i,rnative=/^[^{]+\{\s*\[native \w/,rquickExpr=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,rsibling=/[+~]/,rescape=/&apos;|\\/g,runescape=new RegExp(&quot;\\\\([\\da-f]{1,6}&quot;+whitespace+&quot;?|(&quot;+whitespace+&quot;)|.)&quot;,&quot;ig&quot;),funescape=function(_,escaped,escapedWhitespace){var high=&quot;0x&quot;+escaped-65536;return high!==high||escapedWhitespace?escaped:0&gt;high?String.fromCharCode(high+65536):String.fromCharCode(high&gt;&gt;10|55296,1023&amp;high|56320)},unloadHandler=function(){setDocument()};try{push.apply(arr=slice.call(preferredDoc.childNodes),preferredDoc.childNodes),arr[preferredDoc.childNodes.length].nodeType}catch(e){push={apply:arr.length?function(target,els){push_native.apply(target,slice.call(els))}:function(target,els){for(var j=target.length,i=0;target[j++]=els[i++];);target.length=j-1}}}support=Sizzle.support={},isXML=Sizzle.isXML=function(elem){var documentElement=elem&amp;&amp;(elem.ownerDocument||elem).documentElement;return documentElement?&quot;HTML&quot;!==documentElement.nodeName:!1},setDocument=Sizzle.setDocument=function(node){var hasCompare,parent,doc=node?node.ownerDocument||node:preferredDoc;return doc!==document&amp;&amp;9===doc.nodeType&amp;&amp;doc.documentElement?(document=doc,docElem=document.documentElement,documentIsHTML=!isXML(document),(parent=document.defaultView)&amp;&amp;parent.top!==parent&amp;&amp;(parent.addEventListener?parent.addEventListener(&quot;unload&quot;,unloadHandler,!1):parent.attachEvent&amp;&amp;parent.attachEvent(&quot;onunload&quot;,unloadHandler)),support.attributes=assert(function(div){return div.className=&quot;i&quot;,!div.getAttribute(&quot;className&quot;)}),support.getElementsByTagName=assert(function(div){return div.appendChild(document.createComment(&quot;&quot;)),!div.getElementsByTagName(&quot;*&quot;).length}),support.getElementsByClassName=rnative.test(document.getElementsByClassName),support.getById=assert(function(div){return docElem.appendChild(div).id=expando,!document.getElementsByName||!document.getElementsByName(expando).length}),support.getById?(Expr.find.ID=function(id,context){if(&quot;undefined&quot;!=typeof context.getElementById&amp;&amp;documentIsHTML){var m=context.getElementById(id);return m?[m]:[]}},Expr.filter.ID=function(id){var attrId=id.replace(runescape,funescape);return function(elem){return elem.getAttribute(&quot;id&quot;)===attrId}}):(delete Expr.find.ID,Expr.filter.ID=function(id){var attrId=id.replace(runescape,funescape);return function(elem){var node=&quot;undefined&quot;!=typeof elem.getAttributeNode&amp;&amp;elem.getAttributeNode(&quot;id&quot;);return node&amp;&amp;node.value===attrId}}),Expr.find.TAG=support.getElementsByTagName?function(tag,context){return&quot;undefined&quot;!=typeof context.getElementsByTagName?context.getElementsByTagName(tag):support.qsa?context.querySelectorAll(tag):void 0}:function(tag,context){var elem,tmp=[],i=0,results=context.getElementsByTagName(tag);if(&quot;*&quot;===tag){for(;elem=results[i++];)1===elem.nodeType&amp;&amp;tmp.push(elem);return tmp}return results},Expr.find.CLASS=support.getElementsByClassName&amp;&amp;function(className,context){return&quot;undefined&quot;!=typeof context.getElementsByClassName&amp;&amp;documentIsHTML?context.getElementsByClassName(className):void 0},rbuggyMatches=[],rbuggyQSA=[],(support.qsa=rnative.test(document.querySelectorAll))&amp;&amp;(assert(function(div){docElem.appendChild(div).innerHTML=&quot;<a id="" +expando+""=""></a><select id="" +expando+"-\r\\"="" msallowcapture=""><option selected></option></select>&quot;,div.querySelectorAll(&quot;[msallowcapture^=&apos;&apos;]&quot;).length&amp;&amp;rbuggyQSA.push(&quot;[*^$]=&quot;+whitespace+&quot;*(?:&apos;&apos;|\&quot;\&quot;)&quot;),div.querySelectorAll(&quot;[selected]&quot;).length||rbuggyQSA.push(&quot;\\[&quot;+whitespace+&quot;*(?:value|&quot;+booleans+&quot;)&quot;),div.querySelectorAll(&quot;[id~=&quot;+expando+&quot;-]&quot;).length||rbuggyQSA.push(&quot;~=&quot;),div.querySelectorAll(&quot;:checked&quot;).length||rbuggyQSA.push(&quot;:checked&quot;),div.querySelectorAll(&quot;a#&quot;+expando+&quot;+*&quot;).length||rbuggyQSA.push(&quot;.#.+[+~]&quot;)}),assert(function(div){var input=document.createElement(&quot;input&quot;);input.setAttribute(&quot;type&quot;,&quot;hidden&quot;),div.appendChild(input).setAttribute(&quot;name&quot;,&quot;D&quot;),div.querySelectorAll(&quot;[name=d]&quot;).length&amp;&amp;rbuggyQSA.push(&quot;name&quot;+whitespace+&quot;*[*^$|!~]?=&quot;),div.querySelectorAll(&quot;:enabled&quot;).length||rbuggyQSA.push(&quot;:enabled&quot;,&quot;:disabled&quot;),div.querySelectorAll(&quot;*,:x&quot;),rbuggyQSA.push(&quot;,.*:&quot;)})),(support.matchesSelector=rnative.test(matches=docElem.matches||docElem.webkitMatchesSelector||docElem.mozMatchesSelector||docElem.oMatchesSelector||docElem.msMatchesSelector))&amp;&amp;assert(function(div){support.disconnectedMatch=matches.call(div,&quot;div&quot;),matches.call(div,&quot;[s!=&apos;&apos;]:x&quot;),rbuggyMatches.push(&quot;!=&quot;,pseudos)}),rbuggyQSA=rbuggyQSA.length&amp;&amp;new RegExp(rbuggyQSA.join(&quot;|&quot;)),rbuggyMatches=rbuggyMatches.length&amp;&amp;new RegExp(rbuggyMatches.join(&quot;|&quot;)),hasCompare=rnative.test(docElem.compareDocumentPosition),contains=hasCompare||rnative.test(docElem.contains)?function(a,b){var adown=9===a.nodeType?a.documentElement:a,bup=b&amp;&amp;b.parentNode;return a===bup||!(!bup||1!==bup.nodeType||!(adown.contains?adown.contains(bup):a.compareDocumentPosition&amp;&amp;16&amp;a.compareDocumentPosition(bup)))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1},sortOrder=hasCompare?function(a,b){if(a===b)return hasDuplicate=!0,0;var compare=!a.compareDocumentPosition-!b.compareDocumentPosition;return compare?compare:(compare=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&amp;compare||!support.sortDetached&amp;&amp;b.compareDocumentPosition(a)===compare?a===document||a.ownerDocument===preferredDoc&amp;&amp;contains(preferredDoc,a)?-1:b===document||b.ownerDocument===preferredDoc&amp;&amp;contains(preferredDoc,b)?1:sortInput?indexOf(sortInput,a)-indexOf(sortInput,b):0:4&amp;compare?-1:1)}:function(a,b){if(a===b)return hasDuplicate=!0,0;var cur,i=0,aup=a.parentNode,bup=b.parentNode,ap=[a],bp=[b];if(!aup||!bup)return a===document?-1:b===document?1:aup?-1:bup?1:sortInput?indexOf(sortInput,a)-indexOf(sortInput,b):0;if(aup===bup)return siblingCheck(a,b);for(cur=a;cur=cur.parentNode;)ap.unshift(cur);for(cur=b;cur=cur.parentNode;)bp.unshift(cur);for(;ap[i]===bp[i];)i++;return i?siblingCheck(ap[i],bp[i]):ap[i]===preferredDoc?-1:bp[i]===preferredDoc?1:0},document):document},Sizzle.matches=function(expr,elements){return Sizzle(expr,null,null,elements)},Sizzle.matchesSelector=function(elem,expr){if((elem.ownerDocument||elem)!==document&amp;&amp;setDocument(elem),expr=expr.replace(rattributeQuotes,&quot;=&apos;$1&apos;]&quot;),!(!support.matchesSelector||!documentIsHTML||compilerCache[expr+&quot; &quot;]||rbuggyMatches&amp;&amp;rbuggyMatches.test(expr)||rbuggyQSA&amp;&amp;rbuggyQSA.test(expr)))try{var ret=matches.call(elem,expr);if(ret||support.disconnectedMatch||elem.document&amp;&amp;11!==elem.document.nodeType)return ret}catch(e){}return Sizzle(expr,document,null,[elem]).length&gt;0},Sizzle.contains=function(context,elem){return(context.ownerDocument||context)!==document&amp;&amp;setDocument(context),contains(context,elem)},Sizzle.attr=function(elem,name){(elem.ownerDocument||elem)!==document&amp;&amp;setDocument(elem);var fn=Expr.attrHandle[name.toLowerCase()],val=fn&amp;&amp;hasOwn.call(Expr.attrHandle,name.toLowerCase())?fn(elem,name,!documentIsHTML):void 0;return void 0!==val?val:support.attributes||!documentIsHTML?elem.getAttribute(name):(val=elem.getAttributeNode(name))&amp;&amp;val.specified?val.value:null},Sizzle.error=function(msg){throw new Error(&quot;Syntax error, unrecognized expression: &quot;+msg)},Sizzle.uniqueSort=function(results){var elem,duplicates=[],j=0,i=0;if(hasDuplicate=!support.detectDuplicates,sortInput=!support.sortStable&amp;&amp;results.slice(0),results.sort(sortOrder),hasDuplicate){for(;elem=results[i++];)elem===results[i]&amp;&amp;(j=duplicates.push(i));for(;j--;)results.splice(duplicates[j],1)}return sortInput=null,results},getText=Sizzle.getText=function(elem){var node,ret=&quot;&quot;,i=0,nodeType=elem.nodeType;if(nodeType){if(1===nodeType||9===nodeType||11===nodeType){if(&quot;string&quot;==typeof elem.textContent)return elem.textContent;for(elem=elem.firstChild;elem;elem=elem.nextSibling)ret+=getText(elem)}else if(3===nodeType||4===nodeType)return elem.nodeValue}else for(;node=elem[i++];)ret+=getText(node);return ret},Expr=Sizzle.selectors={cacheLength:50,createPseudo:markFunction,match:matchExpr,attrHandle:{},find:{},relative:{&quot;&gt;&quot;:{dir:&quot;parentNode&quot;,first:!0},&quot; &quot;:{dir:&quot;parentNode&quot;},&quot;+&quot;:{dir:&quot;previousSibling&quot;,first:!0},&quot;~&quot;:{dir:&quot;previousSibling&quot;}},preFilter:{ATTR:function(match){return match[1]=match[1].replace(runescape,funescape),match[3]=(match[3]||match[4]||match[5]||&quot;&quot;).replace(runescape,funescape),&quot;~=&quot;===match[2]&amp;&amp;(match[3]=&quot; &quot;+match[3]+&quot; &quot;),match.slice(0,4)},CHILD:function(match){return match[1]=match[1].toLowerCase(),&quot;nth&quot;===match[1].slice(0,3)?(match[3]||Sizzle.error(match[0]),match[4]=+(match[4]?match[5]+(match[6]||1):2*(&quot;even&quot;===match[3]||&quot;odd&quot;===match[3])),match[5]=+(match[7]+match[8]||&quot;odd&quot;===match[3])):match[3]&amp;&amp;Sizzle.error(match[0]),match},PSEUDO:function(match){var excess,unquoted=!match[6]&amp;&amp;match[2];return matchExpr.CHILD.test(match[0])?null:(match[3]?match[2]=match[4]||match[5]||&quot;&quot;:unquoted&amp;&amp;rpseudo.test(unquoted)&amp;&amp;(excess=tokenize(unquoted,!0))&amp;&amp;(excess=unquoted.indexOf(&quot;)&quot;,unquoted.length-excess)-unquoted.length)&amp;&amp;(match[0]=match[0].slice(0,excess),match[2]=unquoted.slice(0,excess)),match.slice(0,3))}},filter:{TAG:function(nodeNameSelector){var nodeName=nodeNameSelector.replace(runescape,funescape).toLowerCase();return&quot;*&quot;===nodeNameSelector?function(){return!0}:function(elem){return elem.nodeName&amp;&amp;elem.nodeName.toLowerCase()===nodeName}},CLASS:function(className){var pattern=classCache[className+&quot; &quot;];return pattern||(pattern=new RegExp(&quot;(^|&quot;+whitespace+&quot;)&quot;+className+&quot;(&quot;+whitespace+&quot;|$)&quot;))&amp;&amp;classCache(className,function(elem){return pattern.test(&quot;string&quot;==typeof elem.className&amp;&amp;elem.className||&quot;undefined&quot;!=typeof elem.getAttribute&amp;&amp;elem.getAttribute(&quot;class&quot;)||&quot;&quot;)})},ATTR:function(name,operator,check){return function(elem){var result=Sizzle.attr(elem,name);return null==result?&quot;!=&quot;===operator:operator?(result+=&quot;&quot;,&quot;=&quot;===operator?result===check:&quot;!=&quot;===operator?result!==check:&quot;^=&quot;===operator?check&amp;&amp;0===result.indexOf(check):&quot;*=&quot;===operator?check&amp;&amp;result.indexOf(check)&gt;-1:&quot;$=&quot;===operator?check&amp;&amp;result.slice(-check.length)===check:&quot;~=&quot;===operator?(&quot; &quot;+result.replace(rwhitespace,&quot; &quot;)+&quot; &quot;).indexOf(check)&gt;-1:&quot;|=&quot;===operator?result===check||result.slice(0,check.length+1)===check+&quot;-&quot;:!1):!0}},CHILD:function(type,what,argument,first,last){var simple=&quot;nth&quot;!==type.slice(0,3),forward=&quot;last&quot;!==type.slice(-4),ofType=&quot;of-type&quot;===what;return 1===first&amp;&amp;0===last?function(elem){return!!elem.parentNode}:function(elem,context,xml){var cache,uniqueCache,outerCache,node,nodeIndex,start,dir=simple!==forward?&quot;nextSibling&quot;:&quot;previousSibling&quot;,parent=elem.parentNode,name=ofType&amp;&amp;elem.nodeName.toLowerCase(),useCache=!xml&amp;&amp;!ofType,diff=!1;if(parent){if(simple){for(;dir;){for(node=elem;node=node[dir];)if(ofType?node.nodeName.toLowerCase()===name:1===node.nodeType)return!1;start=dir=&quot;only&quot;===type&amp;&amp;!start&amp;&amp;&quot;nextSibling&quot;}return!0}if(start=[forward?parent.firstChild:parent.lastChild],forward&amp;&amp;useCache){for(node=parent,outerCache=node[expando]||(node[expando]={}),uniqueCache=outerCache[node.uniqueID]||(outerCache[node.uniqueID]={}),cache=uniqueCache[type]||[],nodeIndex=cache[0]===dirruns&amp;&amp;cache[1],diff=nodeIndex&amp;&amp;cache[2],node=nodeIndex&amp;&amp;parent.childNodes[nodeIndex];node=++nodeIndex&amp;&amp;node&amp;&amp;node[dir]||(diff=nodeIndex=0)||start.pop();)if(1===node.nodeType&amp;&amp;++diff&amp;&amp;node===elem){uniqueCache[type]=[dirruns,nodeIndex,diff];break}}else if(useCache&amp;&amp;(node=elem,outerCache=node[expando]||(node[expando]={}),uniqueCache=outerCache[node.uniqueID]||(outerCache[node.uniqueID]={}),cache=uniqueCache[type]||[],nodeIndex=cache[0]===dirruns&amp;&amp;cache[1],diff=nodeIndex),diff===!1)for(;(node=++nodeIndex&amp;&amp;node&amp;&amp;node[dir]||(diff=nodeIndex=0)||start.pop())&amp;&amp;((ofType?node.nodeName.toLowerCase()!==name:1!==node.nodeType)||!++diff||(useCache&amp;&amp;(outerCache=node[expando]||(node[expando]={}),uniqueCache=outerCache[node.uniqueID]||(outerCache[node.uniqueID]={}),uniqueCache[type]=[dirruns,diff]),node!==elem)););return diff-=last,diff===first||diff%first===0&amp;&amp;diff/first&gt;=0}}},PSEUDO:function(pseudo,argument){var args,fn=Expr.pseudos[pseudo]||Expr.setFilters[pseudo.toLowerCase()]||Sizzle.error(&quot;unsupported pseudo: &quot;+pseudo);return fn[expando]?fn(argument):fn.length&gt;1?(args=[pseudo,pseudo,&quot;&quot;,argument],Expr.setFilters.hasOwnProperty(pseudo.toLowerCase())?markFunction(function(seed,matches){for(var idx,matched=fn(seed,argument),i=matched.length;i--;)idx=indexOf(seed,matched[i]),seed[idx]=!(matches[idx]=matched[i])}):function(elem){return fn(elem,0,args)}):fn}},pseudos:{not:markFunction(function(selector){var input=[],results=[],matcher=compile(selector.replace(rtrim,&quot;$1&quot;));return matcher[expando]?markFunction(function(seed,matches,context,xml){for(var elem,unmatched=matcher(seed,null,xml,[]),i=seed.length;i--;)(elem=unmatched[i])&amp;&amp;(seed[i]=!(matches[i]=elem))}):function(elem,context,xml){return input[0]=elem,matcher(input,null,xml,results),input[0]=null,!results.pop()}}),has:markFunction(function(selector){return function(elem){return Sizzle(selector,elem).length&gt;0}}),contains:markFunction(function(text){return text=text.replace(runescape,funescape),function(elem){return(elem.textContent||elem.innerText||getText(elem)).indexOf(text)&gt;-1}}),lang:markFunction(function(lang){return ridentifier.test(lang||&quot;&quot;)||Sizzle.error(&quot;unsupported lang: &quot;+lang),lang=lang.replace(runescape,funescape).toLowerCase(),function(elem){var elemLang;do if(elemLang=documentIsHTML?elem.lang:elem.getAttribute(&quot;xml:lang&quot;)||elem.getAttribute(&quot;lang&quot;))return elemLang=elemLang.toLowerCase(),elemLang===lang||0===elemLang.indexOf(lang+&quot;-&quot;);while((elem=elem.parentNode)&amp;&amp;1===elem.nodeType);return!1}}),target:function(elem){var hash=window.location&amp;&amp;window.location.hash;return hash&amp;&amp;hash.slice(1)===elem.id},root:function(elem){return elem===docElem},focus:function(elem){return elem===document.activeElement&amp;&amp;(!document.hasFocus||document.hasFocus())&amp;&amp;!!(elem.type||elem.href||~elem.tabIndex)},enabled:function(elem){return elem.disabled===!1},disabled:function(elem){return elem.disabled===!0},checked:function(elem){var nodeName=elem.nodeName.toLowerCase();return&quot;input&quot;===nodeName&amp;&amp;!!elem.checked||&quot;option&quot;===nodeName&amp;&amp;!!elem.selected},selected:function(elem){return elem.parentNode&amp;&amp;elem.parentNode.selectedIndex,elem.selected===!0},empty:function(elem){for(elem=elem.firstChild;elem;elem=elem.nextSibling)if(elem.nodeType<6)return!1;return!0},parent:function(elem){return!expr.pseudos.empty(elem)},header:function(elem){return rheader.test(elem.nodename)},input:function(elem){return="" rinputs.test(elem.nodename)},button:function(elem){var="" name="elem.nodeName.toLowerCase();return" input"="==name&amp;&amp;&quot;button&quot;===elem.type||&quot;button&quot;===name},text:function(elem){var&quot;" attr;return"input"="==elem.nodeName.toLowerCase()&amp;&amp;" text"="==elem.type&amp;&amp;(null==(attr=elem.getAttribute(&quot;type&quot;))||&quot;text&quot;===attr.toLowerCase())},first:createPositionalPseudo(function(){return[0]}),last:createPositionalPseudo(function(matchIndexes,length){return[length-1]}),eq:createPositionalPseudo(function(matchIndexes,length,argument){return[0&quot;">argument?argument+length:argument]}),even:createPositionalPseudo(function(matchIndexes,length){for(var i=0;length&gt;i;i+=2)matchIndexes.push(i);return matchIndexes}),odd:createPositionalPseudo(function(matchIndexes,length){for(var i=1;length&gt;i;i+=2)matchIndexes.push(i);return matchIndexes}),lt:createPositionalPseudo(function(matchIndexes,length,argument){for(var i=0&gt;argument?argument+length:argument;--i&gt;=0;)matchIndexes.push(i);return matchIndexes}),gt:createPositionalPseudo(function(matchIndexes,length,argument){for(var i=0&gt;argument?argument+length:argument;++i<length;)matchindexes.push(i);return matchindexes})}},expr.pseudos.nth="Expr.pseudos.eq;for(i" in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})expr.pseudos[i]="createInputPseudo(i);for(i" in{submit:!0,reset:!0})expr.pseudos[i]="createButtonPseudo(i);return" setfilters.prototype="Expr.filters=Expr.pseudos,Expr.setFilters=new" setfilters,tokenize="Sizzle.tokenize=function(selector,parseOnly){var" matched,match,tokens,type,sofar,groups,prefilters,cached="tokenCache[selector+" "="" "];if(cached)return="" parseonly?0:cached.slice(0);for(sofar="selector,groups=[],preFilters=Expr.preFilter;soFar;){(!matched||(match=rcomma.exec(soFar)))&amp;&amp;(match&amp;&amp;(soFar=soFar.slice(match[0].length)||soFar),groups.push(tokens=[])),matched=!1,(match=rcombinators.exec(soFar))&amp;&amp;(matched=match.shift(),tokens.push({value:matched,type:match[0].replace(rtrim," ")}),sofar="soFar.slice(matched.length));for(type" in="" expr.filter)!(match="matchExpr[type].exec(soFar))||preFilters[type]&amp;&amp;!(match=preFilters[type](match))||(matched=match.shift(),tokens.push({value:matched,type:type,matches:match}),soFar=soFar.slice(matched.length));if(!matched)break}return" parseonly?sofar.length:sofar?sizzle.error(selector):tokencache(selector,groups).slice(0)},compile="Sizzle.compile=function(selector,match){var" i,setmatchers="[],elementMatchers=[],cached=compilerCache[selector+" "];if(!cached){for(match||(match="tokenize(selector)),i=match.length;i--;)cached=matcherFromTokens(match[i]),cached[expando]?setMatchers.push(cached):elementMatchers.push(cached);cached=compilerCache(selector,matcherFromGroupMatchers(elementMatchers,setMatchers)),cached.selector=selector}return" cached},select="Sizzle.select=function(selector,context,results,seed){var" i,tokens,token,type,find,compiled="function" =="typeof" selector&&selector,match="!seed&amp;&amp;tokenize(selector=compiled.selector||selector);if(results=results||[],1===match.length){if(tokens=match[0]=match[0].slice(0),tokens.length">2&amp;&amp;&quot;ID&quot;===(token=tokens[0]).type&amp;&amp;support.getById&amp;&amp;9===context.nodeType&amp;&amp;documentIsHTML&amp;&amp;Expr.relative[tokens[1].type]){if(context=(Expr.find.ID(token.matches[0].replace(runescape,funescape),context)||[])[0],!context)return results;compiled&amp;&amp;(context=context.parentNode),selector=selector.slice(tokens.shift().value.length)}for(i=matchExpr.needsContext.test(selector)?0:tokens.length;i--&amp;&amp;(token=tokens[i],!Expr.relative[type=token.type]);)if((find=Expr.find[type])&amp;&amp;(seed=find(token.matches[0].replace(runescape,funescape),rsibling.test(tokens[0].type)&amp;&amp;testContext(context.parentNode)||context))){if(tokens.splice(i,1),selector=seed.length&amp;&amp;toSelector(tokens),!selector)return push.apply(results,seed),results;break}}return(compiled||compile(selector,match))(seed,context,!documentIsHTML,results,!context||rsibling.test(selector)&amp;&amp;testContext(context.parentNode)||context),results},support.sortStable=expando.split(&quot;&quot;).sort(sortOrder).join(&quot;&quot;)===expando,support.detectDuplicates=!!hasDuplicate,setDocument(),support.sortDetached=assert(function(div1){return 1&amp;div1.compareDocumentPosition(document.createElement(&quot;div&quot;))}),assert(function(div){return div.innerHTML=&quot;<a href="#"></a>&quot;,&quot;#&quot;===div.firstChild.getAttribute(&quot;href&quot;)})||addHandle(&quot;type|href|height|width&quot;,function(elem,name,isXML){return isXML?void 0:elem.getAttribute(name,&quot;type&quot;===name.toLowerCase()?1:2)}),support.attributes&amp;&amp;assert(function(div){return div.innerHTML=&quot;<input>&quot;,div.firstChild.setAttribute(&quot;value&quot;,&quot;&quot;),&quot;&quot;===div.firstChild.getAttribute(&quot;value&quot;)})||addHandle(&quot;value&quot;,function(elem,name,isXML){return isXML||&quot;input&quot;!==elem.nodeName.toLowerCase()?void 0:elem.defaultValue}),assert(function(div){return null==div.getAttribute(&quot;disabled&quot;)})||addHandle(booleans,function(elem,name,isXML){var val;return isXML?void 0:elem[name]===!0?name.toLowerCase():(val=elem.getAttributeNode(name))&amp;&amp;val.specified?val.value:null}),Sizzle}(window);jQuery.find=Sizzle,jQuery.expr=Sizzle.selectors,jQuery.expr[&quot;:&quot;]=jQuery.expr.pseudos,jQuery.uniqueSort=jQuery.unique=Sizzle.uniqueSort,jQuery.text=Sizzle.getText,jQuery.isXMLDoc=Sizzle.isXML,jQuery.contains=Sizzle.contains;var dir=function(elem,_dir,until){for(var matched=[],truncate=void 0!==until;(elem=elem[_dir])&amp;&amp;9!==elem.nodeType;)if(1===elem.nodeType){if(truncate&amp;&amp;jQuery(elem).is(until))break;matched.push(elem)}return matched},_siblings=function(n,elem){for(var matched=[];n;n=n.nextSibling)1===n.nodeType&amp;&amp;n!==elem&amp;&amp;matched.push(n);return matched},rneedsContext=jQuery.expr.match.needsContext,rsingleTag=/^<([\w-]+)\s*\ ?="">(?:<\ \1="">|)$/,risSimple=/^.[^:#\[\.,]*$/;jQuery.filter=function(expr,elems,not){var elem=elems[0];return not&amp;&amp;(expr=&quot;:not(&quot;+expr+&quot;)&quot;),1===elems.length&amp;&amp;1===elem.nodeType?jQuery.find.matchesSelector(elem,expr)?[elem]:[]:jQuery.find.matches(expr,jQuery.grep(elems,function(elem){return 1===elem.nodeType}))},jQuery.fn.extend({find:function(selector){var i,len=this.length,ret=[],self=this;if(&quot;string&quot;!=typeof selector)return this.pushStack(jQuery(selector).filter(function(){for(i=0;len&gt;i;i++)if(jQuery.contains(self[i],this))return!0}));for(i=0;len&gt;i;i++)jQuery.find(selector,self[i],ret);return ret=this.pushStack(len&gt;1?jQuery.unique(ret):ret),ret.selector=this.selector?this.selector+&quot; &quot;+selector:selector,ret},filter:function(selector){return this.pushStack(winnow(this,selector||[],!1))},not:function(selector){return this.pushStack(winnow(this,selector||[],!0))},is:function(selector){return!!winnow(this,&quot;string&quot;==typeof selector&amp;&amp;rneedsContext.test(selector)?jQuery(selector):selector||[],!1).length}});var rootjQuery,rquickExpr=/^(?:\s*(<[\w\w]+>)[^&gt;]*|#([\w-]*))$/,init=jQuery.fn.init=function(selector,context,root){var match,elem;if(!selector)return this;if(root=root||rootjQuery,&quot;string&quot;==typeof selector){if(match=&quot;<"===selector[0]&&">&quot;===selector[selector.length-1]&amp;&amp;selector.length&gt;=3?[null,selector,null]:rquickExpr.exec(selector),!match||!match[1]&amp;&amp;context)return!context||context.jquery?(context||root).find(selector):this.constructor(context).find(selector);if(match[1]){if(context=context instanceof jQuery?context[0]:context,jQuery.merge(this,jQuery.parseHTML(match[1],context&amp;&amp;context.nodeType?context.ownerDocument||context:document,!0)),rsingleTag.test(match[1])&amp;&amp;jQuery.isPlainObject(context))for(match in context)jQuery.isFunction(this[match])?this[match](context[match]):this.attr(match,context[match]);return this}return elem=document.getElementById(match[2]),elem&amp;&amp;elem.parentNode&amp;&amp;(this.length=1,this[0]=elem),this.context=document,this.selector=selector,this}return selector.nodeType?(this.context=this[0]=selector,this.length=1,this):jQuery.isFunction(selector)?void 0!==root.ready?root.ready(selector):selector(jQuery):(void 0!==selector.selector&amp;&amp;(this.selector=selector.selector,this.context=selector.context),jQuery.makeArray(selector,this))};init.prototype=jQuery.fn,rootjQuery=jQuery(document);var rparentsprev=/^(?:parents|prev(?:Until|All))/,guaranteedUnique={children:!0,contents:!0,next:!0,prev:!0};jQuery.fn.extend({has:function(target){var targets=jQuery(target,this),l=targets.length;

return this.filter(function(){for(var i=0;l&gt;i;i++)if(jQuery.contains(this,targets[i]))return!0})},closest:function(selectors,context){for(var cur,i=0,l=this.length,matched=[],pos=rneedsContext.test(selectors)||&quot;string&quot;!=typeof selectors?jQuery(selectors,context||this.context):0;l&gt;i;i++)for(cur=this[i];cur&amp;&amp;cur!==context;cur=cur.parentNode)if(cur.nodeType<11&&(pos?pos.index(cur)>-1:1===cur.nodeType&amp;&amp;jQuery.find.matchesSelector(cur,selectors))){matched.push(cur);break}return this.pushStack(matched.length&gt;1?jQuery.uniqueSort(matched):matched)},index:function(elem){return elem?&quot;string&quot;==typeof elem?indexOf.call(jQuery(elem),this[0]):indexOf.call(this,elem.jquery?elem[0]:elem):this[0]&amp;&amp;this[0].parentNode?this.first().prevAll().length:-1},add:function(selector,context){return this.pushStack(jQuery.uniqueSort(jQuery.merge(this.get(),jQuery(selector,context))))},addBack:function(selector){return this.add(null==selector?this.prevObject:this.prevObject.filter(selector))}}),jQuery.each({parent:function parent(elem){var parent=elem.parentNode;return parent&amp;&amp;11!==parent.nodeType?parent:null},parents:function(elem){return dir(elem,&quot;parentNode&quot;)},parentsUntil:function(elem,i,until){return dir(elem,&quot;parentNode&quot;,until)},next:function(elem){return sibling(elem,&quot;nextSibling&quot;)},prev:function(elem){return sibling(elem,&quot;previousSibling&quot;)},nextAll:function(elem){return dir(elem,&quot;nextSibling&quot;)},prevAll:function(elem){return dir(elem,&quot;previousSibling&quot;)},nextUntil:function(elem,i,until){return dir(elem,&quot;nextSibling&quot;,until)},prevUntil:function(elem,i,until){return dir(elem,&quot;previousSibling&quot;,until)},siblings:function(elem){return _siblings((elem.parentNode||{}).firstChild,elem)},children:function(elem){return _siblings(elem.firstChild)},contents:function(elem){return elem.contentDocument||jQuery.merge([],elem.childNodes)}},function(name,fn){jQuery.fn[name]=function(until,selector){var matched=jQuery.map(this,fn,until);return&quot;Until&quot;!==name.slice(-5)&amp;&amp;(selector=until),selector&amp;&amp;&quot;string&quot;==typeof selector&amp;&amp;(matched=jQuery.filter(selector,matched)),this.length&gt;1&amp;&amp;(guaranteedUnique[name]||jQuery.uniqueSort(matched),rparentsprev.test(name)&amp;&amp;matched.reverse()),this.pushStack(matched)}});var rnotwhite=/\S+/g;jQuery.Callbacks=function(options){options=&quot;string&quot;==typeof options?createOptions(options):jQuery.extend({},options);var firing,memory,_fired,_locked,list=[],queue=[],firingIndex=-1,fire=function(){for(_locked=options.once,_fired=firing=!0;queue.length;firingIndex=-1)for(memory=queue.shift();++firingIndex<list.length;)list[firingindex].apply(memory[0],memory[1])===!1&&options.stoponfalse&&(firingindex=list.length,memory=!1);options.memory||(memory=!1),firing=!1,_locked&&(list=memory?[]:"")},self={add:function(){return list&&(memory&&!firing&&(firingindex="list.length-1,queue.push(memory)),function" add(args){jquery.each(args,function(_,arg){jquery.isfunction(arg)?options.unique&&self.has(arg)||list.push(arg):arg&&arg.length&&"string"!="=jQuery.type(arg)&amp;&amp;add(arg)})}(arguments),memory&amp;&amp;!firing&amp;&amp;fire()),this},remove:function(){return" jquery.each(arguments,function(_,arg){for(var="" index;(index="jQuery.inArray(arg,list,index))">-1;)list.splice(index,1),firingIndex&gt;=index&amp;&amp;firingIndex--}),this},has:function(fn){return fn?jQuery.inArray(fn,list)&gt;-1:list.length&gt;0},empty:function(){return list&amp;&amp;(list=[]),this},disable:function(){return _locked=queue=[],list=memory=&quot;&quot;,this},disabled:function(){return!list},lock:function(){return _locked=queue=[],memory||(list=memory=&quot;&quot;),this},locked:function(){return!!_locked},fireWith:function(context,args){return _locked||(args=args||[],args=[context,args.slice?args.slice():args],queue.push(args),firing||fire()),this},fire:function(){return self.fireWith(this,arguments),this},fired:function(){return!!_fired}};return self},jQuery.extend({Deferred:function(func){var tuples=[[&quot;resolve&quot;,&quot;done&quot;,jQuery.Callbacks(&quot;once memory&quot;),&quot;resolved&quot;],[&quot;reject&quot;,&quot;fail&quot;,jQuery.Callbacks(&quot;once memory&quot;),&quot;rejected&quot;],[&quot;notify&quot;,&quot;progress&quot;,jQuery.Callbacks(&quot;memory&quot;)]],_state=&quot;pending&quot;,_promise2={state:function(){return _state},always:function(){return deferred.done(arguments).fail(arguments),this},then:function(){var fns=arguments;return jQuery.Deferred(function(newDefer){jQuery.each(tuples,function(i,tuple){var fn=jQuery.isFunction(fns[i])&amp;&amp;fns[i];deferred[tuple[1]](function(){var returned=fn&amp;&amp;fn.apply(this,arguments);returned&amp;&amp;jQuery.isFunction(returned.promise)?returned.promise().progress(newDefer.notify).done(newDefer.resolve).fail(newDefer.reject):newDefer[tuple[0]+&quot;With&quot;](this===_promise2?newDefer.promise():this,fn?[returned]:arguments)})}),fns=null}).promise()},promise:function(obj){return null!=obj?jQuery.extend(obj,_promise2):_promise2}},deferred={};return _promise2.pipe=_promise2.then,jQuery.each(tuples,function(i,tuple){var list=tuple[2],stateString=tuple[3];_promise2[tuple[1]]=list.add,stateString&amp;&amp;list.add(function(){_state=stateString},tuples[1^i][2].disable,tuples[2][2].lock),deferred[tuple[0]]=function(){return deferred[tuple[0]+&quot;With&quot;](this===deferred?_promise2:this,arguments),this},deferred[tuple[0]+&quot;With&quot;]=list.fireWith}),_promise2.promise(deferred),func&amp;&amp;func.call(deferred,deferred),deferred},when:function(subordinate){var progressValues,progressContexts,resolveContexts,i=0,resolveValues=_slice.call(arguments),length=resolveValues.length,remaining=1!==length||subordinate&amp;&amp;jQuery.isFunction(subordinate.promise)?length:0,deferred=1===remaining?subordinate:jQuery.Deferred(),updateFunc=function(i,contexts,values){return function(value){contexts[i]=this,values[i]=arguments.length&gt;1?_slice.call(arguments):value,values===progressValues?deferred.notifyWith(contexts,values):--remaining||deferred.resolveWith(contexts,values)}};if(length&gt;1)for(progressValues=new Array(length),progressContexts=new Array(length),resolveContexts=new Array(length);length&gt;i;i++)resolveValues[i]&amp;&amp;jQuery.isFunction(resolveValues[i].promise)?resolveValues[i].promise().progress(updateFunc(i,progressContexts,progressValues)).done(updateFunc(i,resolveContexts,resolveValues)).fail(deferred.reject):--remaining;return remaining||deferred.resolveWith(resolveContexts,resolveValues),deferred.promise()}});var readyList;jQuery.fn.ready=function(fn){return jQuery.ready.promise().done(fn),this},jQuery.extend({isReady:!1,readyWait:1,holdReady:function(hold){hold?jQuery.readyWait++:jQuery.ready(!0)},ready:function(wait){(wait===!0?--jQuery.readyWait:jQuery.isReady)||(jQuery.isReady=!0,wait!==!0&amp;&amp;--jQuery.readyWait&gt;0||(readyList.resolveWith(document,[jQuery]),jQuery.fn.triggerHandler&amp;&amp;(jQuery(document).triggerHandler(&quot;ready&quot;),jQuery(document).off(&quot;ready&quot;))))}}),jQuery.ready.promise=function(obj){return readyList||(readyList=jQuery.Deferred(),&quot;complete&quot;===document.readyState||&quot;loading&quot;!==document.readyState&amp;&amp;!document.documentElement.doScroll?window.setTimeout(jQuery.ready):(document.addEventListener(&quot;DOMContentLoaded&quot;,completed),window.addEventListener(&quot;load&quot;,completed))),readyList.promise(obj)},jQuery.ready.promise();var access=function access(elems,fn,key,value,chainable,emptyGet,raw){var i=0,len=elems.length,bulk=null==key;if(&quot;object&quot;===jQuery.type(key)){chainable=!0;for(i in key)access(elems,fn,i,key[i],!0,emptyGet,raw)}else if(void 0!==value&amp;&amp;(chainable=!0,jQuery.isFunction(value)||(raw=!0),bulk&amp;&amp;(raw?(fn.call(elems,value),fn=null):(bulk=fn,fn=function(elem,key,value){return bulk.call(jQuery(elem),value)})),fn))for(;len&gt;i;i++)fn(elems[i],key,raw?value:value.call(elems[i],i,fn(elems[i],key)));return chainable?elems:bulk?fn.call(elems):len?fn(elems[0],key):emptyGet},acceptData=function(owner){return 1===owner.nodeType||9===owner.nodeType||!+owner.nodeType};Data.uid=1,Data.prototype={register:function(owner,initial){var value=initial||{};return owner.nodeType?owner[this.expando]=value:Object.defineProperty(owner,this.expando,{value:value,writable:!0,configurable:!0}),owner[this.expando]},cache:function(owner){if(!acceptData(owner))return{};var value=owner[this.expando];return value||(value={},acceptData(owner)&amp;&amp;(owner.nodeType?owner[this.expando]=value:Object.defineProperty(owner,this.expando,{value:value,configurable:!0}))),value},set:function(owner,data,value){var prop,cache=this.cache(owner);if(&quot;string&quot;==typeof data)cache[data]=value;else for(prop in data)cache[prop]=data[prop];return cache},get:function(owner,key){return void 0===key?this.cache(owner):owner[this.expando]&amp;&amp;owner[this.expando][key]},access:function(owner,key,value){var stored;return void 0===key||key&amp;&amp;&quot;string&quot;==typeof key&amp;&amp;void 0===value?(stored=this.get(owner,key),void 0!==stored?stored:this.get(owner,jQuery.camelCase(key))):(this.set(owner,key,value),void 0!==value?value:key)},remove:function(owner,key){var i,name,camel,cache=owner[this.expando];if(void 0!==cache){if(void 0===key)this.register(owner);else{jQuery.isArray(key)?name=key.concat(key.map(jQuery.camelCase)):(camel=jQuery.camelCase(key),key in cache?name=[key,camel]:(name=camel,name=name in cache?[name]:name.match(rnotwhite)||[])),i=name.length;for(;i--;)delete cache[name[i]]}(void 0===key||jQuery.isEmptyObject(cache))&amp;&amp;(owner.nodeType?owner[this.expando]=void 0:delete owner[this.expando])}},hasData:function(owner){var cache=owner[this.expando];return void 0!==cache&amp;&amp;!jQuery.isEmptyObject(cache)}};var dataPriv=new Data,dataUser=new Data,rbrace=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,rmultiDash=/[A-Z]/g;jQuery.extend({hasData:function(elem){return dataUser.hasData(elem)||dataPriv.hasData(elem)},data:function(elem,name,_data){return dataUser.access(elem,name,_data)},removeData:function(elem,name){dataUser.remove(elem,name)},_data:function(elem,name,data){return dataPriv.access(elem,name,data)},_removeData:function(elem,name){dataPriv.remove(elem,name)}}),jQuery.fn.extend({data:function data(key,value){var i,name,data,elem=this[0],attrs=elem&amp;&amp;elem.attributes;if(void 0===key){if(this.length&amp;&amp;(data=dataUser.get(elem),1===elem.nodeType&amp;&amp;!dataPriv.get(elem,&quot;hasDataAttrs&quot;))){for(i=attrs.length;i--;)attrs[i]&amp;&amp;(name=attrs[i].name,0===name.indexOf(&quot;data-&quot;)&amp;&amp;(name=jQuery.camelCase(name.slice(5)),dataAttr(elem,name,data[name])));dataPriv.set(elem,&quot;hasDataAttrs&quot;,!0)}return data}return&quot;object&quot;===(&quot;undefined&quot;==typeof key?&quot;undefined&quot;:_typeof(key))?this.each(function(){dataUser.set(this,key)}):access(this,function(value){var data,camelKey;if(elem&amp;&amp;void 0===value){if(data=dataUser.get(elem,key)||dataUser.get(elem,key.replace(rmultiDash,&quot;-$&amp;&quot;).toLowerCase()),void 0!==data)return data;if(camelKey=jQuery.camelCase(key),data=dataUser.get(elem,camelKey),void 0!==data)return data;if(data=dataAttr(elem,camelKey,void 0),void 0!==data)return data}else camelKey=jQuery.camelCase(key),this.each(function(){var data=dataUser.get(this,camelKey);dataUser.set(this,camelKey,value),key.indexOf(&quot;-&quot;)&gt;-1&amp;&amp;void 0!==data&amp;&amp;dataUser.set(this,key,value)})},null,value,arguments.length&gt;1,null,!0)},removeData:function(key){return this.each(function(){dataUser.remove(this,key)})}}),jQuery.extend({queue:function queue(elem,type,data){var queue;return elem?(type=(type||&quot;fx&quot;)+&quot;queue&quot;,queue=dataPriv.get(elem,type),data&amp;&amp;(!queue||jQuery.isArray(data)?queue=dataPriv.access(elem,type,jQuery.makeArray(data)):queue.push(data)),queue||[]):void 0},dequeue:function(elem,type){type=type||&quot;fx&quot;;var queue=jQuery.queue(elem,type),startLength=queue.length,fn=queue.shift(),hooks=jQuery._queueHooks(elem,type),next=function(){jQuery.dequeue(elem,type)};&quot;inprogress&quot;===fn&amp;&amp;(fn=queue.shift(),startLength--),fn&amp;&amp;(&quot;fx&quot;===type&amp;&amp;queue.unshift(&quot;inprogress&quot;),delete hooks.stop,fn.call(elem,next,hooks)),!startLength&amp;&amp;hooks&amp;&amp;hooks.empty.fire()},_queueHooks:function(elem,type){var key=type+&quot;queueHooks&quot;;return dataPriv.get(elem,key)||dataPriv.access(elem,key,{empty:jQuery.Callbacks(&quot;once memory&quot;).add(function(){dataPriv.remove(elem,[type+&quot;queue&quot;,key])})})}}),jQuery.fn.extend({queue:function(type,data){var setter=2;return&quot;string&quot;!=typeof type&amp;&amp;(data=type,type=&quot;fx&quot;,setter--),arguments.length<setter?jquery.queue(this[0],type):void 0="==data?this:this.each(function(){var" queue="jQuery.queue(this,type,data);jQuery._queueHooks(this,type)," fx"="==type&amp;&amp;&quot;inprogress&quot;!==queue[0]&amp;&amp;jQuery.dequeue(this,type)})},dequeue:function(type){return&quot;" this.each(function(){jquery.dequeue(this,type)})},clearqueue:function(type){return="" this.queue(type||"fx",[])},promise:function(type,obj){var="" tmp,count="1,defer=jQuery.Deferred(),elements=this,i=this.length,resolve=function(){--count||defer.resolveWith(elements,[elements])};for(" string"!="typeof&quot;" type&&(obj="type,type=void" 0),type="type||" fx";i--;)tmp="dataPriv.get(elements[i],type+&quot;queueHooks&quot;),tmp&amp;&amp;tmp.empty&amp;&amp;(count++,tmp.empty.add(resolve));return&quot;" resolve(),defer.promise(obj)}});var="" pnum="/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,rcssNum=new" regexp("^(?:([+-])="|)(" +pnum+")([a-z%]*)$","i"),cssexpand="[&quot;Top&quot;,&quot;Right&quot;,&quot;Bottom&quot;,&quot;Left&quot;],isHidden=function(elem,el){return&quot;" elem="el||elem," none"="==jQuery.css(elem,&quot;display&quot;)||!jQuery.contains(elem.ownerDocument,elem)},rcheckableType=/^(?:checkbox|radio)$/i,rtagName=/&lt;([\w:-]+)/,rscriptType=/^$|\/(?:java|ecma)script/i,wrapMap={option:[1,&quot;&lt;select&quot;" multiple="multiple">&quot;,&quot;&quot;],thead:[1,&quot;<table>&quot;,&quot;</table>&quot;],col:[2,&quot;<table><colgroup>&quot;,&quot;</colgroup></table>&quot;],tr:[2,&quot;<table><tbody>&quot;,&quot;</tbody></table>&quot;],td:[3,&quot;<table><tbody><tr>&quot;,&quot;</tr></tbody></table>&quot;],_default:[0,&quot;&quot;,&quot;&quot;]};wrapMap.optgroup=wrapMap.option,wrapMap.tbody=wrapMap.tfoot=wrapMap.colgroup=wrapMap.caption=wrapMap.thead,wrapMap.th=wrapMap.td;var rhtml=/<|&#?\w+; ;!function(){var="" fragment="document.createDocumentFragment(),div=fragment.appendChild(document.createElement(" div")),input="document.createElement(&quot;input&quot;);input.setAttribute(&quot;type&quot;,&quot;radio&quot;),input.setAttribute(&quot;checked&quot;,&quot;checked&quot;),input.setAttribute(&quot;name&quot;,&quot;t&quot;),div.appendChild(input),support.checkClone=div.cloneNode(!0).cloneNode(!0).lastChild.checked,div.innerHTML=&quot;&lt;textarea&quot;">x&quot;,support.noCloneChecked=!!div.cloneNode(!0).lastChild.defaultValue}();var rkeyEvent=/^key/,rmouseEvent=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,rtypenamespace=/^([^.]*)(?:\.(.+)|)/;jQuery.event={global:{},add:function(elem,types,handler,data,selector){var handleObjIn,eventHandle,tmp,events,t,handleObj,special,handlers,type,namespaces,origType,elemData=dataPriv.get(elem);if(elemData)for(handler.handler&amp;&amp;(handleObjIn=handler,handler=handleObjIn.handler,selector=handleObjIn.selector),handler.guid||(handler.guid=jQuery.guid++),(events=elemData.events)||(events=elemData.events={}),(eventHandle=elemData.handle)||(eventHandle=elemData.handle=function(e){return&quot;undefined&quot;!=typeof jQuery&amp;&amp;jQuery.event.triggered!==e.type?jQuery.event.dispatch.apply(elem,arguments):void 0}),types=(types||&quot;&quot;).match(rnotwhite)||[&quot;&quot;],t=types.length;t--;)tmp=rtypenamespace.exec(types[t])||[],type=origType=tmp[1],namespaces=(tmp[2]||&quot;&quot;).split(&quot;.&quot;).sort(),type&amp;&amp;(special=jQuery.event.special[type]||{},type=(selector?special.delegateType:special.bindType)||type,special=jQuery.event.special[type]||{},handleObj=jQuery.extend({type:type,origType:origType,data:data,handler:handler,guid:handler.guid,selector:selector,needsContext:selector&amp;&amp;jQuery.expr.match.needsContext.test(selector),namespace:namespaces.join(&quot;.&quot;)},handleObjIn),(handlers=events[type])||(handlers=events[type]=[],handlers.delegateCount=0,special.setup&amp;&amp;special.setup.call(elem,data,namespaces,eventHandle)!==!1||elem.addEventListener&amp;&amp;elem.addEventListener(type,eventHandle)),special.add&amp;&amp;(special.add.call(elem,handleObj),handleObj.handler.guid||(handleObj.handler.guid=handler.guid)),selector?handlers.splice(handlers.delegateCount++,0,handleObj):handlers.push(handleObj),jQuery.event.global[type]=!0)},remove:function(elem,types,handler,selector,mappedTypes){var j,origCount,tmp,events,t,handleObj,special,handlers,type,namespaces,origType,elemData=dataPriv.hasData(elem)&amp;&amp;dataPriv.get(elem);if(elemData&amp;&amp;(events=elemData.events)){for(types=(types||&quot;&quot;).match(rnotwhite)||[&quot;&quot;],t=types.length;t--;)if(tmp=rtypenamespace.exec(types[t])||[],type=origType=tmp[1],namespaces=(tmp[2]||&quot;&quot;).split(&quot;.&quot;).sort(),type){for(special=jQuery.event.special[type]||{},type=(selector?special.delegateType:special.bindType)||type,handlers=events[type]||[],tmp=tmp[2]&amp;&amp;new RegExp(&quot;(^|\\.)&quot;+namespaces.join(&quot;\\.(?:.*\\.|)&quot;)+&quot;(\\.|$)&quot;),origCount=j=handlers.length;j--;)handleObj=handlers[j],!mappedTypes&amp;&amp;origType!==handleObj.origType||handler&amp;&amp;handler.guid!==handleObj.guid||tmp&amp;&amp;!tmp.test(handleObj.namespace)||selector&amp;&amp;selector!==handleObj.selector&amp;&amp;(&quot;**&quot;!==selector||!handleObj.selector)||(handlers.splice(j,1),handleObj.selector&amp;&amp;handlers.delegateCount--,special.remove&amp;&amp;special.remove.call(elem,handleObj));origCount&amp;&amp;!handlers.length&amp;&amp;(special.teardown&amp;&amp;special.teardown.call(elem,namespaces,elemData.handle)!==!1||jQuery.removeEvent(elem,type,elemData.handle),delete events[type])}else for(type in events)jQuery.event.remove(elem,type+types[t],handler,selector,!0);jQuery.isEmptyObject(events)&amp;&amp;dataPriv.remove(elem,&quot;handle events&quot;)}},dispatch:function(event){event=jQuery.event.fix(event);var i,j,ret,matched,handleObj,handlerQueue=[],args=_slice.call(arguments),handlers=(dataPriv.get(this,&quot;events&quot;)||{})[event.type]||[],special=jQuery.event.special[event.type]||{};if(args[0]=event,event.delegateTarget=this,!special.preDispatch||special.preDispatch.call(this,event)!==!1){for(handlerQueue=jQuery.event.handlers.call(this,event,handlers),i=0;(matched=handlerQueue[i++])&amp;&amp;!event.isPropagationStopped();)for(event.currentTarget=matched.elem,j=0;(handleObj=matched.handlers[j++])&amp;&amp;!event.isImmediatePropagationStopped();)(!event.rnamespace||event.rnamespace.test(handleObj.namespace))&amp;&amp;(event.handleObj=handleObj,event.data=handleObj.data,ret=((jQuery.event.special[handleObj.origType]||{}).handle||handleObj.handler).apply(matched.elem,args),void 0!==ret&amp;&amp;(event.result=ret)===!1&amp;&amp;(event.preventDefault(),event.stopPropagation()));return special.postDispatch&amp;&amp;special.postDispatch.call(this,event),event.result}},handlers:function(event,_handlers){var i,matches,sel,handleObj,handlerQueue=[],delegateCount=_handlers.delegateCount,cur=event.target;if(delegateCount&amp;&amp;cur.nodeType&amp;&amp;(&quot;click&quot;!==event.type||isNaN(event.button)||event.button<1))for(;cur!==this;cur=cur.parentnode||this)if(1===cur.nodetype&&(cur.disabled!==!0||"click"!==event.type)){for(matches=[],i=0;delegatecount>i;i++)handleObj=_handlers[i],sel=handleObj.selector+&quot; &quot;,void 0===matches[sel]&amp;&amp;(matches[sel]=handleObj.needsContext?jQuery(sel,this).index(cur)&gt;-1:jQuery.find(sel,this,null,[cur]).length),matches[sel]&amp;&amp;matches.push(handleObj);matches.length&amp;&amp;handlerQueue.push({elem:cur,handlers:matches})}return delegateCount<_handlers.length&&handlerqueue.push({elem:this,handlers:_handlers.slice(delegatecount)}),handlerqueue},props:"altkey 0="==button||(event.which=1&amp;button?1:2&amp;button?3:4&amp;button?2:0),event}},fix:function(event){if(event[jQuery.expando])return" bubbles="" cancelable="" ctrlkey="" currenttarget="" detail="" eventphase="" metakey="" relatedtarget="" shiftkey="" target="" timestamp="" view="" which".split("="" "),fixhooks:{},keyhooks:{props:"char="" charcode="" key="" keycode".split("="" "),filter:function(event,original){return="" null="=event.which&amp;&amp;(event.which=null!=original.charCode?original.charCode:original.keyCode),event}},mouseHooks:{props:" button"="" buttons="" clientx="" clienty="" offsetx="" offsety="" pagex="" pagey="" screenx="" screeny="" toelement".split("="" "),filter:function(event,original){var="" eventdoc,doc,body,button="original.button;return" event;var="" i,prop,copy,type="event.type,originalEvent=event,fixHook=this.fixHooks[type];for(fixHook||(this.fixHooks[type]=fixHook=rmouseEvent.test(type)?this.mouseHooks:rkeyEvent.test(type)?this.keyHooks:{}),copy=fixHook.props?this.props.concat(fixHook.props):this.props,event=new" jquery.event(originalevent),i="copy.length;i--;)prop=copy[i],event[prop]=originalEvent[prop];return" event.target||(event.target="document),3===event.target.nodeType&amp;&amp;(event.target=event.target.parentNode),fixHook.filter?fixHook.filter(event,originalEvent):event},special:{load:{noBubble:!0},focus:{trigger:function(){return" this!="=safeActiveElement()&amp;&amp;this.focus?(this.focus(),!1):void" 0},delegatetype:"focusin"},blur:{trigger:function(){return="" this="==safeActiveElement()&amp;&amp;this.blur?(this.blur(),!1):void" 0},delegatetype:"focusout"},click:{trigger:function(){return"checkbox"="==this.type&amp;&amp;this.click&amp;&amp;jQuery.nodeName(this," input")?(this.click(),!1):void"="" 0},_default:function(event){return="" jquery.nodename(event.target,"a")}},beforeunload:{postdispatch:function(event){void="" 0!="=event.result&amp;&amp;event.originalEvent&amp;&amp;(event.originalEvent.returnValue=event.result)}}}},jQuery.removeEvent=function(elem,type,handle){elem.removeEventListener&amp;&amp;elem.removeEventListener(type,handle)},jQuery.Event=function(src,props){return" instanceof="" jquery.event?(src&&src.type?(this.originalevent="src,this.type=src.type,this.isDefaultPrevented=src.defaultPrevented||void" jquery.event(src,props)},jquery.event.prototype="{constructor:jQuery.Event,isDefaultPrevented:returnFalse,isPropagationStopped:returnFalse,isImmediatePropagationStopped:returnFalse,preventDefault:function(){var" e="this.originalEvent;this.isDefaultPrevented=returnTrue,e&amp;&amp;e.preventDefault()},stopPropagation:function(){var" ret,target="this,related=event.relatedTarget,handleObj=event.handleObj;return(!related||related!==target&amp;&amp;!jQuery.contains(target,related))&amp;&amp;(event.type=handleObj.origType,ret=handleObj.handler.apply(this,arguments),event.type=fix),ret}}}),jQuery.fn.extend({on:function(types,selector,data,fn){return" _on(this,types,selector,data,fn)},one:function(types,selector,data,fn){return="" _on(this,types,selector,data,fn,1)},off:function(types,selector,fn){var="" handleobj,type;if(types&&types.preventdefault&&types.handleobj)return="" handleobj="types.handleObj,jQuery(types.delegateTarget).off(handleObj.namespace?handleObj.origType+" ."+handleobj.namespace:handleobj.origtype,handleobj.selector,handleobj.handler),this;if("object"="==(&quot;undefined&quot;==typeof&quot;" types?"undefined":_typeof(types))){for(type="" in="" types)this.off(type,selector,types[type]);return="" this}return(selector="==!1||" function"="=typeof&quot;" selector)&&(fn="selector,selector=void" 0),fn="==!1&amp;&amp;(fn=returnFalse),this.each(function(){jQuery.event.remove(this,types,fn,selector)})}});var" rxhtmltag="/&lt;(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^">]*)\/&gt;/gi,rnoInnerhtml=/<no-script |<style|<link="" i,rchecked="/checked\s*(?:[^=]|=\s*.checked.)/i,rscriptTypeMasked=/^true\/(.*)/,rcleanScript=/^\s*&lt;!(?:\[CDATA\[|--)|(?:\]\]|--)">\s*$/g;jQuery.extend({htmlPrefilter:function(html){return html.replace(rxhtmlTag,&quot;<$1>&quot;)},clone:function clone(elem,dataAndEvents,deepDataAndEvents){var i,l,srcElements,destElements,clone=elem.cloneNode(!0),inPage=jQuery.contains(elem.ownerDocument,elem);if(!(support.noCloneChecked||1!==elem.nodeType&amp;&amp;11!==elem.nodeType||jQuery.isXMLDoc(elem)))for(destElements=getAll(clone),srcElements=getAll(elem),i=0,l=srcElements.length;l&gt;i;i++)fixInput(srcElements[i],destElements[i]);if(dataAndEvents)if(deepDataAndEvents)for(srcElements=srcElements||getAll(elem),destElements=destElements||getAll(clone),i=0,l=srcElements.length;l&gt;i;i++)cloneCopyEvent(srcElements[i],destElements[i]);else cloneCopyEvent(elem,clone);return destElements=getAll(clone,&quot;script&quot;),destElements.length&gt;0&amp;&amp;setGlobalEval(destElements,!inPage&amp;&amp;getAll(elem,&quot;script&quot;)),clone},cleanData:function(elems){for(var data,elem,type,special=jQuery.event.special,i=0;void 0!==(elem=elems[i]);i++)if(acceptData(elem)){if(data=elem[dataPriv.expando]){if(data.events)for(type in data.events)special[type]?jQuery.event.remove(elem,type):jQuery.removeEvent(elem,type,data.handle);elem[dataPriv.expando]=void 0}elem[dataUser.expando]&amp;&amp;(elem[dataUser.expando]=void 0)}}}),jQuery.fn.extend({domManip:domManip,detach:function(selector){return _remove(this,selector,!0)},remove:function(selector){return _remove(this,selector)},text:function(value){return access(this,function(value){return void 0===value?jQuery.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&amp;&amp;(this.textContent=value)})},null,value,arguments.length)},append:function(){return domManip(this,arguments,function(elem){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var target=manipulationTarget(this,elem);target.appendChild(elem)}})},prepend:function(){return domManip(this,arguments,function(elem){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var target=manipulationTarget(this,elem);target.insertBefore(elem,target.firstChild)}})},before:function(){return domManip(this,arguments,function(elem){this.parentNode&amp;&amp;this.parentNode.insertBefore(elem,this)})},after:function(){return domManip(this,arguments,function(elem){this.parentNode&amp;&amp;this.parentNode.insertBefore(elem,this.nextSibling)})},empty:function(){for(var elem,i=0;null!=(elem=this[i]);i++)1===elem.nodeType&amp;&amp;(jQuery.cleanData(getAll(elem,!1)),elem.textContent=&quot;&quot;);return this},clone:function(dataAndEvents,deepDataAndEvents){return dataAndEvents=null==dataAndEvents?!1:dataAndEvents,deepDataAndEvents=null==deepDataAndEvents?dataAndEvents:deepDataAndEvents,this.map(function(){return jQuery.clone(this,dataAndEvents,deepDataAndEvents)})},html:function(value){return access(this,function(value){var elem=this[0]||{},i=0,l=this.length;if(void 0===value&amp;&amp;1===elem.nodeType)return elem.innerHTML;if(&quot;string&quot;==typeof value&amp;&amp;!rnoInnerhtml.test(value)&amp;&amp;!wrapMap[(rtagName.exec(value)||[&quot;&quot;,&quot;&quot;])[1].toLowerCase()]){value=jQuery.htmlPrefilter(value);try{for(;l&gt;i;i++)elem=this[i]||{},1===elem.nodeType&amp;&amp;(jQuery.cleanData(getAll(elem,!1)),elem.innerHTML=value);elem=0}catch(e){}}elem&amp;&amp;this.empty().append(value)},null,value,arguments.length)},replaceWith:function(){var ignored=[];return domManip(this,arguments,function(elem){var parent=this.parentNode;jQuery.inArray(this,ignored)<0&&(jquery.cleandata(getall(this)),parent&&parent.replacechild(elem,this))},ignored)}}),jquery.each({appendto:"append",prependto:"prepend",insertbefore:"before",insertafter:"after",replaceall:"replacewith"},function(name,original){jquery.fn[name]=function(selector){for(var elems,ret="[],insert=jQuery(selector),last=insert.length-1,i=0;last">=i;i++)elems=i===last?this:this.clone(!0),jQuery(insert[i])[original](elems),push.apply(ret,elems.get());return this.pushStack(ret)}});var iframe,elemdisplay={HTML:&quot;block&quot;,BODY:&quot;block&quot;},rmargin=/^margin/,rnumnonpx=new RegExp(&quot;^(&quot;+pnum+&quot;)(?!px)[a-z%]+$&quot;,&quot;i&quot;),getStyles=function(elem){var view=elem.ownerDocument.defaultView;return view.opener||(view=window),view.getComputedStyle(elem)},swap=function(elem,options,callback,args){var ret,name,old={};for(name in options)old[name]=elem.style[name],elem.style[name]=options[name];ret=callback.apply(elem,args||[]);for(name in options)elem.style[name]=old[name];return ret},documentElement=document.documentElement;!function(){function computeStyleTests(){div.style.cssText=&quot;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%&quot;,div.innerHTML=&quot;&quot;,documentElement.appendChild(container);var divStyle=window.getComputedStyle(div);pixelPositionVal=&quot;1%&quot;!==divStyle.top,reliableMarginLeftVal=&quot;2px&quot;===divStyle.marginLeft,boxSizingReliableVal=&quot;4px&quot;===divStyle.width,div.style.marginRight=&quot;50%&quot;,pixelMarginRightVal=&quot;4px&quot;===divStyle.marginRight,documentElement.removeChild(container)}var pixelPositionVal,boxSizingReliableVal,pixelMarginRightVal,reliableMarginLeftVal,container=document.createElement(&quot;div&quot;),div=document.createElement(&quot;div&quot;);div.style&amp;&amp;(div.style.backgroundClip=&quot;content-box&quot;,div.cloneNode(!0).style.backgroundClip=&quot;&quot;,support.clearCloneStyle=&quot;content-box&quot;===div.style.backgroundClip,container.style.cssText=&quot;border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute&quot;,container.appendChild(div),jQuery.extend(support,{pixelPosition:function(){return computeStyleTests(),pixelPositionVal},boxSizingReliable:function(){return null==boxSizingReliableVal&amp;&amp;computeStyleTests(),boxSizingReliableVal},pixelMarginRight:function(){return null==boxSizingReliableVal&amp;&amp;computeStyleTests(),pixelMarginRightVal},reliableMarginLeft:function(){return null==boxSizingReliableVal&amp;&amp;computeStyleTests(),reliableMarginLeftVal},reliableMarginRight:function(){var ret,marginDiv=div.appendChild(document.createElement(&quot;div&quot;));return marginDiv.style.cssText=div.style.cssText=&quot;-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0&quot;,marginDiv.style.marginRight=marginDiv.style.width=&quot;0&quot;,div.style.width=&quot;1px&quot;,documentElement.appendChild(container),ret=!parseFloat(window.getComputedStyle(marginDiv).marginRight),documentElement.removeChild(container),div.removeChild(marginDiv),ret}}))}();var rdisplayswap=/^(none|table(?!-c[ea]).+)/,cssShow={position:&quot;absolute&quot;,visibility:&quot;hidden&quot;,display:&quot;block&quot;},cssNormalTransform={letterSpacing:&quot;0&quot;,fontWeight:&quot;400&quot;},cssPrefixes=[&quot;Webkit&quot;,&quot;O&quot;,&quot;Moz&quot;,&quot;ms&quot;],emptyStyle=document.createElement(&quot;div&quot;).style;jQuery.extend({cssHooks:{opacity:{get:function(elem,computed){if(computed){var ret=curCSS(elem,&quot;opacity&quot;);return&quot;&quot;===ret?&quot;1&quot;:ret}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{&quot;float&quot;:&quot;cssFloat&quot;},style:function style(elem,name,value,extra){if(elem&amp;&amp;3!==elem.nodeType&amp;&amp;8!==elem.nodeType&amp;&amp;elem.style){var ret,type,hooks,origName=jQuery.camelCase(name),style=elem.style;return name=jQuery.cssProps[origName]||(jQuery.cssProps[origName]=vendorPropName(origName)||origName),hooks=jQuery.cssHooks[name]||jQuery.cssHooks[origName],void 0===value?hooks&amp;&amp;&quot;get&quot;in hooks&amp;&amp;void 0!==(ret=hooks.get(elem,!1,extra))?ret:style[name]:(type=&quot;undefined&quot;==typeof value?&quot;undefined&quot;:_typeof(value),&quot;string&quot;===type&amp;&amp;(ret=rcssNum.exec(value))&amp;&amp;ret[1]&amp;&amp;(value=adjustCSS(elem,name,ret),type=&quot;number&quot;),null!=value&amp;&amp;value===value&amp;&amp;(&quot;number&quot;===type&amp;&amp;(value+=ret&amp;&amp;ret[3]||(jQuery.cssNumber[origName]?&quot;&quot;:&quot;px&quot;)),support.clearCloneStyle||&quot;&quot;!==value||0!==name.indexOf(&quot;background&quot;)||(style[name]=&quot;inherit&quot;),hooks&amp;&amp;&quot;set&quot;in hooks&amp;&amp;void 0===(value=hooks.set(elem,value,extra))||(style[name]=value)),void 0)}},css:function(elem,name,extra,styles){var val,num,hooks,origName=jQuery.camelCase(name);return name=jQuery.cssProps[origName]||(jQuery.cssProps[origName]=vendorPropName(origName)||origName),hooks=jQuery.cssHooks[name]||jQuery.cssHooks[origName],hooks&amp;&amp;&quot;get&quot;in hooks&amp;&amp;(val=hooks.get(elem,!0,extra)),void 0===val&amp;&amp;(val=curCSS(elem,name,styles)),&quot;normal&quot;===val&amp;&amp;name in cssNormalTransform&amp;&amp;(val=cssNormalTransform[name]),&quot;&quot;===extra||extra?(num=parseFloat(val),extra===!0||isFinite(num)?num||0:val):val}}),jQuery.each([&quot;height&quot;,&quot;width&quot;],function(i,name){jQuery.cssHooks[name]={get:function(elem,computed,extra){return computed?rdisplayswap.test(jQuery.css(elem,&quot;display&quot;))&amp;&amp;0===elem.offsetWidth?swap(elem,cssShow,function(){return getWidthOrHeight(elem,name,extra)}):getWidthOrHeight(elem,name,extra):void 0},set:function(elem,value,extra){var matches,styles=extra&amp;&amp;getStyles(elem),subtract=extra&amp;&amp;augmentWidthOrHeight(elem,name,extra,&quot;border-box&quot;===jQuery.css(elem,&quot;boxSizing&quot;,!1,styles),styles);

return subtract&amp;&amp;(matches=rcssNum.exec(value))&amp;&amp;&quot;px&quot;!==(matches[3]||&quot;px&quot;)&amp;&amp;(elem.style[name]=value,value=jQuery.css(elem,name)),setPositiveNumber(elem,value,subtract)}}}),jQuery.cssHooks.marginLeft=addGetHookIf(support.reliableMarginLeft,function(elem,computed){return computed?(parseFloat(curCSS(elem,&quot;marginLeft&quot;))||elem.getBoundingClientRect().left-swap(elem,{marginLeft:0},function(){return elem.getBoundingClientRect().left}))+&quot;px&quot;:void 0}),jQuery.cssHooks.marginRight=addGetHookIf(support.reliableMarginRight,function(elem,computed){return computed?swap(elem,{display:&quot;inline-block&quot;},curCSS,[elem,&quot;marginRight&quot;]):void 0}),jQuery.each({margin:&quot;&quot;,padding:&quot;&quot;,border:&quot;Width&quot;},function(prefix,suffix){jQuery.cssHooks[prefix+suffix]={expand:function(value){for(var i=0,expanded={},parts=&quot;string&quot;==typeof value?value.split(&quot; &quot;):[value];4&gt;i;i++)expanded[prefix+cssExpand[i]+suffix]=parts[i]||parts[i-2]||parts[0];return expanded}},rmargin.test(prefix)||(jQuery.cssHooks[prefix+suffix].set=setPositiveNumber)}),jQuery.fn.extend({css:function(name,value){return access(this,function(elem,name,value){var styles,len,map={},i=0;if(jQuery.isArray(name)){for(styles=getStyles(elem),len=name.length;len&gt;i;i++)map[name[i]]=jQuery.css(elem,name[i],!1,styles);return map}return void 0!==value?jQuery.style(elem,name,value):jQuery.css(elem,name)},name,value,arguments.length&gt;1)},show:function(){return showHide(this,!0)},hide:function(){return showHide(this)},toggle:function(state){return&quot;boolean&quot;==typeof state?state?this.show():this.hide():this.each(function(){isHidden(this)?jQuery(this).show():jQuery(this).hide()})}}),jQuery.Tween=Tween,Tween.prototype={constructor:Tween,init:function(elem,options,prop,end,easing,unit){this.elem=elem,this.prop=prop,this.easing=easing||jQuery.easing._default,this.options=options,this.start=this.now=this.cur(),this.end=end,this.unit=unit||(jQuery.cssNumber[prop]?&quot;&quot;:&quot;px&quot;)},cur:function(){var hooks=Tween.propHooks[this.prop];return hooks&amp;&amp;hooks.get?hooks.get(this):Tween.propHooks._default.get(this)},run:function(percent){var eased,hooks=Tween.propHooks[this.prop];return this.pos=eased=this.options.duration?jQuery.easing[this.easing](percent,this.options.duration*percent,0,1,this.options.duration):percent,this.now=(this.end-this.start)*eased+this.start,this.options.step&amp;&amp;this.options.step.call(this.elem,this.now,this),hooks&amp;&amp;hooks.set?hooks.set(this):Tween.propHooks._default.set(this),this}},Tween.prototype.init.prototype=Tween.prototype,Tween.propHooks={_default:{get:function(tween){var result;return 1!==tween.elem.nodeType||null!=tween.elem[tween.prop]&amp;&amp;null==tween.elem.style[tween.prop]?tween.elem[tween.prop]:(result=jQuery.css(tween.elem,tween.prop,&quot;&quot;),result&amp;&amp;&quot;auto&quot;!==result?result:0)},set:function(tween){jQuery.fx.step[tween.prop]?jQuery.fx.step[tween.prop](tween):1!==tween.elem.nodeType||null==tween.elem.style[jQuery.cssProps[tween.prop]]&amp;&amp;!jQuery.cssHooks[tween.prop]?tween.elem[tween.prop]=tween.now:jQuery.style(tween.elem,tween.prop,tween.now+tween.unit)}}},Tween.propHooks.scrollTop=Tween.propHooks.scrollLeft={set:function(tween){tween.elem.nodeType&amp;&amp;tween.elem.parentNode&amp;&amp;(tween.elem[tween.prop]=tween.now)}},jQuery.easing={linear:function(p){return p},swing:function(p){return.5-Math.cos(p*Math.PI)/2},_default:&quot;swing&quot;},jQuery.fx=Tween.prototype.init,jQuery.fx.step={};var fxNow,timerId,rfxtypes=/^(?:toggle|show|hide)$/,rrun=/queueHooks$/;jQuery.Animation=jQuery.extend(Animation,{tweeners:{&quot;*&quot;:[function(prop,value){var tween=this.createTween(prop,value);return adjustCSS(tween.elem,prop,rcssNum.exec(value),tween),tween}]},tweener:function(props,callback){jQuery.isFunction(props)?(callback=props,props=[&quot;*&quot;]):props=props.match(rnotwhite);for(var prop,index=0,length=props.length;length&gt;index;index++)prop=props[index],Animation.tweeners[prop]=Animation.tweeners[prop]||[],Animation.tweeners[prop].unshift(callback)},prefilters:[defaultPrefilter],prefilter:function(callback,prepend){prepend?Animation.prefilters.unshift(callback):Animation.prefilters.push(callback)}}),jQuery.speed=function(speed,easing,fn){var opt=speed&amp;&amp;&quot;object&quot;===(&quot;undefined&quot;==typeof speed?&quot;undefined&quot;:_typeof(speed))?jQuery.extend({},speed):{complete:fn||!fn&amp;&amp;easing||jQuery.isFunction(speed)&amp;&amp;speed,duration:speed,easing:fn&amp;&amp;easing||easing&amp;&amp;!jQuery.isFunction(easing)&amp;&amp;easing};return opt.duration=jQuery.fx.off?0:&quot;number&quot;==typeof opt.duration?opt.duration:opt.duration in jQuery.fx.speeds?jQuery.fx.speeds[opt.duration]:jQuery.fx.speeds._default,(null==opt.queue||opt.queue===!0)&amp;&amp;(opt.queue=&quot;fx&quot;),opt.old=opt.complete,opt.complete=function(){jQuery.isFunction(opt.old)&amp;&amp;opt.old.call(this),opt.queue&amp;&amp;jQuery.dequeue(this,opt.queue)},opt},jQuery.fn.extend({fadeTo:function(speed,to,easing,callback){return this.filter(isHidden).css(&quot;opacity&quot;,0).show().end().animate({opacity:to},speed,easing,callback)},animate:function(prop,speed,easing,callback){var empty=jQuery.isEmptyObject(prop),optall=jQuery.speed(speed,easing,callback),doAnimation=function(){var anim=Animation(this,jQuery.extend({},prop),optall);(empty||dataPriv.get(this,&quot;finish&quot;))&amp;&amp;anim.stop(!0)};return doAnimation.finish=doAnimation,empty||optall.queue===!1?this.each(doAnimation):this.queue(optall.queue,doAnimation)},stop:function(type,clearQueue,gotoEnd){var stopQueue=function(hooks){var stop=hooks.stop;delete hooks.stop,stop(gotoEnd)};return&quot;string&quot;!=typeof type&amp;&amp;(gotoEnd=clearQueue,clearQueue=type,type=void 0),clearQueue&amp;&amp;type!==!1&amp;&amp;this.queue(type||&quot;fx&quot;,[]),this.each(function(){var dequeue=!0,index=null!=type&amp;&amp;type+&quot;queueHooks&quot;,timers=jQuery.timers,data=dataPriv.get(this);if(index)data[index]&amp;&amp;data[index].stop&amp;&amp;stopQueue(data[index]);else for(index in data)data[index]&amp;&amp;data[index].stop&amp;&amp;rrun.test(index)&amp;&amp;stopQueue(data[index]);for(index=timers.length;index--;)timers[index].elem!==this||null!=type&amp;&amp;timers[index].queue!==type||(timers[index].anim.stop(gotoEnd),dequeue=!1,timers.splice(index,1));(dequeue||!gotoEnd)&amp;&amp;jQuery.dequeue(this,type)})},finish:function(type){return type!==!1&amp;&amp;(type=type||&quot;fx&quot;),this.each(function(){var index,data=dataPriv.get(this),queue=data[type+&quot;queue&quot;],hooks=data[type+&quot;queueHooks&quot;],timers=jQuery.timers,length=queue?queue.length:0;for(data.finish=!0,jQuery.queue(this,type,[]),hooks&amp;&amp;hooks.stop&amp;&amp;hooks.stop.call(this,!0),index=timers.length;index--;)timers[index].elem===this&amp;&amp;timers[index].queue===type&amp;&amp;(timers[index].anim.stop(!0),timers.splice(index,1));for(index=0;length&gt;index;index++)queue[index]&amp;&amp;queue[index].finish&amp;&amp;queue[index].finish.call(this);delete data.finish})}}),jQuery.each([&quot;toggle&quot;,&quot;show&quot;,&quot;hide&quot;],function(i,name){var cssFn=jQuery.fn[name];jQuery.fn[name]=function(speed,easing,callback){return null==speed||&quot;boolean&quot;==typeof speed?cssFn.apply(this,arguments):this.animate(genFx(name,!0),speed,easing,callback)}}),jQuery.each({slideDown:genFx(&quot;show&quot;),slideUp:genFx(&quot;hide&quot;),slideToggle:genFx(&quot;toggle&quot;),fadeIn:{opacity:&quot;show&quot;},fadeOut:{opacity:&quot;hide&quot;},fadeToggle:{opacity:&quot;toggle&quot;}},function(name,props){jQuery.fn[name]=function(speed,easing,callback){return this.animate(props,speed,easing,callback)}}),jQuery.timers=[],jQuery.fx.tick=function(){var timer,i=0,timers=jQuery.timers;for(fxNow=jQuery.now();i<timers.length;i++)timer=timers[i],timer()||timers[i]!==timer||timers.splice(i--,1);timers.length||jquery.fx.stop(),fxnow=void 0},jquery.fx.timer="function(timer){jQuery.timers.push(timer),timer()?jQuery.fx.start():jQuery.timers.pop()},jQuery.fx.interval=13,jQuery.fx.start=function(){timerId||(timerId=window.setInterval(jQuery.fx.tick,jQuery.fx.interval))},jQuery.fx.stop=function(){window.clearInterval(timerId),timerId=null},jQuery.fx.speeds={slow:600,fast:200,_default:400},jQuery.fn.delay=function(time,type){return" time="jQuery.fx?jQuery.fx.speeds[time]||time:time,type=type||" fx",this.queue(type,function(next,hooks){var"="" timeout="window.setTimeout(next,time);hooks.stop=function(){window.clearTimeout(timeout)}})},function(){var" input="document.createElement(" input"),select="document.createElement(&quot;select&quot;),opt=select.appendChild(document.createElement(&quot;option&quot;));input.type=&quot;checkbox&quot;,support.checkOn=&quot;&quot;!==input.value,support.optSelected=opt.selected,select.disabled=!0,support.optDisabled=!opt.disabled,input=document.createElement(&quot;input&quot;),input.value=&quot;t&quot;,input.type=&quot;radio&quot;,support.radioValue=&quot;t&quot;===input.value}();var&quot;" boolhook,attrhandle="jQuery.expr.attrHandle;jQuery.fn.extend({attr:function(name,value){return" access(this,jquery.attr,name,value,arguments.length="">1)},removeAttr:function(name){return this.each(function(){jQuery.removeAttr(this,name)})}}),jQuery.extend({attr:function(elem,name,value){var ret,hooks,nType=elem.nodeType;if(3!==nType&amp;&amp;8!==nType&amp;&amp;2!==nType)return&quot;undefined&quot;==typeof elem.getAttribute?jQuery.prop(elem,name,value):(1===nType&amp;&amp;jQuery.isXMLDoc(elem)||(name=name.toLowerCase(),hooks=jQuery.attrHooks[name]||(jQuery.expr.match.bool.test(name)?boolHook:void 0)),void 0!==value?null===value?void jQuery.removeAttr(elem,name):hooks&amp;&amp;&quot;set&quot;in hooks&amp;&amp;void 0!==(ret=hooks.set(elem,value,name))?ret:(elem.setAttribute(name,value+&quot;&quot;),value):hooks&amp;&amp;&quot;get&quot;in hooks&amp;&amp;null!==(ret=hooks.get(elem,name))?ret:(ret=jQuery.find.attr(elem,name),null==ret?void 0:ret))},attrHooks:{type:{set:function(elem,value){if(!support.radioValue&amp;&amp;&quot;radio&quot;===value&amp;&amp;jQuery.nodeName(elem,&quot;input&quot;)){var val=elem.value;return elem.setAttribute(&quot;type&quot;,value),val&amp;&amp;(elem.value=val),value}}}},removeAttr:function(elem,value){var name,propName,i=0,attrNames=value&amp;&amp;value.match(rnotwhite);if(attrNames&amp;&amp;1===elem.nodeType)for(;name=attrNames[i++];)propName=jQuery.propFix[name]||name,jQuery.expr.match.bool.test(name)&amp;&amp;(elem[propName]=!1),elem.removeAttribute(name)}}),boolHook={set:function(elem,value,name){return value===!1?jQuery.removeAttr(elem,name):elem.setAttribute(name,name),name}},jQuery.each(jQuery.expr.match.bool.source.match(/\w+/g),function(i,name){var getter=attrHandle[name]||jQuery.find.attr;attrHandle[name]=function(elem,name,isXML){var ret,handle;return isXML||(handle=attrHandle[name],attrHandle[name]=ret,ret=null!=getter(elem,name,isXML)?name.toLowerCase():null,attrHandle[name]=handle),ret}});var rfocusable=/^(?:input|select|textarea|button)$/i,rclickable=/^(?:a|area)$/i;jQuery.fn.extend({prop:function(name,value){return access(this,jQuery.prop,name,value,arguments.length&gt;1)},removeProp:function(name){return this.each(function(){delete this[jQuery.propFix[name]||name]})}}),jQuery.extend({prop:function(elem,name,value){var ret,hooks,nType=elem.nodeType;if(3!==nType&amp;&amp;8!==nType&amp;&amp;2!==nType)return 1===nType&amp;&amp;jQuery.isXMLDoc(elem)||(name=jQuery.propFix[name]||name,hooks=jQuery.propHooks[name]),void 0!==value?hooks&amp;&amp;&quot;set&quot;in hooks&amp;&amp;void 0!==(ret=hooks.set(elem,value,name))?ret:elem[name]=value:hooks&amp;&amp;&quot;get&quot;in hooks&amp;&amp;null!==(ret=hooks.get(elem,name))?ret:elem[name]},propHooks:{tabIndex:{get:function(elem){var tabindex=jQuery.find.attr(elem,&quot;tabindex&quot;);return tabindex?parseInt(tabindex,10):rfocusable.test(elem.nodeName)||rclickable.test(elem.nodeName)&amp;&amp;elem.href?0:-1}}},propFix:{&quot;for&quot;:&quot;htmlFor&quot;,&quot;class&quot;:&quot;className&quot;}}),support.optSelected||(jQuery.propHooks.selected={get:function(elem){var parent=elem.parentNode;return parent&amp;&amp;parent.parentNode&amp;&amp;parent.parentNode.selectedIndex,null}}),jQuery.each([&quot;tabIndex&quot;,&quot;readOnly&quot;,&quot;maxLength&quot;,&quot;cellSpacing&quot;,&quot;cellPadding&quot;,&quot;rowSpan&quot;,&quot;colSpan&quot;,&quot;useMap&quot;,&quot;frameBorder&quot;,&quot;contentEditable&quot;],function(){jQuery.propFix[this.toLowerCase()]=this});var rclass=/[\t\r\n\f]/g;jQuery.fn.extend({addClass:function(value){var classes,elem,cur,curValue,clazz,j,finalValue,i=0;if(jQuery.isFunction(value))return this.each(function(j){jQuery(this).addClass(value.call(this,j,getClass(this)))});if(&quot;string&quot;==typeof value&amp;&amp;value)for(classes=value.match(rnotwhite)||[];elem=this[i++];)if(curValue=getClass(elem),cur=1===elem.nodeType&amp;&amp;(&quot; &quot;+curValue+&quot; &quot;).replace(rclass,&quot; &quot;)){for(j=0;clazz=classes[j++];)cur.indexOf(&quot; &quot;+clazz+&quot; &quot;)<0&&(cur+=clazz+" ");finalvalue="jQuery.trim(cur),curValue!==finalValue&amp;&amp;elem.setAttribute(" class",finalvalue)}return"="" this},removeclass:function(value){var="" classes,elem,cur,curvalue,clazz,j,finalvalue,i="0;if(jQuery.isFunction(value))return" this.each(function(j){jquery(this).removeclass(value.call(this,j,getclass(this)))});if(!arguments.length)return="" this.attr("class","");if("string"="=typeof" value&&value)for(classes="value.match(rnotwhite)||[];elem=this[i++];)if(curValue=getClass(elem),cur=1===elem.nodeType&amp;&amp;(" "="" "+curvalue+"="" ").replace(rclass,"="" ")){for(j="0;clazz=classes[j++];)for(;cur.indexOf(" "+clazz+"="" ")="">-1;)cur=cur.replace(&quot; &quot;+clazz+&quot; &quot;,&quot; &quot;);finalValue=jQuery.trim(cur),curValue!==finalValue&amp;&amp;elem.setAttribute(&quot;class&quot;,finalValue)}return this},toggleClass:function(value,stateVal){var type=&quot;undefined&quot;==typeof value?&quot;undefined&quot;:_typeof(value);return&quot;boolean&quot;==typeof stateVal&amp;&amp;&quot;string&quot;===type?stateVal?this.addClass(value):this.removeClass(value):this.each(jQuery.isFunction(value)?function(i){jQuery(this).toggleClass(value.call(this,i,getClass(this),stateVal),stateVal)}:function(){var className,i,self,classNames;if(&quot;string&quot;===type)for(i=0,self=jQuery(this),classNames=value.match(rnotwhite)||[];className=classNames[i++];)self.hasClass(className)?self.removeClass(className):self.addClass(className);else(void 0===value||&quot;boolean&quot;===type)&amp;&amp;(className=getClass(this),className&amp;&amp;dataPriv.set(this,&quot;__className__&quot;,className),this.setAttribute&amp;&amp;this.setAttribute(&quot;class&quot;,className||value===!1?&quot;&quot;:dataPriv.get(this,&quot;__className__&quot;)||&quot;&quot;))})},hasClass:function(selector){var className,elem,i=0;for(className=&quot; &quot;+selector+&quot; &quot;;elem=this[i++];)if(1===elem.nodeType&amp;&amp;(&quot; &quot;+getClass(elem)+&quot; &quot;).replace(rclass,&quot; &quot;).indexOf(className)&gt;-1)return!0;return!1}});var rreturn=/\r/g;jQuery.fn.extend({val:function(value){var hooks,ret,isFunction,elem=this[0];{if(arguments.length)return isFunction=jQuery.isFunction(value),this.each(function(i){var val;1===this.nodeType&amp;&amp;(val=isFunction?value.call(this,i,jQuery(this).val()):value,null==val?val=&quot;&quot;:&quot;number&quot;==typeof val?val+=&quot;&quot;:jQuery.isArray(val)&amp;&amp;(val=jQuery.map(val,function(value){return null==value?&quot;&quot;:value+&quot;&quot;})),hooks=jQuery.valHooks[this.type]||jQuery.valHooks[this.nodeName.toLowerCase()],hooks&amp;&amp;&quot;set&quot;in hooks&amp;&amp;void 0!==hooks.set(this,val,&quot;value&quot;)||(this.value=val))});if(elem)return hooks=jQuery.valHooks[elem.type]||jQuery.valHooks[elem.nodeName.toLowerCase()],hooks&amp;&amp;&quot;get&quot;in hooks&amp;&amp;void 0!==(ret=hooks.get(elem,&quot;value&quot;))?ret:(ret=elem.value,&quot;string&quot;==typeof ret?ret.replace(rreturn,&quot;&quot;):null==ret?&quot;&quot;:ret)}}}),jQuery.extend({valHooks:{option:{get:function(elem){return jQuery.trim(elem.value)}},select:{get:function(elem){for(var value,option,options=elem.options,index=elem.selectedIndex,one=&quot;select-one&quot;===elem.type||0&gt;index,values=one?null:[],max=one?index+1:options.length,i=0&gt;index?max:one?index:0;max&gt;i;i++)if(option=options[i],!(!option.selected&amp;&amp;i!==index||(support.optDisabled?option.disabled:null!==option.getAttribute(&quot;disabled&quot;))||option.parentNode.disabled&amp;&amp;jQuery.nodeName(option.parentNode,&quot;optgroup&quot;))){if(value=jQuery(option).val(),one)return value;values.push(value)}return values},set:function(elem,value){for(var optionSet,option,options=elem.options,values=jQuery.makeArray(value),i=options.length;i--;)option=options[i],(option.selected=jQuery.inArray(jQuery.valHooks.option.get(option),values)&gt;-1)&amp;&amp;(optionSet=!0);return optionSet||(elem.selectedIndex=-1),values}}}}),jQuery.each([&quot;radio&quot;,&quot;checkbox&quot;],function(){jQuery.valHooks[this]={set:function(elem,value){return jQuery.isArray(value)?elem.checked=jQuery.inArray(jQuery(elem).val(),value)&gt;-1:void 0}},support.checkOn||(jQuery.valHooks[this].get=function(elem){return null===elem.getAttribute(&quot;value&quot;)?&quot;on&quot;:elem.value})});var rfocusMorph=/^(?:focusinfocus|focusoutblur)$/;jQuery.extend(jQuery.event,{trigger:function(event,data,elem,onlyHandlers){var i,cur,tmp,bubbleType,ontype,handle,special,eventPath=[elem||document],type=hasOwn.call(event,&quot;type&quot;)?event.type:event,namespaces=hasOwn.call(event,&quot;namespace&quot;)?event.namespace.split(&quot;.&quot;):[];if(cur=tmp=elem=elem||document,3!==elem.nodeType&amp;&amp;8!==elem.nodeType&amp;&amp;!rfocusMorph.test(type+jQuery.event.triggered)&amp;&amp;(type.indexOf(&quot;.&quot;)&gt;-1&amp;&amp;(namespaces=type.split(&quot;.&quot;),type=namespaces.shift(),namespaces.sort()),ontype=type.indexOf(&quot;:&quot;)<0&&"on"+type,event=event[jquery.expando]?event:new jquery.event(type,"object"="==(" undefined"="=typeof&quot;" event?"undefined":_typeof(event))&&event),event.istrigger="onlyHandlers?2:3,event.namespace=namespaces.join(" ."),event.rnamespace="event.namespace?new&quot;" regexp("(^|\\.)"+namespaces.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,event.result="void" 0,event.target||(event.target="elem),data=null==data?[event]:jQuery.makeArray(data,[event]),special=jQuery.event.special[type]||{},onlyHandlers||!special.trigger||special.trigger.apply(elem,data)!==!1)){if(!onlyHandlers&amp;&amp;!special.noBubble&amp;&amp;!jQuery.isWindow(elem)){for(bubbleType=special.delegateType||type,rfocusMorph.test(bubbleType+type)||(cur=cur.parentNode);cur;cur=cur.parentNode)eventPath.push(cur),tmp=cur;tmp===(elem.ownerDocument||document)&amp;&amp;eventPath.push(tmp.defaultView||tmp.parentWindow||window)}for(i=0;(cur=eventPath[i++])&amp;&amp;!event.isPropagationStopped();)event.type=i">1?bubbleType:special.bindType||type,handle=(dataPriv.get(cur,&quot;events&quot;)||{})[event.type]&amp;&amp;dataPriv.get(cur,&quot;handle&quot;),handle&amp;&amp;handle.apply(cur,data),handle=ontype&amp;&amp;cur[ontype],handle&amp;&amp;handle.apply&amp;&amp;acceptData(cur)&amp;&amp;(event.result=handle.apply(cur,data),event.result===!1&amp;&amp;event.preventDefault());return event.type=type,onlyHandlers||event.isDefaultPrevented()||special._default&amp;&amp;special._default.apply(eventPath.pop(),data)!==!1||!acceptData(elem)||ontype&amp;&amp;jQuery.isFunction(elem[type])&amp;&amp;!jQuery.isWindow(elem)&amp;&amp;(tmp=elem[ontype],tmp&amp;&amp;(elem[ontype]=null),jQuery.event.triggered=type,elem[type](),jQuery.event.triggered=void 0,tmp&amp;&amp;(elem[ontype]=tmp)),event.result}},simulate:function(type,elem,event){var e=jQuery.extend(new jQuery.Event,event,{type:type,isSimulated:!0});jQuery.event.trigger(e,null,elem),e.isDefaultPrevented()&amp;&amp;event.preventDefault()}}),jQuery.fn.extend({trigger:function(type,data){return this.each(function(){jQuery.event.trigger(type,data,this)})},triggerHandler:function(type,data){var elem=this[0];return elem?jQuery.event.trigger(type,data,elem,!0):void 0}}),jQuery.each(&quot;blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu&quot;.split(&quot; &quot;),function(i,name){jQuery.fn[name]=function(data,fn){return arguments.length&gt;0?this.on(name,null,data,fn):this.trigger(name)}}),jQuery.fn.extend({hover:function(fnOver,fnOut){return this.mouseenter(fnOver).mouseleave(fnOut||fnOver)}}),support.focusin=&quot;onfocusin&quot;in window,support.focusin||jQuery.each({focus:&quot;focusin&quot;,blur:&quot;focusout&quot;},function(orig,fix){var handler=function(event){jQuery.event.simulate(fix,event.target,jQuery.event.fix(event))};jQuery.event.special[fix]={setup:function(){var doc=this.ownerDocument||this,attaches=dataPriv.access(doc,fix);attaches||doc.addEventListener(orig,handler,!0),dataPriv.access(doc,fix,(attaches||0)+1)},teardown:function(){var doc=this.ownerDocument||this,attaches=dataPriv.access(doc,fix)-1;attaches?dataPriv.access(doc,fix,attaches):(doc.removeEventListener(orig,handler,!0),dataPriv.remove(doc,fix))}}});var location=window.location,nonce=jQuery.now(),rquery=/\?/;jQuery.parseJSON=function(data){return JSON.parse(data+&quot;&quot;)},jQuery.parseXML=function(data){var xml;if(!data||&quot;string&quot;!=typeof data)return null;try{xml=(new window.DOMParser).parseFromString(data,&quot;text/xml&quot;)}catch(e){xml=void 0}return(!xml||xml.getElementsByTagName(&quot;parsererror&quot;).length)&amp;&amp;jQuery.error(&quot;Invalid XML: &quot;+data),xml};var rhash=/#.*$/,rts=/([?&amp;])_=[^&amp;]*/,rheaders=/^(.*?):[ \t]*([^\r\n]*)$/gm,rlocalProtocol=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,rnoContent=/^(?:GET|HEAD)$/,rprotocol=/^\/\//,prefilters={},transports={},allTypes=&quot;*/&quot;.concat(&quot;*&quot;),originAnchor=document.createElement(&quot;a&quot;);originAnchor.href=location.href,jQuery.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:location.href,type:&quot;GET&quot;,isLocal:rlocalProtocol.test(location.protocol),global:!0,processData:!0,async:!0,contentType:&quot;application/x-www-form-urlencoded; charset=UTF-8&quot;,accepts:{&quot;*&quot;:allTypes,text:&quot;text/plain&quot;,html:&quot;text/html&quot;,xml:&quot;application/xml, text/xml&quot;,json:&quot;application/json, text/javascript&quot;},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:&quot;responseXML&quot;,text:&quot;responseText&quot;,json:&quot;responseJSON&quot;},converters:{&quot;* text&quot;:String,&quot;text html&quot;:!0,&quot;text json&quot;:jQuery.parseJSON,&quot;text xml&quot;:jQuery.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(target,settings){return settings?ajaxExtend(ajaxExtend(target,jQuery.ajaxSettings),settings):ajaxExtend(jQuery.ajaxSettings,target)},ajaxPrefilter:addToPrefiltersOrTransports(prefilters),ajaxTransport:addToPrefiltersOrTransports(transports),ajax:function(url,options){function done(status,nativeStatusText,responses,headers){var isSuccess,success,error,response,modified,statusText=nativeStatusText;2!==state&amp;&amp;(state=2,timeoutTimer&amp;&amp;window.clearTimeout(timeoutTimer),transport=void 0,responseHeadersString=headers||&quot;&quot;,jqXHR.readyState=status&gt;0?4:0,isSuccess=status&gt;=200&amp;&amp;300&gt;status||304===status,responses&amp;&amp;(response=ajaxHandleResponses(s,jqXHR,responses)),response=ajaxConvert(s,response,jqXHR,isSuccess),isSuccess?(s.ifModified&amp;&amp;(modified=jqXHR.getResponseHeader(&quot;Last-Modified&quot;),modified&amp;&amp;(jQuery.lastModified[cacheURL]=modified),modified=jqXHR.getResponseHeader(&quot;etag&quot;),modified&amp;&amp;(jQuery.etag[cacheURL]=modified)),204===status||&quot;HEAD&quot;===s.type?statusText=&quot;nocontent&quot;:304===status?statusText=&quot;notmodified&quot;:(statusText=response.state,success=response.data,error=response.error,isSuccess=!error)):(error=statusText,(status||!statusText)&amp;&amp;(statusText=&quot;error&quot;,0&gt;status&amp;&amp;(status=0))),jqXHR.status=status,jqXHR.statusText=(nativeStatusText||statusText)+&quot;&quot;,isSuccess?deferred.resolveWith(callbackContext,[success,statusText,jqXHR]):deferred.rejectWith(callbackContext,[jqXHR,statusText,error]),jqXHR.statusCode(_statusCode),_statusCode=void 0,fireGlobals&amp;&amp;globalEventContext.trigger(isSuccess?&quot;ajaxSuccess&quot;:&quot;ajaxError&quot;,[jqXHR,s,isSuccess?success:error]),completeDeferred.fireWith(callbackContext,[jqXHR,statusText]),fireGlobals&amp;&amp;(globalEventContext.trigger(&quot;ajaxComplete&quot;,[jqXHR,s]),--jQuery.active||jQuery.event.trigger(&quot;ajaxStop&quot;)))}&quot;object&quot;===(&quot;undefined&quot;==typeof url?&quot;undefined&quot;:_typeof(url))&amp;&amp;(options=url,url=void 0),options=options||{};var transport,cacheURL,responseHeadersString,responseHeaders,timeoutTimer,urlAnchor,fireGlobals,i,s=jQuery.ajaxSetup({},options),callbackContext=s.context||s,globalEventContext=s.context&amp;&amp;(callbackContext.nodeType||callbackContext.jquery)?jQuery(callbackContext):jQuery.event,deferred=jQuery.Deferred(),completeDeferred=jQuery.Callbacks(&quot;once memory&quot;),_statusCode=s.statusCode||{},requestHeaders={},requestHeadersNames={},state=0,strAbort=&quot;canceled&quot;,jqXHR={readyState:0,getResponseHeader:function(key){var match;if(2===state){if(!responseHeaders)for(responseHeaders={};match=rheaders.exec(responseHeadersString);)responseHeaders[match[1].toLowerCase()]=match[2];match=responseHeaders[key.toLowerCase()]}return null==match?null:match},getAllResponseHeaders:function(){return 2===state?responseHeadersString:null},setRequestHeader:function(name,value){var lname=name.toLowerCase();return state||(name=requestHeadersNames[lname]=requestHeadersNames[lname]||name,requestHeaders[name]=value),this},overrideMimeType:function(type){return state||(s.mimeType=type),this},statusCode:function(map){var code;if(map)if(2&gt;state)for(code in map)_statusCode[code]=[_statusCode[code],map[code]];else jqXHR.always(map[jqXHR.status]);return this},abort:function(statusText){var finalText=statusText||strAbort;return transport&amp;&amp;transport.abort(finalText),done(0,finalText),this}};if(deferred.promise(jqXHR).complete=completeDeferred.add,jqXHR.success=jqXHR.done,jqXHR.error=jqXHR.fail,s.url=((url||s.url||location.href)+&quot;&quot;).replace(rhash,&quot;&quot;).replace(rprotocol,location.protocol+&quot;//&quot;),s.type=options.method||options.type||s.method||s.type,s.dataTypes=jQuery.trim(s.dataType||&quot;*&quot;).toLowerCase().match(rnotwhite)||[&quot;&quot;],null==s.crossDomain){urlAnchor=document.createElement(&quot;a&quot;);try{urlAnchor.href=s.url,urlAnchor.href=urlAnchor.href,s.crossDomain=originAnchor.protocol+&quot;//&quot;+originAnchor.host!=urlAnchor.protocol+&quot;//&quot;+urlAnchor.host}catch(e){s.crossDomain=!0}}if(s.data&amp;&amp;s.processData&amp;&amp;&quot;string&quot;!=typeof s.data&amp;&amp;(s.data=jQuery.param(s.data,s.traditional)),inspectPrefiltersOrTransports(prefilters,s,options,jqXHR),2===state)return jqXHR;fireGlobals=jQuery.event&amp;&amp;s.global,fireGlobals&amp;&amp;0===jQuery.active++&amp;&amp;jQuery.event.trigger(&quot;ajaxStart&quot;),s.type=s.type.toUpperCase(),s.hasContent=!rnoContent.test(s.type),cacheURL=s.url,s.hasContent||(s.data&amp;&amp;(cacheURL=s.url+=(rquery.test(cacheURL)?&quot;&amp;&quot;:&quot;?&quot;)+s.data,delete s.data),s.cache===!1&amp;&amp;(s.url=rts.test(cacheURL)?cacheURL.replace(rts,&quot;$1_=&quot;+nonce++):cacheURL+(rquery.test(cacheURL)?&quot;&amp;&quot;:&quot;?&quot;)+&quot;_=&quot;+nonce++)),s.ifModified&amp;&amp;(jQuery.lastModified[cacheURL]&amp;&amp;jqXHR.setRequestHeader(&quot;If-Modified-Since&quot;,jQuery.lastModified[cacheURL]),jQuery.etag[cacheURL]&amp;&amp;jqXHR.setRequestHeader(&quot;If-None-Match&quot;,jQuery.etag[cacheURL])),(s.data&amp;&amp;s.hasContent&amp;&amp;s.contentType!==!1||options.contentType)&amp;&amp;jqXHR.setRequestHeader(&quot;Content-Type&quot;,s.contentType),jqXHR.setRequestHeader(&quot;Accept&quot;,s.dataTypes[0]&amp;&amp;s.accepts[s.dataTypes[0]]?s.accepts[s.dataTypes[0]]+(&quot;*&quot;!==s.dataTypes[0]?&quot;, &quot;+allTypes+&quot;; q=0.01&quot;:&quot;&quot;):s.accepts[&quot;*&quot;]);for(i in s.headers)jqXHR.setRequestHeader(i,s.headers[i]);if(s.beforeSend&amp;&amp;(s.beforeSend.call(callbackContext,jqXHR,s)===!1||2===state))return jqXHR.abort();strAbort=&quot;abort&quot;;for(i in{success:1,error:1,complete:1})jqXHR[i](s[i]);if(transport=inspectPrefiltersOrTransports(transports,s,options,jqXHR)){if(jqXHR.readyState=1,fireGlobals&amp;&amp;globalEventContext.trigger(&quot;ajaxSend&quot;,[jqXHR,s]),2===state)return jqXHR;s.async&amp;&amp;s.timeout&gt;0&amp;&amp;(timeoutTimer=window.setTimeout(function(){jqXHR.abort(&quot;timeout&quot;)},s.timeout));try{state=1,transport.send(requestHeaders,done)}catch(e){if(!(2&gt;state))throw e;done(-1,e)}}else done(-1,&quot;No Transport&quot;);return jqXHR},getJSON:function(url,data,callback){return jQuery.get(url,data,callback,&quot;json&quot;)},getScript:function(url,callback){return jQuery.get(url,void 0,callback,&quot;script&quot;)}}),jQuery.each([&quot;get&quot;,&quot;post&quot;],function(i,method){jQuery[method]=function(url,data,callback,type){return jQuery.isFunction(data)&amp;&amp;(type=type||callback,callback=data,data=void 0),jQuery.ajax(jQuery.extend({url:url,type:method,dataType:type,data:data,success:callback},jQuery.isPlainObject(url)&amp;&amp;url))}}),jQuery._evalUrl=function(url){return jQuery.ajax({url:url,type:&quot;GET&quot;,dataType:&quot;script&quot;,async:!1,global:!1,&quot;throws&quot;:!0})},jQuery.fn.extend({wrapAll:function(html){var wrap;return jQuery.isFunction(html)?this.each(function(i){jQuery(this).wrapAll(html.call(this,i))}):(this[0]&amp;&amp;(wrap=jQuery(html,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&amp;&amp;wrap.insertBefore(this[0]),wrap.map(function(){for(var elem=this;elem.firstElementChild;)elem=elem.firstElementChild;return elem}).append(this)),this)},wrapInner:function(html){return this.each(jQuery.isFunction(html)?function(i){jQuery(this).wrapInner(html.call(this,i))}:function(){var self=jQuery(this),contents=self.contents();contents.length?contents.wrapAll(html):self.append(html)})},wrap:function(html){var isFunction=jQuery.isFunction(html);return this.each(function(i){jQuery(this).wrapAll(isFunction?html.call(this,i):html)})},unwrap:function(){return this.parent().each(function(){jQuery.nodeName(this,&quot;body&quot;)||jQuery(this).replaceWith(this.childNodes)}).end()}}),jQuery.expr.filters.hidden=function(elem){return!jQuery.expr.filters.visible(elem)},jQuery.expr.filters.visible=function(elem){return elem.offsetWidth&gt;0||elem.offsetHeight&gt;0||elem.getClientRects().length&gt;0};var r20=/%20/g,rbracket=/\[\]$/,rCRLF=/\r?\n/g,rsubmitterTypes=/^(?:submit|button|image|reset|file)$/i,rsubmittable=/^(?:input|select|textarea|keygen)/i;jQuery.param=function(a,traditional){var prefix,s=[],add=function(key,value){value=jQuery.isFunction(value)?value():null==value?&quot;&quot;:value,s[s.length]=encodeURIComponent(key)+&quot;=&quot;+encodeURIComponent(value)};if(void 0===traditional&amp;&amp;(traditional=jQuery.ajaxSettings&amp;&amp;jQuery.ajaxSettings.traditional),jQuery.isArray(a)||a.jquery&amp;&amp;!jQuery.isPlainObject(a))jQuery.each(a,function(){add(this.name,this.value)});else for(prefix in a)buildParams(prefix,a[prefix],traditional,add);return s.join(&quot;&amp;&quot;).replace(r20,&quot;+&quot;)},jQuery.fn.extend({serialize:function(){return jQuery.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var elements=jQuery.prop(this,&quot;elements&quot;);return elements?jQuery.makeArray(elements):this}).filter(function(){var type=this.type;return this.name&amp;&amp;!jQuery(this).is(&quot;:disabled&quot;)&amp;&amp;rsubmittable.test(this.nodeName)&amp;&amp;!rsubmitterTypes.test(type)&amp;&amp;(this.checked||!rcheckableType.test(type))}).map(function(i,elem){var val=jQuery(this).val();return null==val?null:jQuery.isArray(val)?jQuery.map(val,function(val){return{name:elem.name,value:val.replace(rCRLF,&quot;\r\n&quot;)}}):{name:elem.name,value:val.replace(rCRLF,&quot;\r\n&quot;)}}).get()}}),jQuery.ajaxSettings.xhr=function(){try{return new window.XMLHttpRequest}catch(e){}};var xhrSuccessStatus={0:200,1223:204},xhrSupported=jQuery.ajaxSettings.xhr();support.cors=!!xhrSupported&amp;&amp;&quot;withCredentials&quot;in xhrSupported,support.ajax=xhrSupported=!!xhrSupported,jQuery.ajaxTransport(function(options){var _callback,errorCallback;return support.cors||xhrSupported&amp;&amp;!options.crossDomain?{send:function(headers,complete){var i,xhr=options.xhr();if(xhr.open(options.type,options.url,options.async,options.username,options.password),options.xhrFields)for(i in options.xhrFields)xhr[i]=options.xhrFields[i];options.mimeType&amp;&amp;xhr.overrideMimeType&amp;&amp;xhr.overrideMimeType(options.mimeType),options.crossDomain||headers[&quot;X-Requested-With&quot;]||(headers[&quot;X-Requested-With&quot;]=&quot;XMLHttpRequest&quot;);for(i in headers)xhr.setRequestHeader(i,headers[i]);_callback=function(type){return function(){_callback&amp;&amp;(_callback=errorCallback=xhr.onload=xhr.onerror=xhr.onabort=xhr.onreadystatechange=null,&quot;abort&quot;===type?xhr.abort():&quot;error&quot;===type?&quot;number&quot;!=typeof xhr.status?complete(0,&quot;error&quot;):complete(xhr.status,xhr.statusText):complete(xhrSuccessStatus[xhr.status]||xhr.status,xhr.statusText,&quot;text&quot;!==(xhr.responseType||&quot;text&quot;)||&quot;string&quot;!=typeof xhr.responseText?{binary:xhr.response}:{text:xhr.responseText},xhr.getAllResponseHeaders()))}},xhr.onload=_callback(),errorCallback=xhr.onerror=_callback(&quot;error&quot;),void 0!==xhr.onabort?xhr.onabort=errorCallback:xhr.onreadystatechange=function(){4===xhr.readyState&amp;&amp;window.setTimeout(function(){_callback&amp;&amp;errorCallback()})},_callback=_callback(&quot;abort&quot;);try{xhr.send(options.hasContent&amp;&amp;options.data||null)}catch(e){if(_callback)throw e}},abort:function(){_callback&amp;&amp;_callback()}}:void 0}),jQuery.ajaxSetup({accepts:{script:&quot;text/javascript, application/javascript, application/ecmascript, application/x-ecmascript&quot;},contents:{script:/\b(?:java|ecma)script\b/},converters:{&quot;text script&quot;:function(text){return jQuery.globalEval(text),text}}}),jQuery.ajaxPrefilter(&quot;script&quot;,function(s){void 0===s.cache&amp;&amp;(s.cache=!1),s.crossDomain&amp;&amp;(s.type=&quot;GET&quot;)}),jQuery.ajaxTransport(&quot;script&quot;,function(s){if(s.crossDomain){var script,_callback2;return{send:function(_,complete){script=jQuery(&quot;<no-script>&quot;).prop({charset:s.scriptCharset,src:s.url}).on(&quot;load error&quot;,_callback2=function(evt){script.remove(),_callback2=null,evt&amp;&amp;complete(&quot;error&quot;===evt.type?404:200,evt.type)}),document.head.appendChild(script[0])},abort:function(){_callback2&amp;&amp;_callback2()}}}});var oldCallbacks=[],rjsonp=/(=)\?(?=&amp;|$)|\?\?/;jQuery.ajaxSetup({jsonp:&quot;callback&quot;,jsonpCallback:function(){var callback=oldCallbacks.pop()||jQuery.expando+&quot;_&quot;+nonce++;return this[callback]=!0,callback}}),jQuery.ajaxPrefilter(&quot;json jsonp&quot;,function(s,originalSettings,jqXHR){var callbackName,overwritten,responseContainer,jsonProp=s.jsonp!==!1&amp;&amp;(rjsonp.test(s.url)?&quot;url&quot;:&quot;string&quot;==typeof s.data&amp;&amp;0===(s.contentType||&quot;&quot;).indexOf(&quot;application/x-www-form-urlencoded&quot;)&amp;&amp;rjsonp.test(s.data)&amp;&amp;&quot;data&quot;);

return jsonProp||&quot;jsonp&quot;===s.dataTypes[0]?(callbackName=s.jsonpCallback=jQuery.isFunction(s.jsonpCallback)?s.jsonpCallback():s.jsonpCallback,jsonProp?s[jsonProp]=s[jsonProp].replace(rjsonp,&quot;$1&quot;+callbackName):s.jsonp!==!1&amp;&amp;(s.url+=(rquery.test(s.url)?&quot;&amp;&quot;:&quot;?&quot;)+s.jsonp+&quot;=&quot;+callbackName),s.converters[&quot;script json&quot;]=function(){return responseContainer||jQuery.error(callbackName+&quot; was not called&quot;),responseContainer[0]},s.dataTypes[0]=&quot;json&quot;,overwritten=window[callbackName],window[callbackName]=function(){responseContainer=arguments},jqXHR.always(function(){void 0===overwritten?jQuery(window).removeProp(callbackName):window[callbackName]=overwritten,s[callbackName]&amp;&amp;(s.jsonpCallback=originalSettings.jsonpCallback,oldCallbacks.push(callbackName)),responseContainer&amp;&amp;jQuery.isFunction(overwritten)&amp;&amp;overwritten(responseContainer[0]),responseContainer=overwritten=void 0}),&quot;script&quot;):void 0}),support.createHTMLDocument=function(){var body=document.implementation.createHTMLDocument(&quot;&quot;).body;return body.innerHTML=&quot;<form></form><form></form>&quot;,2===body.childNodes.length}(),jQuery.parseHTML=function(data,context,keepScripts){if(!data||&quot;string&quot;!=typeof data)return null;&quot;boolean&quot;==typeof context&amp;&amp;(keepScripts=context,context=!1),context=context||(support.createHTMLDocument?document.implementation.createHTMLDocument(&quot;&quot;):document);var parsed=rsingleTag.exec(data),scripts=!keepScripts&amp;&amp;[];return parsed?[context.createElement(parsed[1])]:(parsed=buildFragment([data],context,scripts),scripts&amp;&amp;scripts.length&amp;&amp;jQuery(scripts).remove(),jQuery.merge([],parsed.childNodes))};var _load=jQuery.fn.load;jQuery.fn.load=function(url,params,callback){if(&quot;string&quot;!=typeof url&amp;&amp;_load)return _load.apply(this,arguments);var selector,type,response,self=this,off=url.indexOf(&quot; &quot;);return off&gt;-1&amp;&amp;(selector=jQuery.trim(url.slice(off)),url=url.slice(0,off)),jQuery.isFunction(params)?(callback=params,params=void 0):params&amp;&amp;&quot;object&quot;===(&quot;undefined&quot;==typeof params?&quot;undefined&quot;:_typeof(params))&amp;&amp;(type=&quot;POST&quot;),self.length&gt;0&amp;&amp;jQuery.ajax({url:url,type:type||&quot;GET&quot;,dataType:&quot;html&quot;,data:params}).done(function(responseText){response=arguments,self.html(selector?jQuery(&quot;<div>&quot;).append(jQuery.parseHTML(responseText)).find(selector):responseText)}).always(callback&amp;&amp;function(jqXHR,status){self.each(function(){callback.apply(self,response||[jqXHR.responseText,status,jqXHR])})}),this},jQuery.each([&quot;ajaxStart&quot;,&quot;ajaxStop&quot;,&quot;ajaxComplete&quot;,&quot;ajaxError&quot;,&quot;ajaxSuccess&quot;,&quot;ajaxSend&quot;],function(i,type){jQuery.fn[type]=function(fn){return this.on(type,fn)}}),jQuery.expr.filters.animated=function(elem){return jQuery.grep(jQuery.timers,function(fn){return elem===fn.elem}).length},jQuery.offset={setOffset:function(elem,options,i){var curPosition,curLeft,curCSSTop,curTop,curOffset,curCSSLeft,calculatePosition,position=jQuery.css(elem,&quot;position&quot;),curElem=jQuery(elem),props={};&quot;static&quot;===position&amp;&amp;(elem.style.position=&quot;relative&quot;),curOffset=curElem.offset(),curCSSTop=jQuery.css(elem,&quot;top&quot;),curCSSLeft=jQuery.css(elem,&quot;left&quot;),calculatePosition=(&quot;absolute&quot;===position||&quot;fixed&quot;===position)&amp;&amp;(curCSSTop+curCSSLeft).indexOf(&quot;auto&quot;)&gt;-1,calculatePosition?(curPosition=curElem.position(),curTop=curPosition.top,curLeft=curPosition.left):(curTop=parseFloat(curCSSTop)||0,curLeft=parseFloat(curCSSLeft)||0),jQuery.isFunction(options)&amp;&amp;(options=options.call(elem,i,jQuery.extend({},curOffset))),null!=options.top&amp;&amp;(props.top=options.top-curOffset.top+curTop),null!=options.left&amp;&amp;(props.left=options.left-curOffset.left+curLeft),&quot;using&quot;in options?options.using.call(elem,props):curElem.css(props)}},jQuery.fn.extend({offset:function(options){if(arguments.length)return void 0===options?this:this.each(function(i){jQuery.offset.setOffset(this,options,i)});var docElem,win,elem=this[0],box={top:0,left:0},doc=elem&amp;&amp;elem.ownerDocument;if(doc)return docElem=doc.documentElement,jQuery.contains(docElem,elem)?(box=elem.getBoundingClientRect(),win=getWindow(doc),{top:box.top+win.pageYOffset-docElem.clientTop,left:box.left+win.pageXOffset-docElem.clientLeft}):box},position:function(){if(this[0]){var offsetParent,offset,elem=this[0],parentOffset={top:0,left:0};return&quot;fixed&quot;===jQuery.css(elem,&quot;position&quot;)?offset=elem.getBoundingClientRect():(offsetParent=this.offsetParent(),offset=this.offset(),jQuery.nodeName(offsetParent[0],&quot;html&quot;)||(parentOffset=offsetParent.offset()),parentOffset.top+=jQuery.css(offsetParent[0],&quot;borderTopWidth&quot;,!0)-offsetParent.scrollTop(),parentOffset.left+=jQuery.css(offsetParent[0],&quot;borderLeftWidth&quot;,!0)-offsetParent.scrollLeft()),{top:offset.top-parentOffset.top-jQuery.css(elem,&quot;marginTop&quot;,!0),left:offset.left-parentOffset.left-jQuery.css(elem,&quot;marginLeft&quot;,!0)}}},offsetParent:function(){return this.map(function(){for(var offsetParent=this.offsetParent;offsetParent&amp;&amp;&quot;static&quot;===jQuery.css(offsetParent,&quot;position&quot;);)offsetParent=offsetParent.offsetParent;return offsetParent||documentElement})}}),jQuery.each({scrollLeft:&quot;pageXOffset&quot;,scrollTop:&quot;pageYOffset&quot;},function(method,prop){var top=&quot;pageYOffset&quot;===prop;jQuery.fn[method]=function(val){return access(this,function(elem,method,val){var win=getWindow(elem);return void 0===val?win?win[prop]:elem[method]:void(win?win.scrollTo(top?win.pageXOffset:val,top?val:win.pageYOffset):elem[method]=val)},method,val,arguments.length)}}),jQuery.each([&quot;top&quot;,&quot;left&quot;],function(i,prop){jQuery.cssHooks[prop]=addGetHookIf(support.pixelPosition,function(elem,computed){return computed?(computed=curCSS(elem,prop),rnumnonpx.test(computed)?jQuery(elem).position()[prop]+&quot;px&quot;:computed):void 0})}),jQuery.each({Height:&quot;height&quot;,Width:&quot;width&quot;},function(name,type){jQuery.each({padding:&quot;inner&quot;+name,content:type,&quot;&quot;:&quot;outer&quot;+name},function(defaultExtra,funcName){jQuery.fn[funcName]=function(margin,value){var chainable=arguments.length&amp;&amp;(defaultExtra||&quot;boolean&quot;!=typeof margin),extra=defaultExtra||(margin===!0||value===!0?&quot;margin&quot;:&quot;border&quot;);return access(this,function(elem,type,value){var doc;return jQuery.isWindow(elem)?elem.document.documentElement[&quot;client&quot;+name]:9===elem.nodeType?(doc=elem.documentElement,Math.max(elem.body[&quot;scroll&quot;+name],doc[&quot;scroll&quot;+name],elem.body[&quot;offset&quot;+name],doc[&quot;offset&quot;+name],doc[&quot;client&quot;+name])):void 0===value?jQuery.css(elem,type,extra):jQuery.style(elem,type,value,extra)},type,chainable?margin:void 0,chainable,null)}})}),jQuery.fn.extend({bind:function(types,data,fn){return this.on(types,null,data,fn)},unbind:function(types,fn){return this.off(types,null,fn)},delegate:function(selector,types,data,fn){return this.on(types,selector,data,fn)},undelegate:function(selector,types,fn){return 1===arguments.length?this.off(selector,&quot;**&quot;):this.off(types,selector||&quot;**&quot;,fn)},size:function(){return this.length}}),jQuery.fn.andSelf=jQuery.fn.addBack,&quot;function&quot;==typeof define&amp;&amp;define.amd&amp;&amp;define(&quot;jquery&quot;,[],function(){return jQuery});var _jQuery=window.jQuery,_$=window.$;return jQuery.noConflict=function(deep){return window.$===jQuery&amp;&amp;(window.$=_$),deep&amp;&amp;window.jQuery===jQuery&amp;&amp;(window.jQuery=_jQuery),jQuery},noGlobal||(window.jQuery=window.$=jQuery),jQuery}),/*!
  * https://github.com/paulmillr/es6-shim
  * @license es6-shim Copyright 2013-2016 by Paul Miller (http://paulmillr.com)
  *   and contributors,  MIT License
  * es6-shim: v0.34.4
  * see https://github.com/paulmillr/es6-shim/blob/0.34.4/LICENSE
  * Details and documentation:
  * https://github.com/paulmillr/es6-shim/
  */
function(root,factory){&quot;function&quot;==typeof define&amp;&amp;define.amd?define(&quot;es6-shim&quot;,factory):&quot;object&quot;===(&quot;undefined&quot;==typeof exports?&quot;undefined&quot;:_typeof(exports))?module.exports=factory():root.returnExports=factory()}(this,function(){var ArrayIterator,_apply=Function.call.bind(Function.apply),_call=Function.call.bind(Function.call),isArray=Array.isArray,keys=Object.keys,not=function(func){return function(){return!_apply(func,this,arguments)}},throwsError=function(func){try{return func(),!1}catch(e){return!0}},valueOrFalseIfThrows=function(func){try{return func()}catch(e){return!1}},isCallableWithoutNew=not(throwsError),arePropertyDescriptorsSupported=function(){return!throwsError(function(){Object.defineProperty({},&quot;x&quot;,{get:function(){}})})},supportsDescriptors=!!Object.defineProperty&amp;&amp;arePropertyDescriptorsSupported(),functionsHaveNames=&quot;foo&quot;===function(){}.name,_forEach=Function.call.bind(Array.prototype.forEach),_reduce=Function.call.bind(Array.prototype.reduce),_filter=Function.call.bind(Array.prototype.filter),_some=Function.call.bind(Array.prototype.some),defineProperty=function(object,name,value,force){!force&amp;&amp;name in object||(supportsDescriptors?Object.defineProperty(object,name,{configurable:!0,enumerable:!1,writable:!0,value:value}):object[name]=value)},defineProperties=function(object,map,forceOverride){_forEach(keys(map),function(name){var method=map[name];defineProperty(object,name,method,!!forceOverride)})},_toString=Function.call.bind(Object.prototype.toString),isCallable=&quot;function&quot;==typeof/abc/?function(x){return&quot;function&quot;==typeof x&amp;&amp;&quot;[object Function]&quot;===_toString(x)}:function(x){return&quot;function&quot;==typeof x},Value={getter:function(object,name,_getter){if(!supportsDescriptors)throw new TypeError(&quot;getters require true ES5 support&quot;);Object.defineProperty(object,name,{configurable:!0,enumerable:!1,get:_getter})},proxy:function(originalObject,key,targetObject){if(!supportsDescriptors)throw new TypeError(&quot;getters require true ES5 support&quot;);var originalDescriptor=Object.getOwnPropertyDescriptor(originalObject,key);Object.defineProperty(targetObject,key,{configurable:originalDescriptor.configurable,enumerable:originalDescriptor.enumerable,get:function(){return originalObject[key]},set:function(value){originalObject[key]=value}})},redefine:function(object,property,newValue){if(supportsDescriptors){var descriptor=Object.getOwnPropertyDescriptor(object,property);descriptor.value=newValue,Object.defineProperty(object,property,descriptor)}else object[property]=newValue},defineByDescriptor:function(object,property,descriptor){supportsDescriptors?Object.defineProperty(object,property,descriptor):&quot;value&quot;in descriptor&amp;&amp;(object[property]=descriptor.value)},preserveToString:function(target,source){source&amp;&amp;isCallable(source.toString)&amp;&amp;defineProperty(target,&quot;toString&quot;,source.toString.bind(source),!0)}},create=Object.create||function(prototype,properties){var Prototype=function(){};Prototype.prototype=prototype;var object=new Prototype;return&quot;undefined&quot;!=typeof properties&amp;&amp;keys(properties).forEach(function(key){Value.defineByDescriptor(object,key,properties[key])}),object},supportsSubclassing=function(C,f){return Object.setPrototypeOf?valueOrFalseIfThrows(function(){var Sub=function Subclass(arg){var o=new C(arg);return Object.setPrototypeOf(o,Subclass.prototype),o};return Object.setPrototypeOf(Sub,C),Sub.prototype=create(C.prototype,{constructor:{value:Sub}}),f(Sub)}):!1},getGlobal=function(){if(&quot;undefined&quot;!=typeof self)return self;if(&quot;undefined&quot;!=typeof window)return window;if(&quot;undefined&quot;!=typeof global)return global;throw new Error(&quot;unable to locate global object&quot;)},globals=getGlobal(),globalIsFinite=globals.isFinite,_indexOf=Function.call.bind(String.prototype.indexOf),_concat=Function.call.bind(Array.prototype.concat),_sort=Function.call.bind(Array.prototype.sort),_strSlice=Function.call.bind(String.prototype.slice),_push=Function.call.bind(Array.prototype.push),_pushApply=Function.apply.bind(Array.prototype.push),_shift=Function.call.bind(Array.prototype.shift),_max=Math.max,_min=Math.min,_floor=Math.floor,_abs=Math.abs,_log=Math.log,_sqrt=Math.sqrt,_hasOwnProperty=Function.call.bind(Object.prototype.hasOwnProperty),noop=function(){},_Symbol=globals.Symbol||{},symbolSpecies=_Symbol.species||&quot;@@species&quot;,numberIsNaN=Number.isNaN||function(value){return value!==value},numberIsFinite=Number.isFinite||function(value){return&quot;number&quot;==typeof value&amp;&amp;globalIsFinite(value)},isStandardArguments=function(value){return&quot;[object Arguments]&quot;===_toString(value)},isLegacyArguments=function(value){return null!==value&amp;&amp;&quot;object&quot;===(&quot;undefined&quot;==typeof value?&quot;undefined&quot;:_typeof(value))&amp;&amp;&quot;number&quot;==typeof value.length&amp;&amp;value.length&gt;=0&amp;&amp;&quot;[object Array]&quot;!==_toString(value)&amp;&amp;&quot;[object Function]&quot;===_toString(value.callee)},isArguments=isStandardArguments(arguments)?isStandardArguments:isLegacyArguments,Type={primitive:function(x){return null===x||&quot;function&quot;!=typeof x&amp;&amp;&quot;object&quot;!==(&quot;undefined&quot;==typeof x?&quot;undefined&quot;:_typeof(x))},object:function(x){return null!==x&amp;&amp;&quot;object&quot;===(&quot;undefined&quot;==typeof x?&quot;undefined&quot;:_typeof(x))},string:function(x){return&quot;[object String]&quot;===_toString(x)},regex:function(x){return&quot;[object RegExp]&quot;===_toString(x)},symbol:function(x){return&quot;function&quot;==typeof globals.Symbol&amp;&amp;&quot;symbol&quot;===(&quot;undefined&quot;==typeof x?&quot;undefined&quot;:_typeof(x))}},overrideNative=function(object,property,replacement){var original=object[property];defineProperty(object,property,replacement,!0),Value.preserveToString(object[property],original)},hasSymbols=&quot;function&quot;==typeof _Symbol&amp;&amp;&quot;function&quot;==typeof _Symbol[&quot;for&quot;]&amp;&amp;Type.symbol(_Symbol()),$iterator$=Type.symbol(_Symbol.iterator)?_Symbol.iterator:&quot;_es6-shim iterator_&quot;;globals.Set&amp;&amp;&quot;function&quot;==typeof(new globals.Set)[&quot;@@iterator&quot;]&amp;&amp;($iterator$=&quot;@@iterator&quot;),globals.Reflect||defineProperty(globals,&quot;Reflect&quot;,{});var Reflect=globals.Reflect,$String=String,ES={Call:function(F,V){var args=arguments.length&gt;2?arguments[2]:[];if(!ES.IsCallable(F))throw new TypeError(F+&quot; is not a function&quot;);return _apply(F,V,args)},RequireObjectCoercible:function(x,optMessage){if(null==x)throw new TypeError(optMessage||&quot;Cannot call method on &quot;+x);return x},TypeIsObject:function(x){return void 0===x||null===x||x===!0||x===!1?!1:&quot;function&quot;==typeof x||&quot;object&quot;===(&quot;undefined&quot;==typeof x?&quot;undefined&quot;:_typeof(x))},ToObject:function(o,optMessage){return Object(ES.RequireObjectCoercible(o,optMessage))},IsCallable:isCallable,IsConstructor:function(x){return ES.IsCallable(x)},ToInt32:function(x){return ES.ToNumber(x)&gt;&gt;0},ToUint32:function(x){return ES.ToNumber(x)&gt;&gt;&gt;0},ToNumber:function(value){if(&quot;[object Symbol]&quot;===_toString(value))throw new TypeError(&quot;Cannot convert a Symbol value to a number&quot;);return+value},ToInteger:function(value){var number=ES.ToNumber(value);return numberIsNaN(number)?0:0!==number&amp;&amp;numberIsFinite(number)?(number&gt;0?1:-1)*_floor(_abs(number)):number},ToLength:function(value){var len=ES.ToInteger(value);return 0&gt;=len?0:len&gt;Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:len},SameValue:function(a,b){return a===b?0===a?1/a===1/b:!0:numberIsNaN(a)&amp;&amp;numberIsNaN(b)},SameValueZero:function(a,b){return a===b||numberIsNaN(a)&amp;&amp;numberIsNaN(b)},IsIterable:function(o){return ES.TypeIsObject(o)&amp;&amp;(&quot;undefined&quot;!=typeof o[$iterator$]||isArguments(o))},GetIterator:function(o){if(isArguments(o))return new ArrayIterator(o,&quot;value&quot;);var itFn=ES.GetMethod(o,$iterator$);if(!ES.IsCallable(itFn))throw new TypeError(&quot;value is not an iterable&quot;);var it=ES.Call(itFn,o);if(!ES.TypeIsObject(it))throw new TypeError(&quot;bad iterator&quot;);return it},GetMethod:function(o,p){var func=ES.ToObject(o)[p];if(void 0===func||null===func)return void 0;if(!ES.IsCallable(func))throw new TypeError(&quot;Method not callable: &quot;+p);return func},IteratorComplete:function(iterResult){return!!iterResult.done},IteratorClose:function(iterator,completionIsThrow){var returnMethod=ES.GetMethod(iterator,&quot;return&quot;);if(void 0!==returnMethod){var innerResult,innerException;try{innerResult=ES.Call(returnMethod,iterator)}catch(e){innerException=e}if(!completionIsThrow){if(innerException)throw innerException;if(!ES.TypeIsObject(innerResult))throw new TypeError(&quot;Iterator&apos;s return method returned a non-object.&quot;)}}},IteratorNext:function(it){var result=arguments.length&gt;1?it.next(arguments[1]):it.next();if(!ES.TypeIsObject(result))throw new TypeError(&quot;bad iterator&quot;);return result},IteratorStep:function(it){var result=ES.IteratorNext(it),done=ES.IteratorComplete(result);return done?!1:result},Construct:function(C,args,newTarget,isES6internal){var target=&quot;undefined&quot;==typeof newTarget?C:newTarget;if(!isES6internal&amp;&amp;Reflect.construct)return Reflect.construct(C,args,target);var proto=target.prototype;ES.TypeIsObject(proto)||(proto=Object.prototype);var obj=create(proto),result=ES.Call(C,obj,args);return ES.TypeIsObject(result)?result:obj},SpeciesConstructor:function(O,defaultConstructor){var C=O.constructor;if(void 0===C)return defaultConstructor;if(!ES.TypeIsObject(C))throw new TypeError(&quot;Bad constructor&quot;);var S=C[symbolSpecies];if(void 0===S||null===S)return defaultConstructor;if(!ES.IsConstructor(S))throw new TypeError(&quot;Bad @@species&quot;);return S},CreateHTML:function(string,tag,attribute,value){var S=ES.ToString(string),p1=&quot;<"+tag;if(""!==attribute){var v="ES.ToString(value),escapedV=V.replace(/" g,"&quot;");p1+="" "+attribute+'="&apos;+escapedV+&apos;" '}var="" p2="p1+" "="">&quot;,p3=p2+S;return p3+&quot;&quot;},IsRegExp:function(argument){if(!ES.TypeIsObject(argument))return!1;var isRegExp=argument[_Symbol.match];return&quot;undefined&quot;!=typeof isRegExp?!!isRegExp:Type.regex(argument)},ToString:function(string){return $String(string)}};if(supportsDescriptors&amp;&amp;hasSymbols){var defineWellKnownSymbol=function(name){if(Type.symbol(_Symbol[name]))return _Symbol[name];var sym=_Symbol[&quot;for&quot;](&quot;Symbol.&quot;+name);return Object.defineProperty(_Symbol,name,{configurable:!1,enumerable:!1,writable:!1,value:sym}),sym};if(!Type.symbol(_Symbol.search)){var symbolSearch=defineWellKnownSymbol(&quot;search&quot;),originalSearch=String.prototype.search;defineProperty(RegExp.prototype,symbolSearch,function(string){return ES.Call(originalSearch,string,[this])});var searchShim=function(regexp){var O=ES.RequireObjectCoercible(this);if(null!==regexp&amp;&amp;&quot;undefined&quot;!=typeof regexp){var searcher=ES.GetMethod(regexp,symbolSearch);if(&quot;undefined&quot;!=typeof searcher)return ES.Call(searcher,regexp,[O])}return ES.Call(originalSearch,O,[ES.ToString(regexp)])};overrideNative(String.prototype,&quot;search&quot;,searchShim)}if(!Type.symbol(_Symbol.replace)){var symbolReplace=defineWellKnownSymbol(&quot;replace&quot;),originalReplace=String.prototype.replace;defineProperty(RegExp.prototype,symbolReplace,function(string,replaceValue){return ES.Call(originalReplace,string,[this,replaceValue])});var replaceShim=function(searchValue,replaceValue){var O=ES.RequireObjectCoercible(this);if(null!==searchValue&amp;&amp;&quot;undefined&quot;!=typeof searchValue){var replacer=ES.GetMethod(searchValue,symbolReplace);if(&quot;undefined&quot;!=typeof replacer)return ES.Call(replacer,searchValue,[O,replaceValue])}return ES.Call(originalReplace,O,[ES.ToString(searchValue),replaceValue])};overrideNative(String.prototype,&quot;replace&quot;,replaceShim)}if(!Type.symbol(_Symbol.split)){var symbolSplit=defineWellKnownSymbol(&quot;split&quot;),originalSplit=String.prototype.split;defineProperty(RegExp.prototype,symbolSplit,function(string,limit){return ES.Call(originalSplit,string,[this,limit])});var splitShim=function(separator,limit){var O=ES.RequireObjectCoercible(this);if(null!==separator&amp;&amp;&quot;undefined&quot;!=typeof separator){var splitter=ES.GetMethod(separator,symbolSplit);if(&quot;undefined&quot;!=typeof splitter)return ES.Call(splitter,separator,[O,limit])}return ES.Call(originalSplit,O,[ES.ToString(separator),limit])};overrideNative(String.prototype,&quot;split&quot;,splitShim)}var symbolMatchExists=Type.symbol(_Symbol.match),stringMatchIgnoresSymbolMatch=symbolMatchExists&amp;&amp;function(){var o={};return o[_Symbol.match]=function(){return 42},42!==&quot;a&quot;.match(o)}();if(!symbolMatchExists||stringMatchIgnoresSymbolMatch){var symbolMatch=defineWellKnownSymbol(&quot;match&quot;),originalMatch=String.prototype.match;defineProperty(RegExp.prototype,symbolMatch,function(string){return ES.Call(originalMatch,string,[this])});var matchShim=function(regexp){var O=ES.RequireObjectCoercible(this);if(null!==regexp&amp;&amp;&quot;undefined&quot;!=typeof regexp){var matcher=ES.GetMethod(regexp,symbolMatch);if(&quot;undefined&quot;!=typeof matcher)return ES.Call(matcher,regexp,[O])}return ES.Call(originalMatch,O,[ES.ToString(regexp)])};overrideNative(String.prototype,&quot;match&quot;,matchShim)}}var wrapConstructor=function(original,replacement,keysToSkip){Value.preserveToString(replacement,original),Object.setPrototypeOf&amp;&amp;Object.setPrototypeOf(original,replacement),supportsDescriptors?_forEach(Object.getOwnPropertyNames(original),function(key){key in noop||keysToSkip[key]||Value.proxy(original,key,replacement)}):_forEach(Object.keys(original),function(key){key in noop||keysToSkip[key]||(replacement[key]=original[key])}),replacement.prototype=original.prototype,Value.redefine(original.prototype,&quot;constructor&quot;,replacement)},defaultSpeciesGetter=function(){return this},addDefaultSpecies=function(C){supportsDescriptors&amp;&amp;!_hasOwnProperty(C,symbolSpecies)&amp;&amp;Value.getter(C,symbolSpecies,defaultSpeciesGetter)},addIterator=function(prototype,impl){var implementation=impl||function(){return this};defineProperty(prototype,$iterator$,implementation),!prototype[$iterator$]&amp;&amp;Type.symbol($iterator$)&amp;&amp;(prototype[$iterator$]=implementation)},createDataProperty=function(object,name,value){supportsDescriptors?Object.defineProperty(object,name,{configurable:!0,enumerable:!0,writable:!0,value:value}):object[name]=value},createDataPropertyOrThrow=function(object,name,value){if(createDataProperty(object,name,value),!ES.SameValue(object[name],value))throw new TypeError(&quot;property is nonconfigurable&quot;)},emulateES6construct=function(o,defaultNewTarget,defaultProto,slots){if(!ES.TypeIsObject(o))throw new TypeError(&quot;Constructor requires `new`: &quot;+defaultNewTarget.name);var proto=defaultNewTarget.prototype;ES.TypeIsObject(proto)||(proto=defaultProto);var obj=create(proto);for(var name in slots)if(_hasOwnProperty(slots,name)){var value=slots[name];defineProperty(obj,name,value,!0)}return obj};if(String.fromCodePoint&amp;&amp;1!==String.fromCodePoint.length){var originalFromCodePoint=String.fromCodePoint;overrideNative(String,&quot;fromCodePoint&quot;,function(){return ES.Call(originalFromCodePoint,this,arguments)})}var StringShims={fromCodePoint:function(){for(var next,result=[],i=0,length=arguments.length;length&gt;i;i++){if(next=Number(arguments[i]),!ES.SameValue(next,ES.ToInteger(next))||0&gt;next||next&gt;1114111)throw new RangeError(&quot;Invalid code point &quot;+next);65536&gt;next?_push(result,String.fromCharCode(next)):(next-=65536,_push(result,String.fromCharCode((next&gt;&gt;10)+55296)),_push(result,String.fromCharCode(next%1024+56320)))}return result.join(&quot;&quot;)},raw:function(callSite){var cooked=ES.ToObject(callSite,&quot;bad callSite&quot;),rawString=ES.ToObject(cooked.raw,&quot;bad raw value&quot;),len=rawString.length,literalsegments=ES.ToLength(len);if(0&gt;=literalsegments)return&quot;&quot;;for(var nextKey,next,nextSeg,nextSub,stringElements=[],nextIndex=0;literalsegments&gt;nextIndex&amp;&amp;(nextKey=ES.ToString(nextIndex),nextSeg=ES.ToString(rawString[nextKey]),_push(stringElements,nextSeg),!(nextIndex+1&gt;=literalsegments));)next=nextIndex+1<arguments.length?arguments[nextindex+1]:"",nextsub=es.tostring(next),_push(stringelements,nextsub),nextindex+=1;return stringelements.join("")}};string.raw&&"xy"!="=String.raw({raw:{0:" x",1:"y",length:2}})&&overridenative(string,"raw",stringshims.raw),defineproperties(string,stringshims);var"="" stringrepeat="function" repeat(s,times){if(1="">times)return&quot;&quot;;if(times%2)return repeat(s,times-1)+s;var half=repeat(s,times/2);return half+half},stringMaxLength=1/0,StringPrototypeShims={repeat:function(times){var thisStr=ES.ToString(ES.RequireObjectCoercible(this)),numTimes=ES.ToInteger(times);if(0&gt;numTimes||numTimes&gt;=stringMaxLength)throw new RangeError(&quot;repeat count must be less than infinity and not overflow maximum string size&quot;);return stringRepeat(thisStr,numTimes)},startsWith:function(searchString){var S=ES.ToString(ES.RequireObjectCoercible(this));if(ES.IsRegExp(searchString))throw new TypeError(&apos;Cannot call method &quot;startsWith&quot; with a regex&apos;);var position,searchStr=ES.ToString(searchString);arguments.length&gt;1&amp;&amp;(position=arguments[1]);var start=_max(ES.ToInteger(position),0);return _strSlice(S,start,start+searchStr.length)===searchStr},endsWith:function(searchString){var S=ES.ToString(ES.RequireObjectCoercible(this));if(ES.IsRegExp(searchString))throw new TypeError(&apos;Cannot call method &quot;endsWith&quot; with a regex&apos;);var endPosition,searchStr=ES.ToString(searchString),len=S.length;arguments.length&gt;1&amp;&amp;(endPosition=arguments[1]);var pos=&quot;undefined&quot;==typeof endPosition?len:ES.ToInteger(endPosition),end=_min(_max(pos,0),len);return _strSlice(S,end-searchStr.length,end)===searchStr},includes:function(searchString){if(ES.IsRegExp(searchString))throw new TypeError(&apos;&quot;includes&quot; does not accept a RegExp&apos;);var position,searchStr=ES.ToString(searchString);return arguments.length&gt;1&amp;&amp;(position=arguments[1]),-1!==_indexOf(this,searchStr,position)},codePointAt:function(pos){var thisStr=ES.ToString(ES.RequireObjectCoercible(this)),position=ES.ToInteger(pos),length=thisStr.length;if(position&gt;=0&amp;&amp;length&gt;position){var first=thisStr.charCodeAt(position),isEnd=position+1===length;if(55296&gt;first||first&gt;56319||isEnd)return first;var second=thisStr.charCodeAt(position+1);return 56320&gt;second||second&gt;57343?first:1024*(first-55296)+(second-56320)+65536}}};if(String.prototype.includes&amp;&amp;&quot;a&quot;.includes(&quot;a&quot;,1/0)!==!1&amp;&amp;overrideNative(String.prototype,&quot;includes&quot;,StringPrototypeShims.includes),String.prototype.startsWith&amp;&amp;String.prototype.endsWith){var startsWithRejectsRegex=throwsError(function(){&quot;/a/&quot;.startsWith(/a/)}),startsWithHandlesInfinity=valueOrFalseIfThrows(function(){return&quot;abc&quot;.startsWith(&quot;a&quot;,1/0)===!1});startsWithRejectsRegex&amp;&amp;startsWithHandlesInfinity||(overrideNative(String.prototype,&quot;startsWith&quot;,StringPrototypeShims.startsWith),overrideNative(String.prototype,&quot;endsWith&quot;,StringPrototypeShims.endsWith))}if(hasSymbols){var startsWithSupportsSymbolMatch=valueOrFalseIfThrows(function(){var re=/a/;return re[_Symbol.match]=!1,&quot;/a/&quot;.startsWith(re)});startsWithSupportsSymbolMatch||overrideNative(String.prototype,&quot;startsWith&quot;,StringPrototypeShims.startsWith);var endsWithSupportsSymbolMatch=valueOrFalseIfThrows(function(){var re=/a/;return re[_Symbol.match]=!1,&quot;/a/&quot;.endsWith(re)});endsWithSupportsSymbolMatch||overrideNative(String.prototype,&quot;endsWith&quot;,StringPrototypeShims.endsWith);var includesSupportsSymbolMatch=valueOrFalseIfThrows(function(){var re=/a/;return re[_Symbol.match]=!1,&quot;/a/&quot;.includes(re)});includesSupportsSymbolMatch||overrideNative(String.prototype,&quot;includes&quot;,StringPrototypeShims.includes)}defineProperties(String.prototype,StringPrototypeShims);var ws=[&quot;	\n\f\r &#xA0;&#x1680;&#x180E;&#x2002;&#x2003;&#x2002;&#x2003;&quot;,&quot;&#x2004;&#x2005;&#x2006;&#x2007;&#x2008;&#x2009;&#x200A;&#x202F;&#x205F;&#x3000;\u2028&quot;,&quot;\u2029&quot;].join(&quot;&quot;),trimRegexp=new RegExp(&quot;(^[&quot;+ws+&quot;]+)|([&quot;+ws+&quot;]+$)&quot;,&quot;g&quot;),trimShim=function(){return ES.ToString(ES.RequireObjectCoercible(this)).replace(trimRegexp,&quot;&quot;)},nonWS=[&quot;&#x85;&quot;,&quot;&#x200B;&quot;,&quot;&#xFFFE;&quot;].join(&quot;&quot;),nonWSregex=new RegExp(&quot;[&quot;+nonWS+&quot;]&quot;,&quot;g&quot;),isBadHexRegex=/^[\-+]0x[0-9a-f]+$/i,hasStringTrimBug=nonWS.trim().length!==nonWS.length;defineProperty(String.prototype,&quot;trim&quot;,trimShim,hasStringTrimBug);var StringIterator=function(s){ES.RequireObjectCoercible(s),this._s=ES.ToString(s),this._i=0};StringIterator.prototype.next=function(){var s=this._s,i=this._i;if(&quot;undefined&quot;==typeof s||i&gt;=s.length)return this._s=void 0,{value:void 0,done:!0};var second,len,first=s.charCodeAt(i);return 55296&gt;first||first&gt;56319||i+1===s.length?len=1:(second=s.charCodeAt(i+1),len=56320&gt;second||second&gt;57343?1:2),this._i=i+len,{value:s.substr(i,len),done:!1}},addIterator(StringIterator.prototype),addIterator(String.prototype,function(){return new StringIterator(this)});var ArrayShims={from:function(items){var mapFn,C=this;arguments.length&gt;1&amp;&amp;(mapFn=arguments[1]);var mapping,T;if(&quot;undefined&quot;==typeof mapFn)mapping=!1;else{if(!ES.IsCallable(mapFn))throw new TypeError(&quot;Array.from: when provided, the second argument must be a function&quot;);arguments.length&gt;2&amp;&amp;(T=arguments[2]),mapping=!0}var length,result,i,usingIterator=&quot;undefined&quot;!=typeof(isArguments(items)||ES.GetMethod(items,$iterator$));if(usingIterator){result=ES.IsConstructor(C)?Object(new C):[];var next,nextValue,iterator=ES.GetIterator(items);for(i=0;;){if(next=ES.IteratorStep(iterator),next===!1)break;nextValue=next.value;try{mapping&amp;&amp;(nextValue=&quot;undefined&quot;==typeof T?mapFn(nextValue,i):_call(mapFn,T,nextValue,i)),result[i]=nextValue}catch(e){throw ES.IteratorClose(iterator,!0),e}i+=1}length=i}else{var arrayLike=ES.ToObject(items);length=ES.ToLength(arrayLike.length),result=ES.IsConstructor(C)?Object(new C(length)):new Array(length);var value;for(i=0;length&gt;i;++i)value=arrayLike[i],mapping&amp;&amp;(value=&quot;undefined&quot;==typeof T?mapFn(value,i):_call(mapFn,T,value,i)),result[i]=value}return result.length=length,result},of:function(){for(var len=arguments.length,C=this,A=isArray(C)||!ES.IsCallable(C)?new Array(len):ES.Construct(C,[len]),k=0;len&gt;k;++k)createDataPropertyOrThrow(A,k,arguments[k]);return A.length=len,A}};defineProperties(Array,ArrayShims),addDefaultSpecies(Array);var iteratorResult=function(x){return{value:x,done:0===arguments.length}};ArrayIterator=function(array,kind){this.i=0,this.array=array,this.kind=kind},defineProperties(ArrayIterator.prototype,{next:function(){var i=this.i,array=this.array;if(!(this instanceof ArrayIterator))throw new TypeError(&quot;Not an ArrayIterator&quot;);if(&quot;undefined&quot;!=typeof array)for(var len=ES.ToLength(array.length);len&gt;i;i++){var retval,kind=this.kind;return&quot;key&quot;===kind?retval=i:&quot;value&quot;===kind?retval=array[i]:&quot;entry&quot;===kind&amp;&amp;(retval=[i,array[i]]),this.i=i+1,{value:retval,done:!1}}return this.array=void 0,{value:void 0,done:!0}}}),addIterator(ArrayIterator.prototype);var orderKeys=function(a,b){var aNumeric=String(ES.ToInteger(a))===a,bNumeric=String(ES.ToInteger(b))===b;return aNumeric&amp;&amp;bNumeric?b-a:aNumeric&amp;&amp;!bNumeric?-1:!aNumeric&amp;&amp;bNumeric?1:a.localeCompare(b)},getAllKeys=function(object){var ownKeys=[],keys=[];for(var key in object)_push(_hasOwnProperty(object,key)?ownKeys:keys,key);return _sort(ownKeys,orderKeys),_sort(keys,orderKeys),_concat(ownKeys,keys)},ObjectIterator=function(object,kind){defineProperties(this,{object:object,array:getAllKeys(object),kind:kind})};defineProperties(ObjectIterator.prototype,{next:function(){var key,array=this.array;if(!(this instanceof ObjectIterator))throw new TypeError(&quot;Not an ObjectIterator&quot;);for(;array.length&gt;0;)if(key=_shift(array),key in this.object)return iteratorResult(&quot;key&quot;===this.kind?key:&quot;value&quot;===this.kind?this.object[key]:[key,this.object[key]]);return iteratorResult()}}),addIterator(ObjectIterator.prototype);var arrayOfSupportsSubclassing=Array.of===ArrayShims.of||function(){var Foo=function(len){this.length=len};Foo.prototype=[];var fooArr=Array.of.apply(Foo,[1,2]);return fooArr instanceof Foo&amp;&amp;2===fooArr.length}();arrayOfSupportsSubclassing||overrideNative(Array,&quot;of&quot;,ArrayShims.of);var ArrayPrototypeShims={copyWithin:function(target,start){var end,o=ES.ToObject(this),len=ES.ToLength(o.length),relativeTarget=ES.ToInteger(target),relativeStart=ES.ToInteger(start),to=0&gt;relativeTarget?_max(len+relativeTarget,0):_min(relativeTarget,len),from=0&gt;relativeStart?_max(len+relativeStart,0):_min(relativeStart,len);arguments.length&gt;2&amp;&amp;(end=arguments[2]);var relativeEnd=&quot;undefined&quot;==typeof end?len:ES.ToInteger(end),finalItem=0&gt;relativeEnd?_max(len+relativeEnd,0):_min(relativeEnd,len),count=_min(finalItem-from,len-to),direction=1;for(to&gt;from&amp;&amp;from+count&gt;to&amp;&amp;(direction=-1,from+=count-1,to+=count-1);count&gt;0;)from in o?o[to]=o[from]:delete o[to],from+=direction,to+=direction,count-=1;return o},fill:function(value){var start;arguments.length&gt;1&amp;&amp;(start=arguments[1]);var end;arguments.length&gt;2&amp;&amp;(end=arguments[2]);var O=ES.ToObject(this),len=ES.ToLength(O.length);start=ES.ToInteger(&quot;undefined&quot;==typeof start?0:start),end=ES.ToInteger(&quot;undefined&quot;==typeof end?len:end);for(var relativeStart=0&gt;start?_max(len+start,0):_min(start,len),relativeEnd=0&gt;end?len+end:end,i=relativeStart;len&gt;i&amp;&amp;relativeEnd&gt;i;++i)O[i]=value;return O},find:function(predicate){var list=ES.ToObject(this),length=ES.ToLength(list.length);if(!ES.IsCallable(predicate))throw new TypeError(&quot;Array#find: predicate must be a function&quot;);for(var value,thisArg=arguments.length&gt;1?arguments[1]:null,i=0;length&gt;i;i++)if(value=list[i],thisArg){if(_call(predicate,thisArg,value,i,list))return value}else if(predicate(value,i,list))return value},findIndex:function(predicate){var list=ES.ToObject(this),length=ES.ToLength(list.length);if(!ES.IsCallable(predicate))throw new TypeError(&quot;Array#findIndex: predicate must be a function&quot;);for(var thisArg=arguments.length&gt;1?arguments[1]:null,i=0;length&gt;i;i++)if(thisArg){if(_call(predicate,thisArg,list[i],i,list))return i}else if(predicate(list[i],i,list))return i;return-1},keys:function(){return new ArrayIterator(this,&quot;key&quot;)},values:function(){return new ArrayIterator(this,&quot;value&quot;)},entries:function(){return new ArrayIterator(this,&quot;entry&quot;)}};if(Array.prototype.keys&amp;&amp;!ES.IsCallable([1].keys().next)&amp;&amp;delete Array.prototype.keys,Array.prototype.entries&amp;&amp;!ES.IsCallable([1].entries().next)&amp;&amp;delete Array.prototype.entries,Array.prototype.keys&amp;&amp;Array.prototype.entries&amp;&amp;!Array.prototype.values&amp;&amp;Array.prototype[$iterator$]&amp;&amp;(defineProperties(Array.prototype,{values:Array.prototype[$iterator$]}),Type.symbol(_Symbol.unscopables)&amp;&amp;(Array.prototype[_Symbol.unscopables].values=!0)),functionsHaveNames&amp;&amp;Array.prototype.values&amp;&amp;&quot;values&quot;!==Array.prototype.values.name){var originalArrayPrototypeValues=Array.prototype.values;overrideNative(Array.prototype,&quot;values&quot;,function(){return ES.Call(originalArrayPrototypeValues,this,arguments)}),defineProperty(Array.prototype,$iterator$,Array.prototype.values,!0)}defineProperties(Array.prototype,ArrayPrototypeShims),addIterator(Array.prototype,function(){return this.values()}),Object.getPrototypeOf&amp;&amp;addIterator(Object.getPrototypeOf([].values()));var arrayFromSwallowsNegativeLengths=function(){return valueOrFalseIfThrows(function(){return 0===Array.from({length:-1}).length})}(),arrayFromHandlesIterables=function(){var arr=Array.from([0].entries());return 1===arr.length&amp;&amp;isArray(arr[0])&amp;&amp;0===arr[0][0]&amp;&amp;0===arr[0][1]}();arrayFromSwallowsNegativeLengths&amp;&amp;arrayFromHandlesIterables||overrideNative(Array,&quot;from&quot;,ArrayShims.from);var arrayFromHandlesUndefinedMapFunction=function(){return valueOrFalseIfThrows(function(){return Array.from([0],void 0)})}();if(!arrayFromHandlesUndefinedMapFunction){var origArrayFrom=Array.from;overrideNative(Array,&quot;from&quot;,function(items){return arguments.length&gt;1&amp;&amp;&quot;undefined&quot;!=typeof arguments[1]?ES.Call(origArrayFrom,this,arguments):_call(origArrayFrom,this,items)})}var int32sAsOne=-(Math.pow(2,32)-1),toLengthsCorrectly=function(method,reversed){var obj={length:int32sAsOne};return obj[reversed?(obj.length&gt;&gt;&gt;0)-1:0]=!0,valueOrFalseIfThrows(function(){return _call(method,obj,function(){throw new RangeError(&quot;should not reach here&quot;)},[]),!0})};if(!toLengthsCorrectly(Array.prototype.forEach)){var originalForEach=Array.prototype.forEach;overrideNative(Array.prototype,&quot;forEach&quot;,function(){return ES.Call(originalForEach,this.length&gt;=0?this:[],arguments)},!0)}if(!toLengthsCorrectly(Array.prototype.map)){var originalMap=Array.prototype.map;overrideNative(Array.prototype,&quot;map&quot;,function(){return ES.Call(originalMap,this.length&gt;=0?this:[],arguments)},!0)}if(!toLengthsCorrectly(Array.prototype.filter)){var originalFilter=Array.prototype.filter;overrideNative(Array.prototype,&quot;filter&quot;,function(){return ES.Call(originalFilter,this.length&gt;=0?this:[],arguments)},!0)}if(!toLengthsCorrectly(Array.prototype.some)){var originalSome=Array.prototype.some;overrideNative(Array.prototype,&quot;some&quot;,function(){return ES.Call(originalSome,this.length&gt;=0?this:[],arguments)},!0)}if(!toLengthsCorrectly(Array.prototype.every)){var originalEvery=Array.prototype.every;overrideNative(Array.prototype,&quot;every&quot;,function(){return ES.Call(originalEvery,this.length&gt;=0?this:[],arguments)},!0)}if(!toLengthsCorrectly(Array.prototype.reduce)){var originalReduce=Array.prototype.reduce;overrideNative(Array.prototype,&quot;reduce&quot;,function(){return ES.Call(originalReduce,this.length&gt;=0?this:[],arguments)},!0)}if(!toLengthsCorrectly(Array.prototype.reduceRight,!0)){var originalReduceRight=Array.prototype.reduceRight;overrideNative(Array.prototype,&quot;reduceRight&quot;,function(){return ES.Call(originalReduceRight,this.length&gt;=0?this:[],arguments)},!0)}var lacksOctalSupport=8!==Number(&quot;0o10&quot;),lacksBinarySupport=2!==Number(&quot;0b10&quot;),trimsNonWhitespace=_some(nonWS,function(c){return 0===Number(c+0+c)});if(lacksOctalSupport||lacksBinarySupport||trimsNonWhitespace){var OrigNumber=Number,binaryRegex=/^0b[01]+$/i,octalRegex=/^0o[0-7]+$/i,isBinary=binaryRegex.test.bind(binaryRegex),isOctal=octalRegex.test.bind(octalRegex),toPrimitive=function(O){var result;if(&quot;function&quot;==typeof O.valueOf&amp;&amp;(result=O.valueOf(),Type.primitive(result)))return result;if(&quot;function&quot;==typeof O.toString&amp;&amp;(result=O.toString(),Type.primitive(result)))return result;throw new TypeError(&quot;No default value&quot;)},hasNonWS=nonWSregex.test.bind(nonWSregex),isBadHex=isBadHexRegex.test.bind(isBadHexRegex),NumberShim=function(){var NumberShim=function(value){var primValue;primValue=arguments.length&gt;0?Type.primitive(value)?value:toPrimitive(value,&quot;number&quot;):0,&quot;string&quot;==typeof primValue&amp;&amp;(primValue=ES.Call(trimShim,primValue),isBinary(primValue)?primValue=parseInt(_strSlice(primValue,2),2):isOctal(primValue)?primValue=parseInt(_strSlice(primValue,2),8):(hasNonWS(primValue)||isBadHex(primValue))&amp;&amp;(primValue=0/0));var receiver=this,valueOfSucceeds=valueOrFalseIfThrows(function(){return OrigNumber.prototype.valueOf.call(receiver),!0});return receiver instanceof NumberShim&amp;&amp;!valueOfSucceeds?new OrigNumber(primValue):OrigNumber(primValue)};return NumberShim}();wrapConstructor(OrigNumber,NumberShim,{}),defineProperties(NumberShim,{NaN:OrigNumber.NaN,MAX_VALUE:OrigNumber.MAX_VALUE,MIN_VALUE:OrigNumber.MIN_VALUE,NEGATIVE_INFINITY:OrigNumber.NEGATIVE_INFINITY,POSITIVE_INFINITY:OrigNumber.POSITIVE_INFINITY}),Number=NumberShim,Value.redefine(globals,&quot;Number&quot;,NumberShim)}var maxSafeInteger=Math.pow(2,53)-1;defineProperties(Number,{MAX_SAFE_INTEGER:maxSafeInteger,MIN_SAFE_INTEGER:-maxSafeInteger,EPSILON:2.220446049250313e-16,parseInt:globals.parseInt,parseFloat:globals.parseFloat,isFinite:numberIsFinite,isInteger:function(value){return numberIsFinite(value)&amp;&amp;ES.ToInteger(value)===value},isSafeInteger:function(value){return Number.isInteger(value)&amp;&amp;_abs(value)<=number.max_safe_integer},isnan:numberisnan}),defineproperty(number,"parseint",globals.parseint,number.parseint!==globals.parseint),[,1].find(function(item,idx){return 0="==idx})||overrideNative(Array.prototype," find",arrayprototypeshims.find),0!="=[,1].findIndex(function(item,idx){return&quot;" isenumerableon="Function.bind.call(Function.bind,Object.prototype.propertyIsEnumerable),ensureEnumerable=function(obj,prop){supportsDescriptors&amp;&amp;isEnumerableOn(obj,prop)&amp;&amp;Object.defineProperty(obj,prop,{enumerable:!1})},sliceArgs=function(){for(var" initial="Number(this),len=arguments.length,desiredArgCount=len-initial,args=new" array(0="">desiredArgCount?0:desiredArgCount),i=initial;len&gt;i;++i)args[i-initial]=arguments[i];return args},assignTo=function(source){return function(target,key){return target[key]=source[key],target}},assignReducer=function(target,source){var symbols,sourceKeys=keys(Object(source));return ES.IsCallable(Object.getOwnPropertySymbols)&amp;&amp;(symbols=_filter(Object.getOwnPropertySymbols(Object(source)),isEnumerableOn(source))),_reduce(_concat(sourceKeys,symbols||[]),assignTo(source),target)},ObjectShims={assign:function(target){var to=ES.ToObject(target,&quot;Cannot convert undefined or null to object&quot;);return _reduce(ES.Call(sliceArgs,1,arguments),assignReducer,to);

},is:function(a,b){return ES.SameValue(a,b)}},assignHasPendingExceptions=Object.assign&amp;&amp;Object.preventExtensions&amp;&amp;function(){var thrower=Object.preventExtensions({1:2});try{Object.assign(thrower,&quot;xy&quot;)}catch(e){return&quot;y&quot;===thrower[1]}}();if(assignHasPendingExceptions&amp;&amp;overrideNative(Object,&quot;assign&quot;,ObjectShims.assign),defineProperties(Object,ObjectShims),supportsDescriptors){var ES5ObjectShims={setPrototypeOf:function(Object,magic){var set,checkArgs=function(O,proto){if(!ES.TypeIsObject(O))throw new TypeError(&quot;cannot set prototype on a non-object&quot;);if(null!==proto&amp;&amp;!ES.TypeIsObject(proto))throw new TypeError(&quot;can only set prototype to an object or null&quot;+proto)},setPrototypeOf=function(O,proto){return checkArgs(O,proto),_call(set,O,proto),O};try{set=Object.getOwnPropertyDescriptor(Object.prototype,magic).set,_call(set,{},null)}catch(e){if(Object.prototype!=={}[magic])return;set=function(proto){this[magic]=proto},setPrototypeOf.polyfill=setPrototypeOf(setPrototypeOf({},null),Object.prototype)instanceof Object}return setPrototypeOf}(Object,&quot;__proto__&quot;)};defineProperties(Object,ES5ObjectShims)}Object.setPrototypeOf&amp;&amp;Object.getPrototypeOf&amp;&amp;null!==Object.getPrototypeOf(Object.setPrototypeOf({},null))&amp;&amp;null===Object.getPrototypeOf(Object.create(null))&amp;&amp;!function(){var FAKENULL=Object.create(null),gpo=Object.getPrototypeOf,spo=Object.setPrototypeOf;Object.getPrototypeOf=function(o){var result=gpo(o);return result===FAKENULL?null:result},Object.setPrototypeOf=function(o,p){var proto=null===p?FAKENULL:p;return spo(o,proto)},Object.setPrototypeOf.polyfill=!1}();var objectKeysAcceptsPrimitives=!throwsError(function(){Object.keys(&quot;foo&quot;)});if(!objectKeysAcceptsPrimitives){var originalObjectKeys=Object.keys;overrideNative(Object,&quot;keys&quot;,function(value){return originalObjectKeys(ES.ToObject(value))}),keys=Object.keys}if(Object.getOwnPropertyNames){var objectGOPNAcceptsPrimitives=!throwsError(function(){Object.getOwnPropertyNames(&quot;foo&quot;)});if(!objectGOPNAcceptsPrimitives){var cachedWindowNames=&quot;object&quot;===(&quot;undefined&quot;==typeof window?&quot;undefined&quot;:_typeof(window))?Object.getOwnPropertyNames(window):[],originalObjectGetOwnPropertyNames=Object.getOwnPropertyNames;overrideNative(Object,&quot;getOwnPropertyNames&quot;,function(value){var val=ES.ToObject(value);if(&quot;[object Window]&quot;===_toString(val))try{return originalObjectGetOwnPropertyNames(val)}catch(e){return _concat([],cachedWindowNames)}return originalObjectGetOwnPropertyNames(val)})}}if(Object.getOwnPropertyDescriptor){var objectGOPDAcceptsPrimitives=!throwsError(function(){Object.getOwnPropertyDescriptor(&quot;foo&quot;,&quot;bar&quot;)});if(!objectGOPDAcceptsPrimitives){var originalObjectGetOwnPropertyDescriptor=Object.getOwnPropertyDescriptor;overrideNative(Object,&quot;getOwnPropertyDescriptor&quot;,function(value,property){return originalObjectGetOwnPropertyDescriptor(ES.ToObject(value),property)})}}if(Object.seal){var objectSealAcceptsPrimitives=!throwsError(function(){Object.seal(&quot;foo&quot;)});if(!objectSealAcceptsPrimitives){var originalObjectSeal=Object.seal;overrideNative(Object,&quot;seal&quot;,function(value){return Type.object(value)?originalObjectSeal(value):value})}}if(Object.isSealed){var objectIsSealedAcceptsPrimitives=!throwsError(function(){Object.isSealed(&quot;foo&quot;)});if(!objectIsSealedAcceptsPrimitives){var originalObjectIsSealed=Object.isSealed;overrideNative(Object,&quot;isSealed&quot;,function(value){return Type.object(value)?originalObjectIsSealed(value):!0})}}if(Object.freeze){var objectFreezeAcceptsPrimitives=!throwsError(function(){Object.freeze(&quot;foo&quot;)});if(!objectFreezeAcceptsPrimitives){var originalObjectFreeze=Object.freeze;overrideNative(Object,&quot;freeze&quot;,function(value){return Type.object(value)?originalObjectFreeze(value):value})}}if(Object.isFrozen){var objectIsFrozenAcceptsPrimitives=!throwsError(function(){Object.isFrozen(&quot;foo&quot;)});if(!objectIsFrozenAcceptsPrimitives){var originalObjectIsFrozen=Object.isFrozen;overrideNative(Object,&quot;isFrozen&quot;,function(value){return Type.object(value)?originalObjectIsFrozen(value):!0})}}if(Object.preventExtensions){var objectPreventExtensionsAcceptsPrimitives=!throwsError(function(){Object.preventExtensions(&quot;foo&quot;)});if(!objectPreventExtensionsAcceptsPrimitives){var originalObjectPreventExtensions=Object.preventExtensions;overrideNative(Object,&quot;preventExtensions&quot;,function(value){return Type.object(value)?originalObjectPreventExtensions(value):value})}}if(Object.isExtensible){var objectIsExtensibleAcceptsPrimitives=!throwsError(function(){Object.isExtensible(&quot;foo&quot;)});if(!objectIsExtensibleAcceptsPrimitives){var originalObjectIsExtensible=Object.isExtensible;overrideNative(Object,&quot;isExtensible&quot;,function(value){return Type.object(value)?originalObjectIsExtensible(value):!1})}}if(Object.getPrototypeOf){var objectGetProtoAcceptsPrimitives=!throwsError(function(){Object.getPrototypeOf(&quot;foo&quot;)});if(!objectGetProtoAcceptsPrimitives){var originalGetProto=Object.getPrototypeOf;overrideNative(Object,&quot;getPrototypeOf&quot;,function(value){return originalGetProto(ES.ToObject(value))})}}var hasFlags=supportsDescriptors&amp;&amp;function(){var desc=Object.getOwnPropertyDescriptor(RegExp.prototype,&quot;flags&quot;);return desc&amp;&amp;ES.IsCallable(desc.get)}();if(supportsDescriptors&amp;&amp;!hasFlags){var regExpFlagsGetter=function(){if(!ES.TypeIsObject(this))throw new TypeError(&quot;Method called on incompatible type: must be an object.&quot;);var result=&quot;&quot;;return this.global&amp;&amp;(result+=&quot;g&quot;),this.ignoreCase&amp;&amp;(result+=&quot;i&quot;),this.multiline&amp;&amp;(result+=&quot;m&quot;),this.unicode&amp;&amp;(result+=&quot;u&quot;),this.sticky&amp;&amp;(result+=&quot;y&quot;),result};Value.getter(RegExp.prototype,&quot;flags&quot;,regExpFlagsGetter)}var regExpSupportsFlagsWithRegex=supportsDescriptors&amp;&amp;valueOrFalseIfThrows(function(){return&quot;/a/i&quot;===String(new RegExp(/a/g,&quot;i&quot;))}),regExpNeedsToSupportSymbolMatch=hasSymbols&amp;&amp;supportsDescriptors&amp;&amp;function(){var regex=/./;return regex[_Symbol.match]=!1,RegExp(regex)===regex}();if(supportsDescriptors&amp;&amp;(!regExpSupportsFlagsWithRegex||regExpNeedsToSupportSymbolMatch)){var flagsGetter=Object.getOwnPropertyDescriptor(RegExp.prototype,&quot;flags&quot;).get,sourceDesc=Object.getOwnPropertyDescriptor(RegExp.prototype,&quot;source&quot;)||{},legacySourceGetter=function(){return this.source},sourceGetter=ES.IsCallable(sourceDesc.get)?sourceDesc.get:legacySourceGetter,OrigRegExp=RegExp,RegExpShim=function(){return function RegExp(pattern,flags){var patternIsRegExp=ES.IsRegExp(pattern),calledWithNew=this instanceof RegExp;if(!calledWithNew&amp;&amp;patternIsRegExp&amp;&amp;&quot;undefined&quot;==typeof flags&amp;&amp;pattern.constructor===RegExp)return pattern;var P=pattern,F=flags;return Type.regex(pattern)?(P=ES.Call(sourceGetter,pattern),F=&quot;undefined&quot;==typeof flags?ES.Call(flagsGetter,pattern):flags,new RegExp(P,F)):(patternIsRegExp&amp;&amp;(P=pattern.source,F=&quot;undefined&quot;==typeof flags?pattern.flags:flags),new OrigRegExp(pattern,flags))}}();wrapConstructor(OrigRegExp,RegExpShim,{$input:!0}),RegExp=RegExpShim,Value.redefine(globals,&quot;RegExp&quot;,RegExpShim)}if(supportsDescriptors){var regexGlobals={input:&quot;$_&quot;,lastMatch:&quot;$&amp;&quot;,lastParen:&quot;$+&quot;,leftContext:&quot;$`&quot;,rightContext:&quot;$&apos;&quot;};_forEach(keys(regexGlobals),function(prop){prop in RegExp&amp;&amp;!(regexGlobals[prop]in RegExp)&amp;&amp;Value.getter(RegExp,regexGlobals[prop],function(){return RegExp[prop]})})}addDefaultSpecies(RegExp);var inverseEpsilon=1/Number.EPSILON,roundTiesToEven=function(n){return n+inverseEpsilon-inverseEpsilon},BINARY_32_EPSILON=Math.pow(2,-23),BINARY_32_MAX_VALUE=Math.pow(2,127)*(2-BINARY_32_EPSILON),BINARY_32_MIN_VALUE=Math.pow(2,-126),numberCLZ=Number.prototype.clz;delete Number.prototype.clz;var MathShims={acosh:function(value){var x=Number(value);return Number.isNaN(x)||1&gt;value?0/0:1===x?0:x===1/0?x:_log(x/Math.E+_sqrt(x+1)*_sqrt(x-1)/Math.E)+1},asinh:function(value){var x=Number(value);return 0!==x&amp;&amp;globalIsFinite(x)?0&gt;x?-Math.asinh(-x):_log(x+_sqrt(x*x+1)):x},atanh:function(value){var x=Number(value);return Number.isNaN(x)||-1&gt;x||x&gt;1?0/0:-1===x?-(1/0):1===x?1/0:0===x?x:.5*_log((1+x)/(1-x))},cbrt:function(value){var x=Number(value);if(0===x)return x;var result,negate=0&gt;x;return negate&amp;&amp;(x=-x),x===1/0?result=1/0:(result=Math.exp(_log(x)/3),result=(x/(result*result)+2*result)/3),negate?-result:result},clz32:function(value){var x=Number(value),number=ES.ToUint32(x);return 0===number?32:numberCLZ?ES.Call(numberCLZ,number):31-_floor(_log(number+.5)*Math.LOG2E)},cosh:function(value){var x=Number(value);return 0===x?1:Number.isNaN(x)?0/0:globalIsFinite(x)?(0&gt;x&amp;&amp;(x=-x),x&gt;21?Math.exp(x)/2:(Math.exp(x)+Math.exp(-x))/2):1/0},expm1:function(value){var x=Number(value);if(x===-(1/0))return-1;if(!globalIsFinite(x)||0===x)return x;if(_abs(x)&gt;.5)return Math.exp(x)-1;for(var t=x,sum=0,n=1;sum+t!==sum;)sum+=t,n+=1,t*=x/n;return sum},hypot:function(){for(var result=0,largest=0,i=0;i<arguments.length;++i){var value="_abs(Number(arguments[i]));value">largest?(result*=largest/value*(largest/value),result+=1,largest=value):result+=value&gt;0?value/largest*(value/largest):value}return largest===1/0?1/0:largest*_sqrt(result)},log2:function(value){return _log(value)*Math.LOG2E},log10:function(value){return _log(value)*Math.LOG10E},log1p:function(value){var x=Number(value);return-1&gt;x||Number.isNaN(x)?0/0:0===x||x===1/0?x:-1===x?-(1/0):1+x-1===0?x:x*(_log(1+x)/(1+x-1))},sign:function(value){var number=Number(value);return 0===number?number:Number.isNaN(number)?number:0&gt;number?-1:1},sinh:function(value){var x=Number(value);return globalIsFinite(x)&amp;&amp;0!==x?_abs(x)<1?(math.expm1(x)-math.expm1(-x)) 0="" 2:(math.exp(x-1)-math.exp(-x-1))*math.e="" 2:x},tanh:function(value){var="" x="Number(value);if(Number.isNaN(x)||0===x)return" x;if(x="==1/0)return" 1;if(x="==-(1/0))return-1;var" a="Math.expm1(x),b=Math.expm1(-x);return">x?-_floor(-x):_floor(x)},imul:function(x,y){var a=ES.ToUint32(x),b=ES.ToUint32(y),ah=a&gt;&gt;&gt;16&amp;65535,al=65535&amp;a,bh=b&gt;&gt;&gt;16&amp;65535,bl=65535&amp;b;return al*bl+(ah*bl+al*bh&lt;<16>&gt;&gt;0)|0},fround:function(x){var v=Number(x);if(0===v||v===1/0||v===-(1/0)||numberIsNaN(v))return v;var sign=Math.sign(v),abs=_abs(v);if(BINARY_32_MIN_VALUE&gt;abs)return sign*roundTiesToEven(abs/BINARY_32_MIN_VALUE/BINARY_32_EPSILON)*BINARY_32_MIN_VALUE*BINARY_32_EPSILON;var a=(1+BINARY_32_EPSILON/Number.EPSILON)*abs,result=a-(a-abs);return result&gt;BINARY_32_MAX_VALUE||numberIsNaN(result)?sign*(1/0):sign*result}};defineProperties(Math,MathShims),defineProperty(Math,&quot;log1p&quot;,MathShims.log1p,-1e-17!==Math.log1p(-1e-17)),defineProperty(Math,&quot;asinh&quot;,MathShims.asinh,Math.asinh(-1e7)!==-Math.asinh(1e7)),defineProperty(Math,&quot;tanh&quot;,MathShims.tanh,-2e-17!==Math.tanh(-2e-17)),defineProperty(Math,&quot;acosh&quot;,MathShims.acosh,Math.acosh(Number.MAX_VALUE)===1/0),defineProperty(Math,&quot;cbrt&quot;,MathShims.cbrt,Math.abs(1-Math.cbrt(1e-300)/1e-100)/Number.EPSILON&gt;8),defineProperty(Math,&quot;sinh&quot;,MathShims.sinh,-2e-17!==Math.sinh(-2e-17));var expm1OfTen=Math.expm1(10);defineProperty(Math,&quot;expm1&quot;,MathShims.expm1,expm1OfTen&gt;22025.465794806718||22025.465794806718&gt;expm1OfTen);var origMathRound=Math.round,roundHandlesBoundaryConditions=0===Math.round(.5-Number.EPSILON/4)&amp;&amp;1===Math.round(-.5+Number.EPSILON/3.99),smallestPositiveNumberWhereRoundBreaks=inverseEpsilon+1,largestPositiveNumberWhereRoundBreaks=2*inverseEpsilon-1,roundDoesNotIncreaseIntegers=[smallestPositiveNumberWhereRoundBreaks,largestPositiveNumberWhereRoundBreaks].every(function(num){return Math.round(num)===num});defineProperty(Math,&quot;round&quot;,function(x){var floor=_floor(x),ceil=-1===floor?-0:floor+1;return.5&gt;x-floor?floor:ceil},!roundHandlesBoundaryConditions||!roundDoesNotIncreaseIntegers),Value.preserveToString(Math.round,origMathRound);var origImul=Math.imul;-5!==Math.imul(4294967295,5)&amp;&amp;(Math.imul=MathShims.imul,Value.preserveToString(Math.imul,origImul)),2!==Math.imul.length&amp;&amp;overrideNative(Math,&quot;imul&quot;,function(){return ES.Call(origImul,Math,arguments)});var PromiseShim=function(){var setTimeout=globals.setTimeout;if(&quot;function&quot;==typeof setTimeout||&quot;object&quot;===(&quot;undefined&quot;==typeof setTimeout?&quot;undefined&quot;:_typeof(setTimeout))){ES.IsPromise=function(promise){return ES.TypeIsObject(promise)?&quot;undefined&quot;==typeof promise._promise?!1:!0:!1};var makeZeroTimeout,PromiseCapability=function(C){if(!ES.IsConstructor(C))throw new TypeError(&quot;Bad promise constructor&quot;);var capability=this,resolver=function(resolve,reject){if(void 0!==capability.resolve||void 0!==capability.reject)throw new TypeError(&quot;Bad Promise implementation!&quot;);capability.resolve=resolve,capability.reject=reject};if(capability.resolve=void 0,capability.reject=void 0,capability.promise=new C(resolver),!ES.IsCallable(capability.resolve)||!ES.IsCallable(capability.reject))throw new TypeError(&quot;Bad promise constructor&quot;)};&quot;undefined&quot;!=typeof window&amp;&amp;ES.IsCallable(window.postMessage)&amp;&amp;(makeZeroTimeout=function(){var timeouts=[],messageName=&quot;zero-timeout-message&quot;,setZeroTimeout=function(fn){_push(timeouts,fn),window.postMessage(messageName,&quot;*&quot;)},handleMessage=function(event){if(event.source===window&amp;&amp;event.data===messageName){if(event.stopPropagation(),0===timeouts.length)return;var fn=_shift(timeouts);fn()}};return window.addEventListener(&quot;message&quot;,handleMessage,!0),setZeroTimeout});var Promise$prototype,Promise$prototype$then,makePromiseAsap=function(){var P=globals.Promise,pr=P&amp;&amp;P.resolve&amp;&amp;P.resolve();return pr&amp;&amp;function(task){return pr.then(task)}},enqueue=ES.IsCallable(globals.setImmediate)?globals.setImmediate:&quot;object&quot;===(&quot;undefined&quot;==typeof process?&quot;undefined&quot;:_typeof(process))&amp;&amp;process.nextTick?process.nextTick:makePromiseAsap()||(ES.IsCallable(makeZeroTimeout)?makeZeroTimeout():function(task){setTimeout(task,0)}),PROMISE_IDENTITY=function(x){return x},PROMISE_THROWER=function(e){throw e},PROMISE_PENDING=0,PROMISE_FULFILLED=1,PROMISE_REJECTED=2,PROMISE_FULFILL_OFFSET=0,PROMISE_REJECT_OFFSET=1,PROMISE_CAPABILITY_OFFSET=2,PROMISE_FAKE_CAPABILITY={},enqueuePromiseReactionJob=function(handler,capability,argument){enqueue(function(){promiseReactionJob(handler,capability,argument)})},promiseReactionJob=function(handler,promiseCapability,argument){var handlerResult,f;if(promiseCapability===PROMISE_FAKE_CAPABILITY)return handler(argument);try{handlerResult=handler(argument),f=promiseCapability.resolve}catch(e){handlerResult=e,f=promiseCapability.reject}f(handlerResult)},fulfillPromise=function(promise,value){var _promise=promise._promise,length=_promise.reactionLength;if(length&gt;0&amp;&amp;(enqueuePromiseReactionJob(_promise.fulfillReactionHandler0,_promise.reactionCapability0,value),_promise.fulfillReactionHandler0=void 0,_promise.rejectReactions0=void 0,_promise.reactionCapability0=void 0,length&gt;1))for(var i=1,idx=0;length&gt;i;i++,idx+=3)enqueuePromiseReactionJob(_promise[idx+PROMISE_FULFILL_OFFSET],_promise[idx+PROMISE_CAPABILITY_OFFSET],value),promise[idx+PROMISE_FULFILL_OFFSET]=void 0,promise[idx+PROMISE_REJECT_OFFSET]=void 0,promise[idx+PROMISE_CAPABILITY_OFFSET]=void 0;_promise.result=value,_promise.state=PROMISE_FULFILLED,_promise.reactionLength=0},rejectPromise=function(promise,reason){var _promise=promise._promise,length=_promise.reactionLength;if(length&gt;0&amp;&amp;(enqueuePromiseReactionJob(_promise.rejectReactionHandler0,_promise.reactionCapability0,reason),_promise.fulfillReactionHandler0=void 0,_promise.rejectReactions0=void 0,_promise.reactionCapability0=void 0,length&gt;1))for(var i=1,idx=0;length&gt;i;i++,idx+=3)enqueuePromiseReactionJob(_promise[idx+PROMISE_REJECT_OFFSET],_promise[idx+PROMISE_CAPABILITY_OFFSET],reason),promise[idx+PROMISE_FULFILL_OFFSET]=void 0,promise[idx+PROMISE_REJECT_OFFSET]=void 0,promise[idx+PROMISE_CAPABILITY_OFFSET]=void 0;_promise.result=reason,_promise.state=PROMISE_REJECTED,_promise.reactionLength=0},createResolvingFunctions=function(promise){var alreadyResolved=!1,resolve=function(resolution){var then;if(!alreadyResolved){if(alreadyResolved=!0,resolution===promise)return rejectPromise(promise,new TypeError(&quot;Self resolution&quot;));if(!ES.TypeIsObject(resolution))return fulfillPromise(promise,resolution);try{then=resolution.then}catch(e){return rejectPromise(promise,e)}return ES.IsCallable(then)?void enqueue(function(){promiseResolveThenableJob(promise,resolution,then)}):fulfillPromise(promise,resolution)}},reject=function(reason){return alreadyResolved?void 0:(alreadyResolved=!0,rejectPromise(promise,reason))};return{resolve:resolve,reject:reject}},optimizedThen=function(then,thenable,resolve,reject){then===Promise$prototype$then?_call(then,thenable,resolve,reject,PROMISE_FAKE_CAPABILITY):_call(then,thenable,resolve,reject)},promiseResolveThenableJob=function(promise,thenable,then){var resolvingFunctions=createResolvingFunctions(promise),resolve=resolvingFunctions.resolve,reject=resolvingFunctions.reject;try{optimizedThen(then,thenable,resolve,reject)}catch(e){reject(e)}},Promise=function(){var PromiseShim=function(resolver){if(!(this instanceof PromiseShim))throw new TypeError(&apos;Constructor Promise requires &quot;new&quot;&apos;);if(this&amp;&amp;this._promise)throw new TypeError(&quot;Bad construction&quot;);if(!ES.IsCallable(resolver))throw new TypeError(&quot;not a valid resolver&quot;);var promise=emulateES6construct(this,PromiseShim,Promise$prototype,{_promise:{result:void 0,state:PROMISE_PENDING,reactionLength:0,fulfillReactionHandler0:void 0,rejectReactionHandler0:void 0,reactionCapability0:void 0}}),resolvingFunctions=createResolvingFunctions(promise),reject=resolvingFunctions.reject;try{resolver(resolvingFunctions.resolve,reject)}catch(e){reject(e)}return promise};return PromiseShim}();Promise$prototype=Promise.prototype;var _promiseAllResolver=function(index,values,capability,remaining){var alreadyCalled=!1;return function(x){if(!alreadyCalled&amp;&amp;(alreadyCalled=!0,values[index]=x,0===--remaining.count)){var resolve=capability.resolve;resolve(values)}}},performPromiseAll=function(iteratorRecord,C,resultCapability){for(var next,nextValue,it=iteratorRecord.iterator,values=[],remaining={count:1},index=0;;){try{if(next=ES.IteratorStep(it),next===!1){iteratorRecord.done=!0;break}nextValue=next.value}catch(e){throw iteratorRecord.done=!0,e}values[index]=void 0;var nextPromise=C.resolve(nextValue),resolveElement=_promiseAllResolver(index,values,resultCapability,remaining);remaining.count+=1,optimizedThen(nextPromise.then,nextPromise,resolveElement,resultCapability.reject),index+=1}if(0===--remaining.count){var resolve=resultCapability.resolve;resolve(values)}return resultCapability.promise},performPromiseRace=function(iteratorRecord,C,resultCapability){for(var next,nextValue,nextPromise,it=iteratorRecord.iterator;;){try{if(next=ES.IteratorStep(it),next===!1){iteratorRecord.done=!0;break}nextValue=next.value}catch(e){throw iteratorRecord.done=!0,e}nextPromise=C.resolve(nextValue),optimizedThen(nextPromise.then,nextPromise,resultCapability.resolve,resultCapability.reject)}return resultCapability.promise};return defineProperties(Promise,{all:function(iterable){var C=this;if(!ES.TypeIsObject(C))throw new TypeError(&quot;Promise is not object&quot;);var iterator,iteratorRecord,capability=new PromiseCapability(C);try{return iterator=ES.GetIterator(iterable),iteratorRecord={iterator:iterator,done:!1},performPromiseAll(iteratorRecord,C,capability)}catch(e){var exception=e;if(iteratorRecord&amp;&amp;!iteratorRecord.done)try{ES.IteratorClose(iterator,!0)}catch(ee){exception=ee}var reject=capability.reject;return reject(exception),capability.promise}},race:function(iterable){var C=this;if(!ES.TypeIsObject(C))throw new TypeError(&quot;Promise is not object&quot;);var iterator,iteratorRecord,capability=new PromiseCapability(C);try{return iterator=ES.GetIterator(iterable),iteratorRecord={iterator:iterator,done:!1},performPromiseRace(iteratorRecord,C,capability)}catch(e){var exception=e;if(iteratorRecord&amp;&amp;!iteratorRecord.done)try{ES.IteratorClose(iterator,!0)}catch(ee){exception=ee}var reject=capability.reject;return reject(exception),capability.promise}},reject:function(reason){var C=this;if(!ES.TypeIsObject(C))throw new TypeError(&quot;Bad promise constructor&quot;);var capability=new PromiseCapability(C),rejectFunc=capability.reject;return rejectFunc(reason),capability.promise},resolve:function(v){var C=this;if(!ES.TypeIsObject(C))throw new TypeError(&quot;Bad promise constructor&quot;);if(ES.IsPromise(v)){var constructor=v.constructor;if(constructor===C)return v}var capability=new PromiseCapability(C),resolveFunc=capability.resolve;return resolveFunc(v),capability.promise}}),defineProperties(Promise$prototype,{&quot;catch&quot;:function(onRejected){return this.then(null,onRejected)},then:function(onFulfilled,onRejected){var promise=this;if(!ES.IsPromise(promise))throw new TypeError(&quot;not a promise&quot;);var resultCapability,C=ES.SpeciesConstructor(promise,Promise),returnValueIsIgnored=arguments.length&gt;2&amp;&amp;arguments[2]===PROMISE_FAKE_CAPABILITY;resultCapability=returnValueIsIgnored&amp;&amp;C===Promise?PROMISE_FAKE_CAPABILITY:new PromiseCapability(C);var value,fulfillReactionHandler=ES.IsCallable(onFulfilled)?onFulfilled:PROMISE_IDENTITY,rejectReactionHandler=ES.IsCallable(onRejected)?onRejected:PROMISE_THROWER,_promise=promise._promise;if(_promise.state===PROMISE_PENDING){if(0===_promise.reactionLength)_promise.fulfillReactionHandler0=fulfillReactionHandler,_promise.rejectReactionHandler0=rejectReactionHandler,_promise.reactionCapability0=resultCapability;else{var idx=3*(_promise.reactionLength-1);_promise[idx+PROMISE_FULFILL_OFFSET]=fulfillReactionHandler,_promise[idx+PROMISE_REJECT_OFFSET]=rejectReactionHandler,_promise[idx+PROMISE_CAPABILITY_OFFSET]=resultCapability}_promise.reactionLength+=1}else if(_promise.state===PROMISE_FULFILLED)value=_promise.result,enqueuePromiseReactionJob(fulfillReactionHandler,resultCapability,value);else{if(_promise.state!==PROMISE_REJECTED)throw new TypeError(&quot;unexpected Promise state&quot;);value=_promise.result,enqueuePromiseReactionJob(rejectReactionHandler,resultCapability,value)}return resultCapability.promise}}),PROMISE_FAKE_CAPABILITY=new PromiseCapability(Promise),Promise$prototype$then=Promise$prototype.then,Promise}}();if(globals.Promise&amp;&amp;(delete globals.Promise.accept,delete globals.Promise.defer,delete globals.Promise.prototype.chain),&quot;function&quot;==typeof PromiseShim){defineProperties(globals,{Promise:PromiseShim});var promiseSupportsSubclassing=supportsSubclassing(globals.Promise,function(S){return S.resolve(42).then(function(){})instanceof S}),promiseIgnoresNonFunctionThenCallbacks=!throwsError(function(){globals.Promise.reject(42).then(null,5).then(null,noop)}),promiseRequiresObjectContext=throwsError(function(){globals.Promise.call(3,noop)}),promiseResolveBroken=function(Promise){var p=Promise.resolve(5);p.constructor={};var p2=Promise.resolve(p);try{p2.then(null,noop).then(null,noop)}catch(e){return!0}return p===p2}(globals.Promise),getsThenSynchronously=supportsDescriptors&amp;&amp;function(){var count=0,thenable=Object.defineProperty({},&quot;then&quot;,{get:function(){count+=1}});return Promise.resolve(thenable),1===count}(),BadResolverPromise=function BadResolverPromise(executor){var p=new Promise(executor);executor(3,function(){}),this.then=p.then,this.constructor=BadResolverPromise};BadResolverPromise.prototype=Promise.prototype,BadResolverPromise.all=Promise.all;var hasBadResolverPromise=valueOrFalseIfThrows(function(){return!!BadResolverPromise.all([1,2])});if(promiseSupportsSubclassing&amp;&amp;promiseIgnoresNonFunctionThenCallbacks&amp;&amp;promiseRequiresObjectContext&amp;&amp;!promiseResolveBroken&amp;&amp;getsThenSynchronously&amp;&amp;!hasBadResolverPromise||(Promise=PromiseShim,overrideNative(globals,&quot;Promise&quot;,PromiseShim)),1!==Promise.all.length){var origAll=Promise.all;overrideNative(Promise,&quot;all&quot;,function(){return ES.Call(origAll,this,arguments)})}if(1!==Promise.race.length){var origRace=Promise.race;overrideNative(Promise,&quot;race&quot;,function(){return ES.Call(origRace,this,arguments)})}if(1!==Promise.resolve.length){var origResolve=Promise.resolve;overrideNative(Promise,&quot;resolve&quot;,function(){return ES.Call(origResolve,this,arguments)})}if(1!==Promise.reject.length){var origReject=Promise.reject;overrideNative(Promise,&quot;reject&quot;,function(){return ES.Call(origReject,this,arguments)})}ensureEnumerable(Promise,&quot;all&quot;),ensureEnumerable(Promise,&quot;race&quot;),ensureEnumerable(Promise,&quot;resolve&quot;),ensureEnumerable(Promise,&quot;reject&quot;),addDefaultSpecies(Promise)}var testOrder=function(a){var b=keys(_reduce(a,function(o,k){return o[k]=!0,o},{}));return a.join(&quot;:&quot;)===b.join(&quot;:&quot;)},preservesInsertionOrder=testOrder([&quot;z&quot;,&quot;a&quot;,&quot;bb&quot;]),preservesNumericInsertionOrder=testOrder([&quot;z&quot;,1,&quot;a&quot;,&quot;3&quot;,2]);if(supportsDescriptors){var fastkey=function(key){return preservesInsertionOrder?&quot;undefined&quot;==typeof key||null===key?&quot;^&quot;+ES.ToString(key):&quot;string&quot;==typeof key?&quot;$&quot;+key:&quot;number&quot;==typeof key?preservesNumericInsertionOrder?key:&quot;n&quot;+key:&quot;boolean&quot;==typeof key?&quot;b&quot;+key:null:null},emptyObject=function(){return Object.create?Object.create(null):{}},addIterableToMap=function(MapConstructor,map,iterable){if(isArray(iterable)||Type.string(iterable))_forEach(iterable,function(entry){if(!ES.TypeIsObject(entry))throw new TypeError(&quot;Iterator value &quot;+entry+&quot; is not an entry object&quot;);map.set(entry[0],entry[1])});else if(iterable instanceof MapConstructor)_call(MapConstructor.prototype.forEach,iterable,function(value,key){map.set(key,value)});else{var iter,adder;if(null!==iterable&amp;&amp;&quot;undefined&quot;!=typeof iterable){if(adder=map.set,!ES.IsCallable(adder))throw new TypeError(&quot;bad map&quot;);iter=ES.GetIterator(iterable)}if(&quot;undefined&quot;!=typeof iter)for(;;){var next=ES.IteratorStep(iter);if(next===!1)break;var nextItem=next.value;try{if(!ES.TypeIsObject(nextItem))throw new TypeError(&quot;Iterator value &quot;+nextItem+&quot; is not an entry object&quot;);_call(adder,map,nextItem[0],nextItem[1])}catch(e){throw ES.IteratorClose(iter,!0),e}}}},addIterableToSet=function(SetConstructor,set,iterable){if(isArray(iterable)||Type.string(iterable))_forEach(iterable,function(value){set.add(value)});else if(iterable instanceof SetConstructor)_call(SetConstructor.prototype.forEach,iterable,function(value){set.add(value)});else{var iter,adder;if(null!==iterable&amp;&amp;&quot;undefined&quot;!=typeof iterable){if(adder=set.add,!ES.IsCallable(adder))throw new TypeError(&quot;bad set&quot;);iter=ES.GetIterator(iterable)}if(&quot;undefined&quot;!=typeof iter)for(;;){var next=ES.IteratorStep(iter);if(next===!1)break;var nextValue=next.value;try{_call(adder,set,nextValue)}catch(e){throw ES.IteratorClose(iter,!0),e}}}},collectionShims={Map:function(){var empty={},MapEntry=function(key,value){this.key=key,this.value=value,this.next=null,this.prev=null};MapEntry.prototype.isRemoved=function(){return this.key===empty};var isMap=function(map){return!!map._es6map},requireMapSlot=function(map,method){if(!ES.TypeIsObject(map)||!isMap(map))throw new TypeError(&quot;Method Map.prototype.&quot;+method+&quot; called on incompatible receiver &quot;+ES.ToString(map))},MapIterator=function(map,kind){requireMapSlot(map,&quot;[[MapIterator]]&quot;),this.head=map._head,this.i=this.head,this.kind=kind};MapIterator.prototype={next:function(){var result,i=this.i,kind=this.kind,head=this.head;if(&quot;undefined&quot;==typeof this.i)return{value:void 0,done:!0};for(;i.isRemoved()&amp;&amp;i!==head;)i=i.prev;for(;i.next!==head;)if(i=i.next,!i.isRemoved())return result=&quot;key&quot;===kind?i.key:&quot;value&quot;===kind?i.value:[i.key,i.value],this.i=i,{value:result,done:!1};return this.i=void 0,{value:void 0,done:!0}}},addIterator(MapIterator.prototype);var Map$prototype,MapShim=function Map(){if(!(this instanceof Map))throw new TypeError(&apos;Constructor Map requires &quot;new&quot;&apos;);if(this&amp;&amp;this._es6map)throw new TypeError(&quot;Bad construction&quot;);var map=emulateES6construct(this,Map,Map$prototype,{_es6map:!0,_head:null,_storage:emptyObject(),_size:0}),head=new MapEntry(null,null);return head.next=head.prev=head,map._head=head,arguments.length&gt;0&amp;&amp;addIterableToMap(Map,map,arguments[0]),map};return Map$prototype=MapShim.prototype,Value.getter(Map$prototype,&quot;size&quot;,function(){if(&quot;undefined&quot;==typeof this._size)throw new TypeError(&quot;size method called on incompatible Map&quot;);return this._size}),defineProperties(Map$prototype,{get:function(key){requireMapSlot(this,&quot;get&quot;);var fkey=fastkey(key);if(null!==fkey){var entry=this._storage[fkey];return entry?entry.value:void 0}for(var head=this._head,i=head;(i=i.next)!==head;)if(ES.SameValueZero(i.key,key))return i.value},has:function(key){requireMapSlot(this,&quot;has&quot;);var fkey=fastkey(key);if(null!==fkey)return&quot;undefined&quot;!=typeof this._storage[fkey];for(var head=this._head,i=head;(i=i.next)!==head;)if(ES.SameValueZero(i.key,key))return!0;return!1},set:function(key,value){requireMapSlot(this,&quot;set&quot;);var entry,head=this._head,i=head,fkey=fastkey(key);if(null!==fkey){if(&quot;undefined&quot;!=typeof this._storage[fkey])return this._storage[fkey].value=value,this;entry=this._storage[fkey]=new MapEntry(key,value),i=head.prev}for(;(i=i.next)!==head;)if(ES.SameValueZero(i.key,key))return i.value=value,this;return entry=entry||new MapEntry(key,value),ES.SameValue(-0,key)&amp;&amp;(entry.key=0),entry.next=this._head,entry.prev=this._head.prev,entry.prev.next=entry,entry.next.prev=entry,this._size+=1,this},&quot;delete&quot;:function(key){requireMapSlot(this,&quot;delete&quot;);var head=this._head,i=head,fkey=fastkey(key);if(null!==fkey){if(&quot;undefined&quot;==typeof this._storage[fkey])return!1;i=this._storage[fkey].prev,delete this._storage[fkey]}for(;(i=i.next)!==head;)if(ES.SameValueZero(i.key,key))return i.key=i.value=empty,i.prev.next=i.next,i.next.prev=i.prev,this._size-=1,!0;return!1},clear:function(){requireMapSlot(this,&quot;clear&quot;),this._size=0,this._storage=emptyObject();for(var head=this._head,i=head,p=i.next;(i=p)!==head;)i.key=i.value=empty,p=i.next,i.next=i.prev=head;head.next=head.prev=head},keys:function(){return requireMapSlot(this,&quot;keys&quot;),new MapIterator(this,&quot;key&quot;)},values:function(){return requireMapSlot(this,&quot;values&quot;),new MapIterator(this,&quot;value&quot;)},entries:function(){return requireMapSlot(this,&quot;entries&quot;),new MapIterator(this,&quot;key+value&quot;)},forEach:function(callback){requireMapSlot(this,&quot;forEach&quot;);for(var context=arguments.length&gt;1?arguments[1]:null,it=this.entries(),entry=it.next();!entry.done;entry=it.next())context?_call(callback,context,entry.value[1],entry.value[0],this):callback(entry.value[1],entry.value[0],this)}}),addIterator(Map$prototype,Map$prototype.entries),MapShim}(),Set:function(){var Set$prototype,isSet=function(set){return set._es6set&amp;&amp;&quot;undefined&quot;!=typeof set._storage},requireSetSlot=function(set,method){if(!ES.TypeIsObject(set)||!isSet(set))throw new TypeError(&quot;Set.prototype.&quot;+method+&quot; called on incompatible receiver &quot;+ES.ToString(set))},SetShim=function Set(){if(!(this instanceof Set))throw new TypeError(&apos;Constructor Set requires &quot;new&quot;&apos;);if(this&amp;&amp;this._es6set)throw new TypeError(&quot;Bad construction&quot;);var set=emulateES6construct(this,Set,Set$prototype,{_es6set:!0,&quot;[[SetData]]&quot;:null,_storage:emptyObject()});if(!set._es6set)throw new TypeError(&quot;bad set&quot;);return arguments.length&gt;0&amp;&amp;addIterableToSet(Set,set,arguments[0]),set};Set$prototype=SetShim.prototype;var decodeKey=function(key){var k=key;if(&quot;^null&quot;===k)return null;if(&quot;^undefined&quot;===k)return void 0;var first=k.charAt(0);return&quot;$&quot;===first?_strSlice(k,1):&quot;n&quot;===first?+_strSlice(k,1):&quot;b&quot;===first?&quot;btrue&quot;===k:+k},ensureMap=function(set){if(!set[&quot;[[SetData]]&quot;]){var m=set[&quot;[[SetData]]&quot;]=new collectionShims.Map;_forEach(keys(set._storage),function(key){var k=decodeKey(key);m.set(k,k)}),set[&quot;[[SetData]]&quot;]=m}set._storage=null};return Value.getter(SetShim.prototype,&quot;size&quot;,function(){return requireSetSlot(this,&quot;size&quot;),this._storage?keys(this._storage).length:(ensureMap(this),this[&quot;[[SetData]]&quot;].size)}),defineProperties(SetShim.prototype,{has:function(key){requireSetSlot(this,&quot;has&quot;);var fkey;return this._storage&amp;&amp;null!==(fkey=fastkey(key))?!!this._storage[fkey]:(ensureMap(this),this[&quot;[[SetData]]&quot;].has(key))},add:function(key){requireSetSlot(this,&quot;add&quot;);var fkey;return this._storage&amp;&amp;null!==(fkey=fastkey(key))?(this._storage[fkey]=!0,this):(ensureMap(this),this[&quot;[[SetData]]&quot;].set(key,key),this)},&quot;delete&quot;:function(key){requireSetSlot(this,&quot;delete&quot;);var fkey;if(this._storage&amp;&amp;null!==(fkey=fastkey(key))){var hasFKey=_hasOwnProperty(this._storage,fkey);return delete this._storage[fkey]&amp;&amp;hasFKey}return ensureMap(this),this[&quot;[[SetData]]&quot;][&quot;delete&quot;](key)},clear:function(){requireSetSlot(this,&quot;clear&quot;),this._storage&amp;&amp;(this._storage=emptyObject()),this[&quot;[[SetData]]&quot;]&amp;&amp;this[&quot;[[SetData]]&quot;].clear()},
values:function(){return requireSetSlot(this,&quot;values&quot;),ensureMap(this),this[&quot;[[SetData]]&quot;].values()},entries:function(){return requireSetSlot(this,&quot;entries&quot;),ensureMap(this),this[&quot;[[SetData]]&quot;].entries()},forEach:function(callback){requireSetSlot(this,&quot;forEach&quot;);var context=arguments.length&gt;1?arguments[1]:null,entireSet=this;ensureMap(entireSet),this[&quot;[[SetData]]&quot;].forEach(function(value,key){context?_call(callback,context,key,key,entireSet):callback(key,key,entireSet)})}}),defineProperty(SetShim.prototype,&quot;keys&quot;,SetShim.prototype.values,!0),addIterator(SetShim.prototype,SetShim.prototype.values),SetShim}()};if(globals.Map||globals.Set){var mapAcceptsArguments=valueOrFalseIfThrows(function(){return 2===new Map([[1,2]]).get(1)});if(!mapAcceptsArguments){var OrigMapNoArgs=globals.Map;globals.Map=function Map(){if(!(this instanceof Map))throw new TypeError(&apos;Constructor Map requires &quot;new&quot;&apos;);var m=new OrigMapNoArgs;return arguments.length&gt;0&amp;&amp;addIterableToMap(Map,m,arguments[0]),delete m.constructor,Object.setPrototypeOf(m,globals.Map.prototype),m},globals.Map.prototype=create(OrigMapNoArgs.prototype),defineProperty(globals.Map.prototype,&quot;constructor&quot;,globals.Map,!0),Value.preserveToString(globals.Map,OrigMapNoArgs)}var testMap=new Map,mapUsesSameValueZero=function(){var m=new Map([[1,0],[2,0],[3,0],[4,0]]);return m.set(-0,m),m.get(0)===m&amp;&amp;m.get(-0)===m&amp;&amp;m.has(0)&amp;&amp;m.has(-0)}(),mapSupportsChaining=testMap.set(1,2)===testMap;if(!mapUsesSameValueZero||!mapSupportsChaining){var origMapSet=Map.prototype.set;overrideNative(Map.prototype,&quot;set&quot;,function(k,v){return _call(origMapSet,this,0===k?0:k,v),this})}if(!mapUsesSameValueZero){var origMapGet=Map.prototype.get,origMapHas=Map.prototype.has;defineProperties(Map.prototype,{get:function(k){return _call(origMapGet,this,0===k?0:k)},has:function(k){return _call(origMapHas,this,0===k?0:k)}},!0),Value.preserveToString(Map.prototype.get,origMapGet),Value.preserveToString(Map.prototype.has,origMapHas)}var testSet=new Set,setUsesSameValueZero=function(s){return s[&quot;delete&quot;](0),s.add(-0),!s.has(0)}(testSet),setSupportsChaining=testSet.add(1)===testSet;if(!setUsesSameValueZero||!setSupportsChaining){var origSetAdd=Set.prototype.add;Set.prototype.add=function(v){return _call(origSetAdd,this,0===v?0:v),this},Value.preserveToString(Set.prototype.add,origSetAdd)}if(!setUsesSameValueZero){var origSetHas=Set.prototype.has;Set.prototype.has=function(v){return _call(origSetHas,this,0===v?0:v)},Value.preserveToString(Set.prototype.has,origSetHas);var origSetDel=Set.prototype[&quot;delete&quot;];Set.prototype[&quot;delete&quot;]=function(v){return _call(origSetDel,this,0===v?0:v)},Value.preserveToString(Set.prototype[&quot;delete&quot;],origSetDel)}var mapSupportsSubclassing=supportsSubclassing(globals.Map,function(M){var m=new M([]);return m.set(42,42),m instanceof M}),mapFailsToSupportSubclassing=Object.setPrototypeOf&amp;&amp;!mapSupportsSubclassing,mapRequiresNew=function(){try{return!(globals.Map()instanceof globals.Map)}catch(e){return e instanceof TypeError}}();if(0!==globals.Map.length||mapFailsToSupportSubclassing||!mapRequiresNew){var OrigMap=globals.Map;globals.Map=function Map(){if(!(this instanceof Map))throw new TypeError(&apos;Constructor Map requires &quot;new&quot;&apos;);var m=new OrigMap;return arguments.length&gt;0&amp;&amp;addIterableToMap(Map,m,arguments[0]),delete m.constructor,Object.setPrototypeOf(m,Map.prototype),m},globals.Map.prototype=OrigMap.prototype,defineProperty(globals.Map.prototype,&quot;constructor&quot;,globals.Map,!0),Value.preserveToString(globals.Map,OrigMap)}var setSupportsSubclassing=supportsSubclassing(globals.Set,function(S){var s=new S([]);return s.add(42,42),s instanceof S}),setFailsToSupportSubclassing=Object.setPrototypeOf&amp;&amp;!setSupportsSubclassing,setRequiresNew=function(){try{return!(globals.Set()instanceof globals.Set)}catch(e){return e instanceof TypeError}}();if(0!==globals.Set.length||setFailsToSupportSubclassing||!setRequiresNew){var OrigSet=globals.Set;globals.Set=function Set(){if(!(this instanceof Set))throw new TypeError(&apos;Constructor Set requires &quot;new&quot;&apos;);var s=new OrigSet;return arguments.length&gt;0&amp;&amp;addIterableToSet(Set,s,arguments[0]),delete s.constructor,Object.setPrototypeOf(s,Set.prototype),s},globals.Set.prototype=OrigSet.prototype,defineProperty(globals.Set.prototype,&quot;constructor&quot;,globals.Set,!0),Value.preserveToString(globals.Set,OrigSet)}var mapIterationThrowsStopIterator=!valueOrFalseIfThrows(function(){return(new Map).keys().next().done});if((&quot;function&quot;!=typeof globals.Map.prototype.clear||0!==(new globals.Set).size||0!==(new globals.Map).size||&quot;function&quot;!=typeof globals.Map.prototype.keys||&quot;function&quot;!=typeof globals.Set.prototype.keys||&quot;function&quot;!=typeof globals.Map.prototype.forEach||&quot;function&quot;!=typeof globals.Set.prototype.forEach||isCallableWithoutNew(globals.Map)||isCallableWithoutNew(globals.Set)||&quot;function&quot;!=typeof(new globals.Map).keys().next||mapIterationThrowsStopIterator||!mapSupportsSubclassing)&amp;&amp;defineProperties(globals,{Map:collectionShims.Map,Set:collectionShims.Set},!0),globals.Set.prototype.keys!==globals.Set.prototype.values&amp;&amp;defineProperty(globals.Set.prototype,&quot;keys&quot;,globals.Set.prototype.values,!0),addIterator(Object.getPrototypeOf((new globals.Map).keys())),addIterator(Object.getPrototypeOf((new globals.Set).keys())),functionsHaveNames&amp;&amp;&quot;has&quot;!==globals.Set.prototype.has.name){var anonymousSetHas=globals.Set.prototype.has;overrideNative(globals.Set.prototype,&quot;has&quot;,function(key){return _call(anonymousSetHas,this,key)})}}defineProperties(globals,collectionShims),addDefaultSpecies(globals.Map),addDefaultSpecies(globals.Set)}var throwUnlessTargetIsObject=function(target){if(!ES.TypeIsObject(target))throw new TypeError(&quot;target must be an object&quot;)},ReflectShims={apply:function(){return ES.Call(ES.Call,null,arguments)},construct:function(constructor,args){if(!ES.IsConstructor(constructor))throw new TypeError(&quot;First argument must be a constructor.&quot;);var newTarget=arguments.length&gt;2?arguments[2]:constructor;if(!ES.IsConstructor(newTarget))throw new TypeError(&quot;new.target must be a constructor.&quot;);return ES.Construct(constructor,args,newTarget,&quot;internal&quot;)},deleteProperty:function(target,key){if(throwUnlessTargetIsObject(target),supportsDescriptors){var desc=Object.getOwnPropertyDescriptor(target,key);if(desc&amp;&amp;!desc.configurable)return!1}return delete target[key]},enumerate:function(target){return throwUnlessTargetIsObject(target),new ObjectIterator(target,&quot;key&quot;)},has:function(target,key){return throwUnlessTargetIsObject(target),key in target}};Object.getOwnPropertyNames&amp;&amp;Object.assign(ReflectShims,{ownKeys:function(target){throwUnlessTargetIsObject(target);var keys=Object.getOwnPropertyNames(target);return ES.IsCallable(Object.getOwnPropertySymbols)&amp;&amp;_pushApply(keys,Object.getOwnPropertySymbols(target)),keys}});var callAndCatchException=function(func){return!throwsError(func)};if(Object.preventExtensions&amp;&amp;Object.assign(ReflectShims,{isExtensible:function(target){return throwUnlessTargetIsObject(target),Object.isExtensible(target)},preventExtensions:function(target){return throwUnlessTargetIsObject(target),callAndCatchException(function(){Object.preventExtensions(target)})}}),supportsDescriptors){var internalGet=function(target,key,receiver){var desc=Object.getOwnPropertyDescriptor(target,key);if(!desc){var parent=Object.getPrototypeOf(target);return null===parent?void 0:internalGet(parent,key,receiver)}return&quot;value&quot;in desc?desc.value:desc.get?ES.Call(desc.get,receiver):void 0},internalSet=function(target,key,value,receiver){var desc=Object.getOwnPropertyDescriptor(target,key);if(!desc){var parent=Object.getPrototypeOf(target);if(null!==parent)return internalSet(parent,key,value,receiver);desc={value:void 0,writable:!0,enumerable:!0,configurable:!0}}if(&quot;value&quot;in desc){if(!desc.writable)return!1;if(!ES.TypeIsObject(receiver))return!1;var existingDesc=Object.getOwnPropertyDescriptor(receiver,key);return existingDesc?Reflect.defineProperty(receiver,key,{value:value}):Reflect.defineProperty(receiver,key,{value:value,writable:!0,enumerable:!0,configurable:!0})}return desc.set?(_call(desc.set,receiver,value),!0):!1};Object.assign(ReflectShims,{defineProperty:function(target,propertyKey,attributes){return throwUnlessTargetIsObject(target),callAndCatchException(function(){Object.defineProperty(target,propertyKey,attributes)})},getOwnPropertyDescriptor:function(target,propertyKey){return throwUnlessTargetIsObject(target),Object.getOwnPropertyDescriptor(target,propertyKey)},get:function(target,key){throwUnlessTargetIsObject(target);var receiver=arguments.length&gt;2?arguments[2]:target;return internalGet(target,key,receiver)},set:function(target,key,value){throwUnlessTargetIsObject(target);var receiver=arguments.length&gt;3?arguments[3]:target;return internalSet(target,key,value,receiver)}})}if(Object.getPrototypeOf){var objectDotGetPrototypeOf=Object.getPrototypeOf;ReflectShims.getPrototypeOf=function(target){return throwUnlessTargetIsObject(target),objectDotGetPrototypeOf(target)}}if(Object.setPrototypeOf&amp;&amp;ReflectShims.getPrototypeOf){var willCreateCircularPrototype=function(object,lastProto){for(var proto=lastProto;proto;){if(object===proto)return!0;proto=ReflectShims.getPrototypeOf(proto)}return!1};Object.assign(ReflectShims,{setPrototypeOf:function(object,proto){if(throwUnlessTargetIsObject(object),null!==proto&amp;&amp;!ES.TypeIsObject(proto))throw new TypeError(&quot;proto must be an object or null&quot;);return proto===Reflect.getPrototypeOf(object)?!0:Reflect.isExtensible&amp;&amp;!Reflect.isExtensible(object)?!1:willCreateCircularPrototype(object,proto)?!1:(Object.setPrototypeOf(object,proto),!0)}})}var defineOrOverrideReflectProperty=function(key,shim){if(ES.IsCallable(globals.Reflect[key])){var acceptsPrimitives=valueOrFalseIfThrows(function(){return globals.Reflect[key](1),globals.Reflect[key](0/0),globals.Reflect[key](!0),!0});acceptsPrimitives&amp;&amp;overrideNative(globals.Reflect,key,shim)}else defineProperty(globals.Reflect,key,shim)};if(Object.keys(ReflectShims).forEach(function(key){defineOrOverrideReflectProperty(key,ReflectShims[key])}),functionsHaveNames&amp;&amp;&quot;getPrototypeOf&quot;!==globals.Reflect.getPrototypeOf.name){var originalReflectGetProto=globals.Reflect.getPrototypeOf;overrideNative(globals.Reflect,&quot;getPrototypeOf&quot;,function(target){return _call(originalReflectGetProto,globals.Reflect,target)})}if(globals.Reflect.setPrototypeOf&amp;&amp;valueOrFalseIfThrows(function(){return globals.Reflect.setPrototypeOf(1,{}),!0})&amp;&amp;overrideNative(globals.Reflect,&quot;setPrototypeOf&quot;,ReflectShims.setPrototypeOf),globals.Reflect.defineProperty&amp;&amp;(valueOrFalseIfThrows(function(){var basic=!globals.Reflect.defineProperty(1,&quot;test&quot;,{value:1}),extensible=&quot;function&quot;!=typeof Object.preventExtensions||!globals.Reflect.defineProperty(Object.preventExtensions({}),&quot;test&quot;,{});return basic&amp;&amp;extensible})||overrideNative(globals.Reflect,&quot;defineProperty&quot;,ReflectShims.defineProperty)),globals.Reflect.construct&amp;&amp;(valueOrFalseIfThrows(function(){var F=function(){};return globals.Reflect.construct(function(){},[],F)instanceof F})||overrideNative(globals.Reflect,&quot;construct&quot;,ReflectShims.construct)),&quot;Invalid Date&quot;!==String(new Date(0/0))){var dateToString=Date.prototype.toString,shimmedDateToString=function(){var valueOf=+this;return valueOf!==valueOf?&quot;Invalid Date&quot;:ES.Call(dateToString,this)};overrideNative(Date.prototype,&quot;toString&quot;,shimmedDateToString)}var stringHTMLshims={anchor:function(name){return ES.CreateHTML(this,&quot;a&quot;,&quot;name&quot;,name)},big:function(){return ES.CreateHTML(this,&quot;big&quot;,&quot;&quot;,&quot;&quot;)},blink:function(){return ES.CreateHTML(this,&quot;blink&quot;,&quot;&quot;,&quot;&quot;)},bold:function(){return ES.CreateHTML(this,&quot;b&quot;,&quot;&quot;,&quot;&quot;)},fixed:function(){return ES.CreateHTML(this,&quot;tt&quot;,&quot;&quot;,&quot;&quot;)},fontcolor:function(color){return ES.CreateHTML(this,&quot;font&quot;,&quot;color&quot;,color)},fontsize:function(size){return ES.CreateHTML(this,&quot;font&quot;,&quot;size&quot;,size)},italics:function(){return ES.CreateHTML(this,&quot;i&quot;,&quot;&quot;,&quot;&quot;)},link:function(url){return ES.CreateHTML(this,&quot;a&quot;,&quot;href&quot;,url)},small:function(){return ES.CreateHTML(this,&quot;small&quot;,&quot;&quot;,&quot;&quot;)},strike:function(){return ES.CreateHTML(this,&quot;strike&quot;,&quot;&quot;,&quot;&quot;)},sub:function(){return ES.CreateHTML(this,&quot;sub&quot;,&quot;&quot;,&quot;&quot;)},sup:function(){return ES.CreateHTML(this,&quot;sup&quot;,&quot;&quot;,&quot;&quot;)}};_forEach(Object.keys(stringHTMLshims),function(key){var method=String.prototype[key],shouldOverwrite=!1;if(ES.IsCallable(method)){var output=_call(method,&quot;&quot;,&apos; &quot; &apos;),quotesCount=_concat([],output.match(/&quot;/g)).length;shouldOverwrite=output!==output.toLowerCase()||quotesCount&gt;2}else shouldOverwrite=!0;shouldOverwrite&amp;&amp;overrideNative(String.prototype,key,stringHTMLshims[key])});var JSONstringifiesSymbols=function(){if(!hasSymbols)return!1;var stringify=&quot;object&quot;===(&quot;undefined&quot;==typeof JSON?&quot;undefined&quot;:_typeof(JSON))&amp;&amp;&quot;function&quot;==typeof JSON.stringify?JSON.stringify:null;if(!stringify)return!1;if(&quot;undefined&quot;!=typeof stringify(_Symbol()))return!0;if(&quot;[null]&quot;!==stringify([_Symbol()]))return!0;var obj={a:_Symbol()};return obj[_Symbol()]=!0,&quot;{}&quot;!==stringify(obj)?!0:!1}(),JSONstringifyAcceptsObjectSymbol=valueOrFalseIfThrows(function(){return hasSymbols?&quot;{}&quot;===JSON.stringify(Object(_Symbol()))&amp;&amp;&quot;[{}]&quot;===JSON.stringify([Object(_Symbol())]):!0});if(JSONstringifiesSymbols||!JSONstringifyAcceptsObjectSymbol){var origStringify=JSON.stringify;overrideNative(JSON,&quot;stringify&quot;,function(value){if(&quot;symbol&quot;!==(&quot;undefined&quot;==typeof value?&quot;undefined&quot;:_typeof(value))){var replacer;arguments.length&gt;1&amp;&amp;(replacer=arguments[1]);var args=[value];if(isArray(replacer))args.push(replacer);else{var replaceFn=ES.IsCallable(replacer)?replacer:null,wrappedReplacer=function(key,val){var parsedValue=replaceFn?_call(replaceFn,this,key,val):val;return&quot;symbol&quot;!==(&quot;undefined&quot;==typeof parsedValue?&quot;undefined&quot;:_typeof(parsedValue))?Type.symbol(parsedValue)?assignTo({})(parsedValue):parsedValue:void 0};args.push(wrappedReplacer)}return arguments.length&gt;2&amp;&amp;args.push(arguments[2]),origStringify.apply(this,args)}})}return globals}),define(&quot;jqueryplugins&quot;,[&quot;jquery&quot;],function($){$.prototype.extend({popAttr:function(attr){var ret=this.attr(attr);return this.removeAttr(attr),ret},popData:function(name){var ret=this.data(name);return this.removeData(name),ret},tag:function(){return this[0]&amp;&amp;this[0].tagName&amp;&amp;this[0].tagName.toLowerCase()},textNodes:function(){return 1===this.length&amp;&amp;this[0]instanceof Text?[this[0]]:Array.from(this.add(this.contents().add(this.find(&quot;*&quot;).contents())).filter(function(){return this instanceof Text})).sort(function(left,right){return 2&amp;left.compareDocumentPosition(right)?1:-1})},prevTextNode:function(){var elem=this.first()[0],parent=this.parent();if(!parent.length)return null;var textNodes=parent.textNodes().filter(function(e){var pos=e.compareDocumentPosition(elem);return 4&amp;pos&amp;&amp;!(8&amp;pos)});return textNodes=textNodes[textNodes.length-1],textNodes?textNodes:parent.prevTextNode()},nextTextNode:function(){var elem=this.last()[0],parent=this.parent();if(!parent.length)return null;var textNodes=parent.textNodes().filter(function(e){var pos=e.compareDocumentPosition(elem);return 2&amp;pos&amp;&amp;!(8&amp;pos)})[0];return textNodes?textNodes:parent.nextTextNode()}})}),function(){function Token(){for(var i=0;i<arguments.length;i++)for(var j="" in="" arguments[i])this[j]="arguments[i][j]}function" cachechildpos(token,childtoken){token.childat="token.childAt||{};for(var" i="childToken.start;i&lt;childToken.end;i+=1)token.childAt[i]=childToken}function" shouldtest(rule,text,lasttoken,unmatchedlength){return!(rule.canfollow&&!(rule.canfollow.indexof(lasttoken&&lasttoken.type)="">-1)||rule.cannotFollow&amp;&amp;(-1!==rule.cannotFollow.indexOf(lastToken&amp;&amp;lastToken.type)||rule.cannotFollow.indexOf(&quot;text&quot;)&gt;-1&amp;&amp;unmatchedLength)||rule.peek&amp;&amp;rule.peek!==text.slice(0,rule.peek.length))}function _lex(parentToken){for(var src=parentToken.innerText,frontTokenStack=[],index=0,firstUnmatchedIndex=index,endIndex=src.length,lastToken=null;endIndex&gt;index;){for(var slice=src.slice(index),mode=(frontTokenStack.length?frontTokenStack[0]:parentToken).innerMode,i=0,l=mode.length;l&gt;i;i+=1){var rule=rules[mode[i]];if(shouldTest(rule,slice,lastToken,index&gt;firstUnmatchedIndex)&amp;&amp;rule.pattern.test(slice)){var match=rule.pattern.exec(slice),tokenData=rule.fn(match),isMatchingBack=!1,ft=0;if(tokenData.matches){for(;ft<fronttokenstack.length;ft+=1){var type="frontTokenStack[ft].type;if(type" in="" tokendata.matches){ismatchingback="!0;break}tokenData.cannotCross&amp;&amp;tokenData.cannotCross.indexOf(type)">-1&amp;&amp;(ft=frontTokenStack.length-1)}if(ft&gt;=frontTokenStack.length&amp;&amp;!tokenData.isFront)continue}index&gt;firstUnmatchedIndex&amp;&amp;parentToken.addChild({type:&quot;text&quot;,text:src.slice(firstUnmatchedIndex,index),innerMode:mode}),lastToken=parentToken.addChild(tokenData),index+=lastToken.text.length,firstUnmatchedIndex=index,isMatchingBack&amp;&amp;(foldTokens(parentToken,lastToken,frontTokenStack[ft]),frontTokenStack=frontTokenStack.slice(ft+1)),lastToken.isFrontToken()&amp;&amp;frontTokenStack.unshift(lastToken);break}}i===l&amp;&amp;(index+=1,null===lastToken&amp;&amp;(lastToken={type:&quot;text&quot;}))}for(index&gt;firstUnmatchedIndex&amp;&amp;parentToken.addChild({type:&quot;text&quot;,text:src.slice(firstUnmatchedIndex,index),innerMode:(frontTokenStack.length?frontTokenStack[0]:parentToken).innerMode});frontTokenStack.length&gt;0;)frontTokenStack.shift().demote();return parentToken}function foldTokens(parentToken,backToken,frontToken){var backTokenIndex=parentToken.children.indexOf(backToken),frontTokenIndex=parentToken.children.indexOf(frontToken);backToken.children=parentToken.children.splice(frontTokenIndex+1,backTokenIndex-(frontTokenIndex+1)),backToken.children.forEach(function(token){cacheChildPos(backToken,token)}),backToken.type=backToken.matches[frontToken.type],backToken.innerText=&quot;&quot;;for(var i=0,l=backToken.children.length;l&gt;i;i++)backToken.innerText+=backToken.children[i].text;backToken.start=frontToken.start,backToken.text=frontToken.text+backToken.innerText+backToken.text,Object.keys(frontToken).forEach(function(key){Object.hasOwnProperty.call(backToken,key)||(backToken[key]=frontToken[key])}),backToken.isFront&amp;&amp;(backToken.isFront=!1),parentToken.children.splice(frontTokenIndex,1),cacheChildPos(parentToken,backToken)}var Lexer=void 0,rules={};Token.prototype={constructor:Token,addChild:function(tokenData){var index=this.lastChildEnd(),childToken=new Token({start:index,end:tokenData.text&amp;&amp;index+tokenData.text.length,children:[]},tokenData);return childToken.innerText&amp;&amp;_lex(childToken),this.children.push(childToken),cacheChildPos(this,childToken),childToken},lastChild:function(){return this.children?this.children[this.children.length-1]||null:null},lastChildEnd:function(){var lastToken=this.lastChild();return lastToken?lastToken.end:this.start+Math.max(0,this.text.indexOf(this.innerText))},tokenAt:function(index){if(index<this.start||index>=this.end)return null;if(this.childAt)return this.childAt[index]&amp;&amp;this.childAt[index].tokenAt(index)||this;if(this.children.length)for(var i=0;i<this.children.length;i+=1){var childtoken="this.children[i].tokenAt(index);if(childToken)return" childtoken}return="" this},pathat:function(index){if(index<this.start||index="">=this.end)return[];if(this.childAt)return(this.childAt[index]&amp;&amp;this.childAt[index].pathAt(index)||[]).concat(this);var path=[];if(this.children.length)for(var i=0;i<this.children.length;i+=1){var childpath="this.children[i].pathAt(index);if(childPath.length){path.concat(childPath);break}}return" path.concat(this)},nearesttokenat:function(index){return="" index<this.start||index="">=this.end?null:this.children?this.children.reduce(function(prevValue,child){return prevValue||(index&gt;=child.start&amp;&amp;index<child.end?child:null)},null):this},everyleaf:function everyleaf(fn){if(!this.children||0="==this.children.length)return!!fn(this);var" ret="void" 0;return="" this.children.everyleaf(function(){ret="ret&amp;&amp;!!everyLeaf(fn)})},isWhitespace:function(){return" this.everyleaf(function(e){return"whitespace"="==e.type||!e.text.trim()})},isFrontToken:function(){return" this.isfront},isbacktoken:function(){return"matches"in="" this},demote:function(){this.type="text" },error:function(message){this.type="error" ,this.message="message},toString:function(){var" this.children&&this.children.length="">0&amp;&amp;(ret+=&quot;[&quot;+this.children+&quot;]&quot;),ret}},Lexer={lex:function(src,initIndex){return _lex(new Token({type:&quot;root&quot;,start:initIndex||0,end:src.length,text:src,innerText:src,children:[],childAt:{},innerMode:Lexer.startMode}))},rules:rules},&quot;object&quot;===(&quot;undefined&quot;==typeof module?&quot;undefined&quot;:_typeof(module))?module.exports=Lexer:&quot;function&quot;==typeof define&amp;&amp;define.amd?define(&quot;lexer&quot;,[],function(){return Lexer}):&quot;function&quot;==typeof StoryFormat&amp;&amp;this instanceof StoryFormat?(this.modules||(this.modules={}),this.modules.Lexer=Lexer):this.TwineLexer=Lexer}.call(eval(&quot;this&quot;)||(&quot;undefined&quot;!=typeof global?global:window)),function(){function escape(str){return str&amp;&amp;&quot;object&quot;===(&quot;undefined&quot;==typeof str?&quot;undefined&quot;:_typeof(str))?(Object.keys(str).forEach(function(e){str[e]=escape(str[e])}),str):(str+&quot;&quot;).replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,&quot;\\$&amp;&quot;)}function notChars(){return&quot;[^&quot;+Array.apply(0,arguments).map(escape).join(&quot;&quot;)+&quot;]*&quot;}function makeWrapper(starter){return function(){return&quot;(&quot;+starter+Array.apply(0,arguments).join(&quot;|&quot;)+&quot;)&quot;}}var Patterns=void 0,either=makeWrapper(&quot;?:&quot;),notBefore=makeWrapper(&quot;?!&quot;),before=makeWrapper(&quot;?=&quot;),ws=&quot;[ \\f\\t\\v&#xA0;&#x1680;&#x180E;&#x2002;-&#x200A;\u2028\u2029&#x202F;&#x205F;&#x3000;]*&quot;,mws=ws.replace(&quot;*&quot;,&quot;+&quot;),wb=&quot;\\b&quot;,escapedLine=&quot;\\\\\\n\\\\?|\\n\\\\&quot;,br=&quot;\\n(?!\\\\)&quot;,anyLetter=&quot;[\\w\\-&#xC0;-&#xDE;&#xDF;-&#xFF;&#x150;&#x170;&#x151;&#x171;]&quot;,anyLetterStrict=&quot;[\\w&#xC0;-&#xDE;&#xDF;-&#xFF;&#x150;&#x170;&#x151;&#x171;]&quot;,eol=either(&quot;\\n&quot;,&quot;$&quot;),noUnescapedLineBreak=&quot;(&quot;+either(escapedLine,&quot;[^\\n]&quot;)+&quot;+)&quot;,bullet=&quot;\\*&quot;,bulleted=ws+&quot;(&quot;+bullet+&quot;+)&quot;+mws+noUnescapedLineBreak+eol,numberPoint=&quot;(?:0\\.)&quot;,numbered=ws+&quot;(&quot;+numberPoint+&quot;+)&quot;+mws+noUnescapedLineBreak+eol,hr=ws+&quot;-{3,}&quot;+ws+eol,heading=ws+&quot;(#{1,6})&quot;+ws+noUnescapedLineBreak+eol,align=ws+&quot;(==+&gt;|<=+|=+><=+|<==+>)&quot;+ws+eol,passageLink={opener:&quot;\\[\\[(?!\\[)&quot;,text:&quot;(&quot;+notChars(&quot;]&quot;)+&quot;)&quot;,rightSeparator:either(&quot;\\-&gt;&quot;,&quot;\\|&quot;),leftSeparator:&quot;<\\-",closer:"\\]\\]",legacyseparator:"\\|",legacytext:"("+either("[^\\|\\]]","\\]"+notbefore("\\]"))+"+)"},validpropertyname=anyletter.replace("\\-","")+"*"+anyletter.replace("\\-","").replace("\\w","a-za-z")+anyletter.replace("\\-","")+"*",variable="\\$("+validpropertyname+")",property="'s"+mws+"("+validpropertyname+")",belongingproperty="("+validpropertyname+")"+mws+"of"+wb+notbefore("it"+wb),possessiveoperator="'s"+mws,belongingoperator="of"+wb,identifier=either("it","time")+wb,itsproperty="its"+mws+"("+validpropertyname+")",itsoperator="its"+mws,belongingitproperty="("+validpropertyname+")"+mws+"of"+mws+"it"+wb,belongingitoperator="of"+wb+mws+"it"+wb,macro={opener:"\\(",name:"("+either(anyletter.replace("]","\\ ]")+anyletter+"*",variable)+"):",closer:"\\)"},twine1macro="&lt;&lt;[^&gt;\\s]+\\s*(?:\\\\.|&apos;(?:[^&apos;\\\\]*\\\\.)*[^&apos;\\\\]*&apos;|\" (?:[^\"\\\\]*\\\\.)*[^\"\\\\]*\"|[^'\"\\\\="">]|&gt;(?!&gt;))*&gt;&gt;&quot;,tag={name:&quot;[a-zA-Z][\\w\\-]*&quot;,attrs:&quot;(?:\&quot;[^\&quot;]*\&quot;|&apos;[^&apos;]*&apos;|[^&apos;\&quot;&gt;])*?&quot;},hookTagFront=&quot;\\|(&quot;+anyLetter.replace(&quot;]&quot;,&quot;_]&quot;)+&quot;*)&gt;&quot;,hookTagBack=&quot;<("+anyletter.replace("]","_]")+"*)\\|",number="\\b(\\d+(?:\\.\\d+)?(?:[ee][+\\-]?\\d+)?|nan)"+notbefore("m?s")+"\\b";passagelink.main=passagelink.opener+either(passagelink.text+passagelink.rightseparator,passagelink.text.replace("*","*?")+passagelink.leftseparator)+passagelink.text,patterns={upperletter:"[a-z-]",lowerletter:"[a-z0-9_\\--]",anyletter:anyletter,anyletterstrict:anyletterstrict,whitespace:mws,escapedline:escapedline,br:br,commentfront:"<!--",commentback:"-->&quot;,tag:&quot;<\\ ?"+tag.name+tag.attrs+"="">&quot;,tagPeek:&quot;<",scriptstyletag:"<("+either("script","style")+")"+tag.attrs+">[^]*?<\\ \\1="">&quot;,scriptStyleTagOpener:&quot;<",url:"("+either("https?","mailto","javascript","ftp","data")+":\\ \\="" [^\\s<]+[^<.,:;\"')\\]\\s])",bullet:bullet,hr:hr,heading:heading,align:align,bulleted:bulleted,numbered:numbered,delopener:escape("~~"),italicopener:escape("="" "),boldopener:escape("''"),supopener:escape("^^"),strongfront:escape("**"),strongback:escape("**"),emfront:escape("*"),emback:escape("*"),verbatimopener:"`+",collapsedfront:"{",collapsedback:"}",hookappendedfront:"\\[",hookprependedfront:hooktagfront+"\\[",hookanonymousfront:"\\[",hookback:"\\]"+notbefore(hooktagback),hookappendedback:"\\]"+hooktagback,passagelink:passagelink.main+passagelink.closer,passagelinkpeek:"[[",legacylink:passagelink.opener+passagelink.legacytext+passagelink.legacyseparator+passagelink.legacytext+passagelink.closer,legacylinkpeek:"[[",simplelink:passagelink.opener+passagelink.legacytext+passagelink.closer,simplelinkpeek:"[[",macrofront:macro.opener+before(macro.name),macrofrontpeek:"(",macroname:macro.name,groupingfront:"\\("+notbefore(macro.name),groupingfrontpeek:"(",groupingback:"\\)",twine1macro:twine1macro,twine1macropeek:"<<",property:property,propertypeek:"'s",belongingproperty:belongingproperty,possessiveoperator:possessiveoperator,belongingoperator:belongingoperator,belongingoperatorpeek:"of",itsoperator:itsoperator,itsoperatorpeek:"its",belongingitoperator:belongingitoperator,belongingitoperatorpeek:"of",variable:variable,variablepeek:"$",hookref:"\\?("+anyletter+"+)\\b",hookrefpeek:"?",csstime:"(\\d+\\.?\\d*|\\d*\\.?\\d+)(m?s)"+wb,colour:either(either("red","orange","yellow","lime","green","cyan","aqua","blue","navy","purple","fuchsia","magenta","white","gray","grey","black"),"#[\\da-fa-f]{3}(?:[\\da-fa-f]{3})?"),number:number,"boolean":either("true","false")+wb,identifier:identifier,itsproperty:itsproperty,itspropertypeek:"its",belongingitproperty:belongingitproperty,escapedstringchar:"\\\\[^\\n]",singlestringopener:"'",doublestringopener:'"',is:"is"+notbefore("="" not","="" in")+wb,isnot:"is="" not"+wb,and:"and"+wb,or:"or"+wb,not:"not"+wb,inequality:either("<(?!=")" ,"<="," "="">(?!=)&quot;,&quot;&gt;=&quot;),isIn:&quot;is in&quot;+wb,contains:&quot;contains&quot;+wb,addition:escape(&quot;+&quot;)+notBefore(&quot;=&quot;),subtraction:escape(&quot;-&quot;)+notBefore(&quot;=&quot;),multiplication:escape(&quot;*&quot;)+notBefore(&quot;=&quot;),division:either(&quot;/&quot;,&quot;%&quot;)+notBefore(&quot;=&quot;),comma:&quot;,&quot;,spread:&quot;\\.\\.\\.&quot;+notBefore(&quot;\\.&quot;),to:either(&quot;to&quot;+wb,&quot;=&quot;),into:&quot;into&quot;+wb,augmentedAssign:either(&quot;\\+&quot;,&quot;\\-&quot;,&quot;\\*&quot;,&quot;\\/&quot;,&quot;%&quot;)+&quot;=&quot;},&quot;object&quot;===(&quot;undefined&quot;==typeof module?&quot;undefined&quot;:_typeof(module))?module.exports=Patterns:&quot;function&quot;==typeof define&amp;&amp;define.amd?define(&quot;patterns&quot;,[],function(){return Patterns}):&quot;function&quot;==typeof StoryFormat&amp;&amp;this instanceof StoryFormat?(this.modules||(this.modules={}),this.modules.Patterns=Patterns):this.Patterns=Patterns}.call(eval(&quot;this&quot;)||(&quot;undefined&quot;!=typeof global?global:window)),function(){function rules(Lexer){function textTokenFn(name){return name=name||&quot;innerText&quot;,function(match){var innerText=match.reduceRight(function(a,b,index){return a||(index?b:&quot;&quot;)},&quot;&quot;),data={};return data[name]=innerText,data}}function openerFn(name,foldedName){var matches={};return matches[name]=foldedName,function(){return{isFront:!0,matches:matches}}}function setupRules(mode,target){return Object.keys(target).forEach(function(ruleName){var innerFn=target[ruleName].fn;target[ruleName].fn=function(match){var ret=innerFn(match);return ret.text||(ret.text=match[0]),ret.type||(ret.type=ruleName),ret.innerMode||(ret.innerMode=mode),ret}}),target}var emptyFn=Object.bind(0,null),markupMode=[],macroMode=[],blockRules=setupRules(markupMode,{hr:{fn:emptyFn},bulleted:{fn:function(match){return{depth:match[1].length,innerText:match[2]}}},numbered:{fn:function(match){return{depth:match[1].length/2,innerText:match[2]}}},heading:{fn:function(match){return{depth:match[1].length,innerText:match[2]}}},align:{fn:function(match){var align=void 0,arrow=match[1],centerIndex=arrow.indexOf(&quot;&gt;<");return~centerindex?(align=math.round(centerindex (arrow.length-2)*50),25="==align&amp;&amp;(align=" center")):"<"="==arrow[0]&amp;&amp;&quot;&quot;">&quot;===arrow.slice(-1)?align=&quot;justify&quot;:arrow.indexOf(&quot;&gt;&quot;)&gt;-1?align=&quot;right&quot;:arrow.indexOf(&quot;<")>-1&amp;&amp;(align=&quot;left&quot;),{align:align}}}});Object.keys(blockRules).forEach(function(key){blockRules[key].canFollow=[null,&quot;br&quot;,&quot;hr&quot;,&quot;bulleted&quot;,&quot;numbered&quot;,&quot;heading&quot;,&quot;align&quot;],blockRules[key].cannotFollow=[&quot;text&quot;]});var inlineRules=setupRules(markupMode,{twine1Macro:{fn:function(){return{type:&quot;error&quot;,message:&quot;Harlowe macros use a different syntax to Twine 1 and SugarCube macros.&quot;}}},br:{fn:emptyFn},emBack:{fn:function(){return{matches:{emFront:&quot;em&quot;}}}},strongBack:{fn:function(){return{matches:{strongFront:&quot;strong&quot;}}}},strongFront:{fn:function(){return{isFront:!0}}},emFront:{fn:function(){return{isFront:!0}}},boldOpener:{fn:openerFn(&quot;boldOpener&quot;,&quot;bold&quot;)},italicOpener:{fn:openerFn(&quot;italicOpener&quot;,&quot;italic&quot;)},delOpener:{fn:openerFn(&quot;delOpener&quot;,&quot;del&quot;)},supOpener:{fn:openerFn(&quot;supOpener&quot;,&quot;sup&quot;)},commentFront:{fn:function(){return{isFront:!0}}},commentBack:{fn:function(){return{matches:{commentFront:&quot;comment&quot;}}}},scriptStyleTag:{fn:emptyFn},tag:{fn:emptyFn},url:{fn:emptyFn},passageLink:{fn:function(match){var p1=match[1],p2=match[2],p3=match[3];return{type:&quot;twineLink&quot;,innerText:p2?p3:p1,passage:p1?p3:p2}}},simpleLink:{fn:function(match){return{type:&quot;twineLink&quot;,innerText:match[1],passage:match[1]}}},hookPrependedFront:{fn:function(match){return{name:match[1],isFront:!0,tagPosition:&quot;prepended&quot;}}},hookAnonymousFront:{fn:function(){return{isFront:!0,demote:function(){this.error(&quot;This tagged hook doesn&apos;t have a matching ].&quot;)}}},canFollow:[&quot;macro&quot;,&quot;variable&quot;]},hookAppendedFront:{fn:function(){return{isFront:!0}},cannotFollow:[&quot;macro&quot;,&quot;variable&quot;]},hookBack:{fn:function(){return{type:&quot;hookAppendedBack&quot;,matches:{hookPrependedFront:&quot;hook&quot;,hookAnonymousFront:&quot;hook&quot;}}}},hookAppendedBack:{fn:function(match){return{name:match[1],tagPosition:&quot;appended&quot;,matches:{hookAppendedFront:&quot;hook&quot;}}}},verbatimOpener:{fn:function(match){var number=match[0].length,matches={};return matches[&quot;verbatim&quot;+number]=&quot;verbatim&quot;,{type:&quot;verbatim&quot;+number,isFront:!0,matches:matches}}},collapsedFront:{fn:function(){return{isFront:!0}}},collapsedBack:{fn:function(){return{matches:{collapsedFront:&quot;collapsed&quot;}}}},escapedLine:{fn:emptyFn},legacyLink:{fn:function(match){return{type:&quot;twineLink&quot;,innerText:match[1],passage:match[2]}}}}),expressionRules=setupRules(macroMode,{macroFront:{fn:function(match){return{isFront:!0,name:match[1]}}},groupingBack:{fn:function(){return{matches:{groupingFront:&quot;grouping&quot;,macroFront:&quot;macro&quot;},cannotCross:[&quot;singleStringOpener&quot;,&quot;doubleStringOpener&quot;]}}},hookRef:{fn:textTokenFn(&quot;name&quot;)},variable:{fn:textTokenFn(&quot;name&quot;)},whitespace:{fn:emptyFn,cannotFollow:&quot;text&quot;}}),macroRules=setupRules(macroMode,Object.assign({macroName:{canFollow:[&quot;macroFront&quot;],fn:function(match){return match[2]?{isMethodCall:!0,innerText:match[2]}:{isMethodCall:!1}}},groupingFront:{fn:function(){return{isFront:!0}}},property:{fn:textTokenFn(&quot;name&quot;),canFollow:[&quot;variable&quot;,&quot;hookRef&quot;,&quot;property&quot;,&quot;itsProperty&quot;,&quot;belongingItProperty&quot;,&quot;macro&quot;,&quot;grouping&quot;,&quot;string&quot;,&quot;boolean&quot;,&quot;number&quot;]},possessiveOperator:{fn:emptyFn},itsProperty:{cannotFollow:[&quot;text&quot;],fn:textTokenFn(&quot;name&quot;)},itsOperator:{cannotFollow:[&quot;text&quot;],fn:emptyFn},belongingItProperty:{cannotFollow:[&quot;text&quot;],fn:textTokenFn(&quot;name&quot;)},belongingItOperator:{cannotFollow:[&quot;text&quot;],fn:emptyFn},belongingProperty:{cannotFollow:[&quot;text&quot;],fn:textTokenFn(&quot;name&quot;)},belongingOperator:{cannotFollow:[&quot;text&quot;],fn:emptyFn},escapedStringChar:{fn:function(){return{type:&quot;text&quot;}}},singleStringOpener:{fn:function(){return{isFront:!0,matches:{singleStringOpener:&quot;string&quot;}}}},doubleStringOpener:{fn:function(){return{isFront:!0,matches:{doubleStringOpener:&quot;string&quot;}}}},cssTime:{fn:function(match){return{value:+match[1]*(&quot;s&quot;===match[2].toLowerCase()?1e3:1)}}},colour:{cannotFollow:[&quot;text&quot;],fn:function(match){var colour,m=match[0].toLowerCase(),mapping={red:&quot;e61919&quot;,orange:&quot;e68019&quot;,yellow:&quot;e5e619&quot;,lime:&quot;80e619&quot;,green:&quot;19e619&quot;,cyan:&quot;19e5e6&quot;,aqua:&quot;19e5e6&quot;,blue:&quot;197fe6&quot;,navy:&quot;1919e6&quot;,purple:&quot;7f19e6&quot;,fuchsia:&quot;e619e5&quot;,magenta:&quot;e619e5&quot;,white:&quot;fff&quot;,black:&quot;000&quot;,gray:&quot;888&quot;,grey:&quot;888&quot;};return colour=Object.hasOwnProperty.call(mapping,m)?&quot;#&quot;+mapping[m]:m,{colour:colour}}},number:{fn:function(match){return{value:parseFloat(match[0])}}},addition:{fn:emptyFn},subtraction:{fn:emptyFn},multiplication:{fn:emptyFn},division:{fn:emptyFn},inequality:{fn:function(match){return{operator:match[0]}}},augmentedAssign:{fn:function(match){return{operator:match[0][0]}}},identifier:{fn:textTokenFn(&quot;name&quot;),cannotFollow:[&quot;text&quot;]
}},[&quot;boolean&quot;,&quot;is&quot;,&quot;to&quot;,&quot;into&quot;,&quot;and&quot;,&quot;or&quot;,&quot;not&quot;,&quot;isNot&quot;,&quot;contains&quot;,&quot;isIn&quot;].reduce(function(a,e){return a[e]={fn:emptyFn,cannotFollow:[&quot;text&quot;]},a},{}),[&quot;comma&quot;,&quot;spread&quot;,&quot;addition&quot;,&quot;subtraction&quot;,&quot;multiplication&quot;,&quot;division&quot;].reduce(function(a,e){return a[e]={fn:emptyFn},a},{})));markupMode.push.apply(markupMode,_toConsumableArray(Object.keys(blockRules)).concat(_toConsumableArray(Object.keys(inlineRules)),_toConsumableArray(Object.keys(expressionRules)))),macroMode.push.apply(macroMode,_toConsumableArray(Object.keys(expressionRules)).concat(_toConsumableArray(Object.keys(macroRules))));var allRules=Object.assign({},blockRules,inlineRules,expressionRules,macroRules);return Object.keys(allRules).forEach(function(key){var re=Patterns[key];allRules[key].pattern=&quot;string&quot;!=typeof re?re:new RegExp(&quot;^(?:&quot;+re+&quot;)&quot;,&quot;i&quot;),Patterns[key+&quot;Peek&quot;]&amp;&amp;(allRules[key].peek=Patterns[key+&quot;Peek&quot;])}),Object.assign(Lexer.rules,allRules),Lexer.startMode=markupMode,Lexer}function exporter(Lexer){var TwineMarkup=Object.freeze({lex:rules(Lexer).lex,Patterns:Patterns});return TwineMarkup}var Patterns=void 0;Object.assign=Object.assign||function(obj){for(var i=1;i<arguments.length;i++){var target="arguments[i];for(var" key="" in="" target)object.hasownproperty.call(target,key)&&(obj[key]="target[key])}return" obj},"object"="==(" undefined"="=typeof&quot;" module?"undefined":_typeof(module))?(patterns="require(" patterns"),module.exports="exporter(require(&quot;lexer&quot;))):&quot;function&quot;==typeof&quot;" define&&define.amd?define("markup",["lexer","patterns"],function(lexer,p){return="" patterns="P,exporter(Lexer)}):" function"="=typeof&quot;" storyformat&&this="" instanceof="" storyformat?(patterns="this.modules.Patterns,this.modules.Markup=exporter(this.modules.Lexer),this.lex=this.modules.Markup.lex):(Patterns=this.Patterns,this.TwineMarkup=exporter(this.TwineLexer))}.call(eval(" this")||("undefined"!="typeof&quot;" global?global:window)),define("utils="" selectors",[],function(){return="" object.freeze({passage:"tw-passage",story:"tw-story",sidebar:"tw-sidebar",internallink:"tw-link",brokenlink:"tw-broken-link",hook:"tw-hook",pseudohook:"tw-pseudo-hook",enchantment:"tw-enchantment",expression:"tw-expression",enchanter:"[enchanter]",script:"[role="script]" ,stylesheet:"[role="stylesheet]&quot;,storyData:&quot;tw-storydata&quot;,passageData:&quot;tw-passagedata&quot;,whitespace:&quot;tw-char[char=space],&quot;" tw-char[char="tab]," br",collapsed:"tw-collapsed"})}),define("utils="" customelements",[],function(){if(document.registerelement){var="" customelements="{};return" function="" register(name){for(var="" proto="Object.create(HTMLElement.prototype),propDef={},_len=arguments.length,props=Array(_len">1?_len-1:0),_key=1;_len&gt;_key;_key++)props[_key-1]=arguments[_key];props.forEach(function(p){propDef[p]={value:null}}),Object.defineProperties(proto,propDef);var el=document.registerElement(name,{prototype:proto});return CustomElements[name]=el,register}(&quot;tw-storydata&quot;,&quot;storyname&quot;,&quot;startnode&quot;,&quot;creator&quot;,&quot;creator-version&quot;,&quot;options&quot;)(&quot;tw-passagedata&quot;,&quot;name&quot;,&quot;pid&quot;,&quot;position&quot;)(&quot;tw-story&quot;)(&quot;tw-debugger&quot;)(&quot;tw-passage&quot;)(&quot;tw-link&quot;,&quot;passage-name&quot;)(&quot;tw-broken-link&quot;,&quot;passage-name&quot;)(&quot;tw-expression&quot;,&quot;type&quot;,&quot;name&quot;,&quot;js&quot;)(&quot;tw-sidebar&quot;)(&quot;tw-icon&quot;)(&quot;tw-align&quot;)(&quot;tw-collapsed&quot;)(&quot;tw-verbatim&quot;)(&quot;tw-hook&quot;,&quot;name&quot;,&quot;source&quot;)(&quot;tw-pseudo-hook&quot;)(&quot;tw-transition-container&quot;)(&quot;tw-error&quot;)(&quot;tw-error-explanation&quot;)(&quot;tw-error-explanation-button&quot;)(&quot;tw-notifier&quot;,&quot;message&quot;),Object.freeze(CustomElements)}}),define(&quot;utils&quot;,[&quot;jquery&quot;,&quot;markup&quot;,&quot;utils/selectors&quot;,&quot;utils/customelements&quot;],function(_$2,TwineMarkup,Selectors){var lockDesc={configurable:0,writable:0},t8nAnimationTimes={&quot;transition-in&quot;:Object.create(null),&quot;transition-out&quot;:Object.create(null)},usuallyBlockElements=&quot;audio,blockquote,canvas,div,h1,h2,h3,h4,h5,hr,ol,p,pre,table,ul,video,tw-align,tw-story,tw-passage&quot;.split(&quot;,&quot;),usuallyInlineElements=&quot;a,b,i,em,strong,sup,sub,abbr,acronym,s,strike,del,big,small,script,img,button,input,tw-link,tw-broken-link,tw-verbatim,tw-collapsed,tw-error&quot;.split(&quot;,&quot;),nonDetachableElements=[&quot;audio&quot;],storyElement=void 0,Utils={lockProperties:function(obj){for(var keys=Object.keys(obj),propDesc={},i=0;i<keys.length;i++)propdesc[keys[i]]=lockdesc;return object.defineproperties(obj,propdesc)},lockproperty:function(obj,prop,value){var="" propdesc="Object.create(lockDesc);return" value&&(propdesc.value="value),Object.defineProperty(obj,prop,propDesc),obj},getInheritedPropertyDescriptor:function(obj,prop){for(;obj&amp;&amp;!obj.hasOwnProperty(prop);)obj=Object.getPrototypeOf(obj);return" obj&&object.getownpropertydescriptor(obj,prop)||null},tojsliteral:json.stringify,totsstringliteral:function(str){var="" _math,consecutivegraves="(_Math=Math).max.apply(_Math,_toConsumableArray((str.match(/(`+)/g)||[]).map(function(e){return" e.length}).concat(0)))+1;return"`".repeat(consecutivegraves)+str+"`".repeat(consecutivegraves)},csstimeunit:function(s){if("string"="=typeof" s){if(s="s.toLowerCase()," ms"="==s.slice(-2))return+s.slice(0,-2)||0;if(&quot;s&quot;===s.slice(-1))return&quot;" 1e3*+s.slice(0,-1)||0}else="" if(array.isarray(s)){var="" _ret="function(){var" ret="[];return" s.foreach(function(e){var="" time="Utils.cssTimeUnit(e);time">0&amp;&amp;ret.push(time)}),{v:ret}}();if(&quot;object&quot;===(&quot;undefined&quot;==typeof _ret?&quot;undefined&quot;:_typeof(_ret)))return _ret.v}return 0},nth:function(num){var lastDigit=(num+&quot;&quot;).slice(-1);return num+(&quot;1&quot;===lastDigit?&quot;st&quot;:&quot;2&quot;===lastDigit?&quot;nd&quot;:&quot;3&quot;===lastDigit?&quot;rd&quot;:&quot;th&quot;)},plural:function(num,noun){return num+&quot; &quot;+noun+(num&gt;1?&quot;s&quot;:&quot;&quot;)},unescape:function(text){return text.replace(/&amp;(?:amp|lt|gt|quot|nbsp|zwnj|#39|#96);/g,function(e){return{&quot;&amp;&quot;:&quot;&amp;&quot;,&quot;&gt;&quot;:&quot;&gt;&quot;,&quot;&lt;&quot;:&quot;<","&quot;":'"',"&#39;":"'","&nbsp;":string.fromcharcode(160),"&zwnj;":string.fromcharcode(8204)}[e]})},escape:function(text){return text.replace(="" [&=""><"'] g,function(e){return{"&":"&amp;","="">&quot;:&quot;&gt;&quot;,&quot;<":"&lt;",'"':"&quot;","'":"&#39;"}[e]})},insensitivename:function(e){return(e+"").tolowercase().replace( -|_="" g,"")},wraphtmltag:function(text,tagname){return"<"+tagname+"="">&quot;+text+&quot;&quot;},findAndFilter:function(q,selector){return q=_$2(q||Utils.storyElement),q.filter(selector).add(q.find(selector))},closestHookSpan:function(elems){var ret=elems.closest(Selectors.hook+&quot;,&quot;+Selectors.pseudoHook);return ret.length?ret:elems},childrenProbablyInline:function(jq){var unknown=[];return Array.prototype.every.call(jq.find(&quot;*&quot;),function(elem){return elem.hidden||/none|inline/.test(elem.style.display)?!0:usuallyBlockElements.indexOf(elem.tagName.toLowerCase())&gt;-1||/none|inline/.test(elem.style.display)?!1:usuallyInlineElements.indexOf(elem.tagName.toLowerCase())&gt;-1?!0:(unknown.push(elem),!0)})&amp;&amp;unknown.every(function(elem){return/none|inline/.test(elem.style.display)})},transitionReplace:function(oldElem,newElem,transIndex){oldElem=Utils.closestHookSpan(oldElem);var container1=_$2(&quot;<tw-transition-container>&quot;).css(&quot;position&quot;,&quot;relative&quot;);container1.insertBefore(oldElem.first());var container2a=void 0;newElem&amp;&amp;(container2a=_$2(&quot;<tw-transition-container>&quot;).appendTo(container1),newElem.appendTo(container2a));var container2b=_$2(&quot;<tw-transition-container>&quot;).css(&quot;position&quot;,&quot;absolute&quot;).prependTo(container1);oldElem.detach().appendTo(container2b),Utils.transitionOut(container2b,transIndex),newElem&amp;&amp;Utils.transitionIn(container2a,transIndex,function(){container2a.unwrap().children().first().unwrap()})},transitionOut:function(el,transIndex){function onComplete(){el.remove()}var childrenInline=Utils.childrenProbablyInline(el),mustWrap=el.length&gt;1||!childrenInline||-1===[&quot;tw-hook&quot;,&quot;tw-passage&quot;].indexOf(el.tag());mustWrap&amp;&amp;(el=el.wrapAll(&quot;<tw-transition-container>&quot;).parent()),el.attr(&quot;data-t8n&quot;,transIndex).addClass(&quot;transition-out&quot;),Utils.childrenProbablyInline(el)&amp;&amp;el.css(&quot;display&quot;,&quot;inline-block&quot;);var delay=Utils.transitionTime(transIndex,&quot;transition-out&quot;);delay?window.setTimeout(onComplete,delay):onComplete()},transitionIn:function(el,transIndex){function onComplete(){var detachable=0===Utils.findAndFilter(el,nonDetachableElements.join(&quot;,&quot;)).length;mustWrap&amp;&amp;detachable?el.contents().unwrap():el.removeClass(&quot;transition-in&quot;).removeAttr(&quot;data-t8n&quot;)}var childrenInline=Utils.childrenProbablyInline(el),mustWrap=el.length&gt;1||!childrenInline||-1===[&quot;tw-hook&quot;,&quot;tw-passage&quot;].indexOf(el.tag());mustWrap&amp;&amp;(el=el.wrapAll(&quot;<tw-transition-container>&quot;).parent()),el.attr(&quot;data-t8n&quot;,transIndex).addClass(&quot;transition-in&quot;),Utils.childrenProbablyInline(el)&amp;&amp;el.css(&quot;display&quot;,&quot;inline-block&quot;);var delay=Utils.transitionTime(transIndex,&quot;transition-in&quot;);delay?window.setTimeout(onComplete,delay):onComplete()},transitionTime:function(transIndex,className){var animClass=t8nAnimationTimes[className];if(!animClass[transIndex]){var p=_$2(&quot;<p>&quot;).appendTo(document.body).attr(&quot;data-t8n&quot;,transIndex).addClass(className);animClass[transIndex]=Utils.cssTimeUnit(p.css(&quot;animation-duration&quot;))+Utils.cssTimeUnit(p.css(&quot;animation-delay&quot;)),p.remove()}return animClass[transIndex]},$:function(str,context){return _$2(str,context||Utils.storyElement).not(&quot;.transition-out, .transition-out *&quot;)},log:function(data){window.console&amp;&amp;console.log(data)},impossible:function(where,data){window.console&amp;&amp;console.error(where+&quot;(): &quot;+data)},assert:function(assertion){window.console&amp;&amp;(assertion||console.error(&quot;Assertion failed!&quot;))},assertMustHave:function(object,props){if(window.console)for(var i=0;i<props.length;i+=1)props[i]in object||console.error("assertion="" failed:="" "+object+"="" lacks="" property="" "+props[i])},assertonlyhas:function(object,props){if(window.console)for(var="" i="" in="" object)-1="==props.indexOf(i)&amp;&amp;console.error(" assertion"="" had="" unexpected="" '"+i+"'!")},get="" storyelement(){return="" storyelement}};return="" _$2(function(){return="" storyelement="_$2(Selectors.story)}),Object.freeze(Utils)}),define(" twinescript="" compiler",["utils"],function(_ref){function"="" indexoftype(array){for(var="" _len2="arguments.length,types=Array(_len2">1?_len2-1:0),_key2=1;_len2&gt;_key2;_key2++)types[_key2-1]=arguments[_key2];for(var i=0;i<array.length;i+=1)if(types.indexof(array[i].type)>-1)return i;return 0/0}function rightAssociativeIndexOfType(array){for(var _len3=arguments.length,types=Array(_len3&gt;1?_len3-1:0),_key3=1;_len3&gt;_key3;_key3++)types[_key3-1]=arguments[_key3];return array.length-1-indexOfType.apply(void 0,[[].concat(_toConsumableArray(array)).reverse()].concat(types))}function compile(tokens,isVarRef){if(!tokens)return&quot;&quot;;tokens=[].concat(tokens);var token=tokens[0];if(1===tokens.length){if(&quot;identifier&quot;===token.type)return isVarRef?&quot;TwineError.create(&apos;keyword&apos;,&apos;I can\\&apos;t use \\&apos;&quot;+token.text+&quot;\\&apos; in this position.&apos;) &quot;:&quot; Operations.Identifiers.&quot;+token.text.toLowerCase()+&quot; &quot;;if(&quot;variable&quot;===token.type)return&quot;VarRef.create(State.variables,&quot;+toJSLiteral(token.name)+&quot;)&quot;+(isVarRef?&quot;&quot;:&quot;.get()&quot;);if(&quot;hookRef&quot;===token.type)return isVarRef?&quot;VarRef.create(section.selectHook(&apos;?&quot;+token.name+&quot;&apos;), &apos;TwineScript_Assignee&apos;)&quot;:&quot; section.selectHook(&apos;?&quot;+token.name+&quot;&apos;) &quot;;if(&quot;string&quot;===token.type)return token.text.replace(/\n/g,&quot;\\n&quot;);if(&quot;colour&quot;===token.type)return&quot;Colour.create(&quot;+toJSLiteral(token.colour)+&quot;)&quot;;if(&quot;root&quot;===token.type)return compile(token.children)}var i=void 0,macroNameToken=void 0,left=void 0,right=void 0,midString=void 0,operation=void 0,assignment=void 0,possessive=void 0,needsLeft=!0,needsRight=!0,implicitLeftIt=!1;return(i=indexOfType(tokens,&quot;comma&quot;))&gt;-1?(midString=&quot;,&quot;,needsRight=!1):(i=indexOfType(tokens,&quot;spread&quot;))&gt;-1?(midString=&quot;Operations.makeSpreader(&quot;,right=compile(tokens.splice(i+1))+&quot;)&quot;,needsLeft=!1):(i=indexOfType(tokens,&quot;to&quot;))&gt;-1?(assignment=&quot;to&quot;,left=&quot;Operations.setIt(&quot;+compile(tokens.slice(0,i),&quot;varRef&quot;)+&quot;)&quot;):(i=indexOfType(tokens,&quot;into&quot;))&gt;-1?(assignment=&quot;into&quot;,right=compile(tokens.slice(0,i),&quot;varRef&quot;),left=&quot;Operations.setIt(&quot;+compile(tokens.slice(i+1),&quot;varRef&quot;)+&quot;)&quot;):(i=indexOfType(tokens,&quot;augmentedAssign&quot;))&gt;-1?(assignment=tokens[i].operator,left=compile(tokens.slice(0,i),&quot;varRef&quot;),right=&quot;Operations[&apos;&quot;+assignment+&quot;&apos;](&quot;+(compile(tokens.slice(0,i))+&quot;,&quot;+compile(tokens.splice(i+1)))+&quot;)&quot;):(i=indexOfType(tokens,&quot;and&quot;,&quot;or&quot;))&gt;-1?operation=tokens[i].type:(i=indexOfType(tokens,&quot;is&quot;,&quot;isNot&quot;))&gt;-1?(implicitLeftIt=!0,operation=tokens[i].type):(i=indexOfType(tokens,&quot;contains&quot;,&quot;isIn&quot;))&gt;-1?(implicitLeftIt=!0,operation=tokens[i].type):(i=indexOfType(tokens,&quot;inequality&quot;))&gt;-1?(implicitLeftIt=!0,operation=tokens[i].operator):(i=indexOfType(tokens,&quot;addition&quot;,&quot;subtraction&quot;))&gt;-1?(operation=tokens[i].text,left=compile(tokens.slice(0,i)),left.trim()||(left=&quot;0&quot;)):(i=indexOfType(tokens,&quot;multiplication&quot;,&quot;division&quot;))&gt;-1?operation=tokens[i].text:(i=indexOfType(tokens,&quot;not&quot;))&gt;-1?(midString=&quot;Operations.not(&quot;,right=compile(tokens.splice(i+1))+&quot;)&quot;,needsLeft=!1):(i=indexOfType(tokens,&quot;belongingProperty&quot;))&gt;-1?(right=&quot;VarRef.create(&quot;+compile(tokens.slice(i+1),&quot;varref&quot;)+&quot;,&quot;+toJSLiteral(tokens[i].name)+&quot;)&quot;+(isVarRef?&quot;&quot;:&quot;.get()&quot;),midString=&quot; &quot;,needsLeft=needsRight=!1):(i=indexOfType(tokens,&quot;belongingOperator&quot;,&quot;belongingItOperator&quot;))&gt;-1?(tokens[i].type.includes(&quot;It&quot;)&amp;&amp;(right=&quot;Operations.Identifiers.it&quot;,needsRight=!1),possessive=&quot;belonging&quot;):(i=rightAssociativeIndexOfType(tokens,&quot;property&quot;))&gt;-1?(left=&quot;VarRef.create(&quot;+compile(tokens.slice(0,i),&quot;varref&quot;)+&quot;,&quot;+toJSLiteral(tokens[i].name)+&quot;)&quot;+(isVarRef?&quot;&quot;:&quot;.get()&quot;),midString=&quot; &quot;,needsLeft=needsRight=!1):(i=rightAssociativeIndexOfType(tokens,&quot;itsProperty&quot;))&gt;-1||(i=indexOfType(tokens,&quot;belongingItProperty&quot;))&gt;-1?(left=&quot;VarRef.create(Operations.Identifiers.it,&quot;+toJSLiteral(tokens[i].name)+&quot;).get()&quot;,midString=&quot; &quot;,needsLeft=needsRight=!1):(i=rightAssociativeIndexOfType(tokens,&quot;possessiveOperator&quot;,&quot;itsOperator&quot;))&gt;-1?(tokens[i].type.includes(&quot;it&quot;)&amp;&amp;(left=&quot;Operations.Identifiers.it&quot;,needsLeft=!1),possessive=&quot;possessive&quot;):(i=indexOfType(tokens,&quot;macro&quot;))&gt;-1?(macroNameToken=tokens[i].children[0],assert(&quot;macroName&quot;===macroNameToken.type),midString=&quot;Macros.run(&quot;+(macroNameToken.isMethodCall?compile(macroNameToken.children):&apos;&quot;&apos;+tokens[i].name+&apos;&quot;&apos;)+&quot;, [section,&quot;+compile(tokens[i].children.slice(1))+&quot;])&quot;,needsLeft=needsRight=!1):(i=indexOfType(tokens,&quot;grouping&quot;))&gt;-1&amp;&amp;(midString=&quot;(&quot;+compile(tokens[i].children,isVarRef)+&quot;)&quot;,needsLeft=needsRight=!1),i&gt;-1?(left=left||compile(tokens.slice(0,i),isVarRef).trim(),right=right||compile(tokens.splice(i+1)).trim(),implicitLeftIt&amp;&amp;!left&amp;&amp;(left=&quot; Operations.Identifiers.it &quot;),needsLeft&amp;&amp;!left||needsRight&amp;&amp;!right?&quot;TwineError.create(&apos;operation&apos;,&apos;I need some code to be &quot;+(needsLeft?&quot;left &quot;:&quot;&quot;)+(needsLeft&amp;&amp;needsRight?&quot;and &quot;:&quot;&quot;)+(needsRight?&quot;right &quot;:&quot;&quot;)+&apos;of &quot;&apos;+tokens[i].text+&quot;\&quot;&apos;)&quot;:midString?left+midString+right:assignment?&quot;Operations.makeAssignmentRequest(&quot;+[left,right,toJSLiteral(assignment)]+&quot;)&quot;:possessive?&quot;VarRef.create(&quot;+(&quot;belonging&quot;===possessive?right:left)+&quot;,{computed:true,value:&quot;+(&quot;belonging&quot;===possessive?left:right)+&quot;})&quot;+(isVarRef?&quot;&quot;:&quot;.get()&quot;):operation?&quot; Operations[&quot;+toJSLiteral(operation)+&quot;](&quot;+left+&quot;,&quot;+right+&quot;) &quot;:&quot;&quot;):1===tokens.length?((token.value||token.text)+&quot;&quot;).trim()||&quot; &quot;:tokens.reduce(function(a,token){return a+compile(token,isVarRef)},&quot;&quot;)}var toJSLiteral=_ref.toJSLiteral,assert=_ref.assert;return compile}),define(&quot;internaltypes/twineerror&quot;,[&quot;jquery&quot;,&quot;utils&quot;],function($,_ref2){var impossible=_ref2.impossible,assert=_ref2.assert,escape=_ref2.escape,errorExplanations={syntax:&quot;The markup seems to contain a mistake.&quot;,saving:&quot;I tried to save or load the game, but I couldn&apos;t do it.&quot;,operation:&quot;I tried to use an operation on some data, but the data&apos;s type was incorrect.&quot;,macrocall:&quot;I tried to use a macro, but its call wasn&apos;t written correctly.&quot;,datatype:&quot;I tried to use a macro, but was given the wrong type of data to it.&quot;,keyword:&quot;I was given a keyword in a way that I didn&apos;t understand.&quot;,changer:&quot;This is a command to change a hook, but it isn&apos;t being used correctly.&quot;,infinite:&quot;I almost ended up doing the same thing over and over, forever.&quot;,property:&quot;I tried to access a value in a string/array/datamap, but I couldn&apos;t find it.&quot;,unimplemented:&quot;I currently don&apos;t have this particular feature. I&apos;m sorry.&quot;,javascript:&quot;This error message was reported by your browser&apos;s Javascript engine. I don&apos;t understand it either, but it usually means that an expression was badly written.&quot;},TwineError={create:function(type,message,explanation){return message||impossible(&quot;TwineError.create&quot;,&quot;called with only 1 string.&quot;),assert(explanation||type in errorExplanations),Object.assign(Object.create(this),{type:type,message:message,explanation:explanation})},fromError:function(error){return TwineError.create(&quot;javascript&quot;,&quot;&#x2615; &quot;+error.message)},containsError:function(){for(var _len4=arguments.length,args=Array(_len4),_key4=0;_len4&gt;_key4;_key4++)args[_key4]=arguments[_key4];return args.reduce(function(last,e){return last?last:e instanceof Error?e:TwineError.isPrototypeOf(e)?e:Array.isArray(e)?TwineError.containsError.apply(TwineError,_toConsumableArray(e)):!1},!1)},createWarning:function(type,message){return Object.assign(this.create(type,message),{warning:!0})},render:function(titleText){titleText=titleText||&quot;&quot;;var errorElement=$(&quot;<tw-error class="" +("javascript"="==this.type?&quot;javascript" ":"")+(this.warning?"warning":"error")+""="" title="" +escape(titletext)+""="">&quot;+escape(this.message)+&quot;</tw-error>&quot;),explanationElement=$(&quot;<tw-error-explanation>&quot;).text(this.explanation||errorExplanations[this.type]).hide(),explanationButton=$(&quot;<tw-error-explanation-button tabindex="0">&quot;).html(&quot;<span class="folddown-arrowhead">&#x25BA;</span>&quot;);return explanationButton.on(&quot;click&quot;,function(){explanationElement.toggle(),explanationButton.children(&quot;.folddown-arrowhead&quot;).css(&quot;transform&quot;,&quot;rotate(&quot;+(explanationElement.is(&quot;:visible&quot;)?&quot;90deg&quot;:&quot;0deg&quot;)+&quot;)&quot;)}),errorElement.append(explanationButton).append(explanationElement),errorElement}};return TwineError}),define(&quot;renderer&quot;,[&quot;utils&quot;,&quot;markup&quot;,&quot;twinescript/compiler&quot;,&quot;internaltypes/twineerror&quot;],function(_ref3,TwineMarkup,Compiler,TwineError){function renderTag(token,tagName){var contents=Renderer.render(token.children);return contents&amp;&amp;wrapHTMLTag(contents,tagName)}var wrapHTMLTag=_ref3.wrapHTMLTag,escape=_ref3.escape,impossible=_ref3.impossible,toJSLiteral=_ref3.toJSLiteral,Renderer=void 0,center=&quot;text-align: center; max-width:50%; &quot;;return Renderer={options:{},exec:function(){var cachedInput=void 0,cachedOutput=void 0;return function(src){return&quot;string&quot;!=typeof src?(impossible(&quot;Renderer.exec&quot;,&quot;source was not a string, but &quot;+(&quot;undefined&quot;==typeof src?&quot;undefined&quot;:_typeof(src))),&quot;&quot;):src===cachedInput?cachedOutput:(cachedInput=src,cachedOutput=Renderer.render(TwineMarkup.lex(src).children))}}(),render:function render(tokens){var out=&quot;&quot;;if(!tokens)return out;for(var len=tokens.length,i=0;len&gt;i;i+=1){var token=tokens[i];switch(token.type){case&quot;error&quot;:out+=TwineError.create(&quot;syntax&quot;,token.message).render(escape(token.text))[0].outerHTML;break;case&quot;numbered&quot;:case&quot;bulleted&quot;:var tagName=&quot;numbered&quot;===token.type?&quot;ol&quot;:&quot;ul&quot;;out+=&quot;<"+tagname+">&quot;;for(var depth=1;len&gt;i&amp;&amp;tokens[i]&amp;&amp;tokens[i].type===token.type;)out+=(&quot;<"+tagname+">&quot;).repeat(Math.max(0,tokens[i].depth-depth)),out+=(&quot;</"+tagname+">&quot;).repeat(Math.max(0,depth-tokens[i].depth)),depth=tokens[i].depth,out+=renderTag(tokens[i],&quot;li&quot;),i+=1;i-=1,out+=(&quot;</"+tagname+">&quot;).repeat(depth+1);break;case&quot;align&quot;:for(;token&amp;&amp;&quot;align&quot;===token.type;){var style=&quot;&quot;,body=&quot;&quot;,align=token.align,j=i+=1;if(&quot;left&quot;===align){i-=1;break}for(;len&gt;i&amp;&amp;tokens[i]&amp;&amp;&quot;align&quot;!==tokens[i].type;)i+=1;switch(body+=render(tokens.slice(j,i)),align){case&quot;center&quot;:style+=center+&quot;margin-left: auto; margin-right: auto;&quot;;break;case&quot;justify&quot;:case&quot;right&quot;:style+=&quot;text-align: &quot;+align+&quot;;&quot;;break;default:+align&amp;&amp;(style+=center+&quot;margin-left: &quot;+align+&quot;%;&quot;)}out+=&quot;<tw-align "+(style?'style="&apos;+style+&apos;" ':"")+(renderer.options.debug?'="" title="&apos;+token.text+&apos;" ':"")+"="">&quot;+body+&quot;</tw-align>\n&quot;,token=tokens[i]}break;case&quot;heading&quot;:out+=renderTag(token,&quot;h&quot;+token.depth);break;case&quot;br&quot;:case&quot;hr&quot;:out+=&quot;<"+token.type+">&quot;;break;case&quot;escapedLine&quot;:case&quot;comment&quot;:break;case&quot;inlineUrl&quot;:out+=&apos;<a class="link" href="&apos;+escape(token.text)+&apos;">&apos;+token.text+&quot;</a>&quot;;break;case&quot;scriptStyleTag&quot;:case&quot;tag&quot;:out+=token.text.startsWith(&quot;$/,&quot; data-raw&gt;&quot;);break;case&quot;sub&quot;:case&quot;sup&quot;:case&quot;del&quot;:case&quot;strong&quot;:case&quot;em&quot;:out+=renderTag(token,token.type);break;case&quot;bold&quot;:out+=renderTag(token,&quot;b&quot;);break;case&quot;italic&quot;:out+=renderTag(token,&quot;i&quot;);break;case&quot;twineLink&quot;:var newTwineLinkToken=TwineMarkup.lex(&quot;(link-goto:&quot;+toJSLiteral(token.innerText)+&quot;,&quot;+toJSLiteral(token.passage)+&quot;)&quot;);out+=render(newTwineLinkToken.children);break;case&quot;hook&quot;:out+=&quot;<tw-hook "+(token.name?'name="&apos;+token.name+&apos;" ':"")+(renderer.options.debug&&token.name?'="" title="Hook: ?&apos;+token.name+&apos;" ':"")+'="" source="&apos;+escape(token.innerText)+&apos;"></tw-hook>&apos;;break;case&quot;verbatim&quot;:out+=wrapHTMLTag(escape(token.innerText).replace(/\n/g,&quot;<br>&quot;),&quot;tw-verbatim&quot;);break;case&quot;collapsed&quot;:out+=renderTag(token,&quot;tw-collapsed&quot;);break;case&quot;hookRef&quot;:case&quot;variable&quot;:case&quot;macro&quot;:out+=&apos;<tw-expression type="&apos;+token.type+&apos;" name="&apos;+escape(token.name||token.text)+&apos;" '+(renderer.options.debug?'="" title="&apos;+escape(token.text)+&apos;" ':"")+'="" js="&apos;+escape(Compiler(token))+&apos;"></tw-expression>&apos;;break;default:out+=token.children&amp;&amp;token.children.length?render(token.children):token.text}}return out}},Object.freeze(Renderer)}),define(&quot;passages&quot;,[&quot;jquery&quot;,&quot;utils&quot;,&quot;utils/selectors&quot;],function($,_ref4,Selectors){function Passage(elem){return Object.assign(new Map([[&quot;source&quot;,unescape(elem.html())],[&quot;tags&quot;,(elem.attr(&quot;tags&quot;)||&quot;&quot;).split(/\s/)],[&quot;name&quot;,elem.attr(&quot;name&quot;)]]),{TwineScript_TypeName:&quot;passage datamap&quot;,TwineScript_ObjectName:&quot;a passage datamap&quot;})}var unescape=_ref4.unescape,Passages=Object.assign(new Map,{TwineScript_ObjectName:&quot;the Passages datamap&quot;,getTagged:function(tag){var ret=[];return this.forEach(function(v){var tags=v instanceof Map&amp;&amp;v.get(&quot;tags&quot;);Array.isArray(tags)&amp;&amp;tags.indexOf(tag)&gt;-1&amp;&amp;ret.push(v)}),ret.sort(function(left,right){return left.get(&quot;name&quot;)&gt;right.get(&quot;name&quot;)})},create:Passage});return $(function(){Array.from($(Selectors.storyData+&quot; &gt; &quot;+Selectors.passageData)).forEach(function(e){e=$(e),Passages.set(e.attr(&quot;name&quot;),new Passage(e))})}),Passages}),define(&quot;state&quot;,[&quot;utils&quot;,&quot;passages&quot;],function(_ref5,Passages){var impossible=_ref5.impossible,SystemVariables={TwineScript_ObjectName:&quot;this story&apos;s variables&quot;,TwineScript_Writeproof:[]},Moment={passage:&quot;&quot;,variables:SystemVariables,create:function(p,v){var ret=Object.create(Moment);return ret.passage=p||&quot;&quot;,ret.variables=Object.assign(Object.create(this.variables),v),ret}},timeline=[],recent=-1,present=Moment.create(),serialisable=!0,State=Object.assign({get passage(){return present.passage},get variables(){return present.variables},get pastLength(){return recent},get futureLength(){return timeline.length-1-recent},passageNameVisited:function(name){var ret=0;if(!Passages.get(name))return 0;for(var i=0;recent&gt;=i;i++)ret+=+(name===timeline[i].passage);return ret},passageNameLastVisited:function(name){if(!Passages.get(name))return 1/0;if(name===present.passage)return 0;for(var i=recent;i&gt;0;i--)if(timeline[i].passage===name)return recent-i+1;return 1/0},pastPassageNames:function(){for(var ret=[],i=recent-1;i&gt;=0;i--)ret.unshift(timeline[i].passage);return ret},newPresent:function(newPassageName){present=(timeline[recent]||Moment).create(newPassageName)},play:function(newPassageName){present||impossible(&quot;State.play&quot;,&quot;present is undefined!&quot;),present.passage=newPassageName,timeline=timeline.slice(0,recent+1).concat(present),recent+=1,this.newPresent(newPassageName)},rewind:function(arg){var steps=1,moved=!1;if(arg)if(&quot;string&quot;==typeof arg){if(steps=this.passageNameLastVisited(arg),steps===1/0)return}else&quot;number&quot;==typeof arg&amp;&amp;(steps=arg);for(;steps&gt;0&amp;&amp;recent&gt;0;steps--)moved=!0,recent-=1;return moved&amp;&amp;this.newPresent(timeline[recent].passage),moved},fastForward:function(arg){var steps=1,moved=!1;for(&quot;number&quot;==typeof arg&amp;&amp;(steps=arg);steps&gt;0&amp;&amp;timeline.length&gt;0;steps--)moved=!0,recent+=1;return moved&amp;&amp;this.newPresent(timeline[recent].passage),moved},reset:function(){timeline=[],recent=-1,present=Moment.create(),serialisable=!0}},function(){function isSerialisable(variable){return&quot;number&quot;==typeof variable||&quot;boolean&quot;==typeof variable||&quot;string&quot;==typeof variable||null===variable||Array.isArray(variable)&amp;&amp;variable.every(isSerialisable)||variable instanceof Set&amp;&amp;Array.from(variable).every(isSerialisable)||variable instanceof Map&amp;&amp;Array.from(variable.values()).every(isSerialisable)}function replacer(name,variable){return variable instanceof Set?{&quot;(dataset:)&quot;:Array.from(variable)}:variable instanceof Map?{&quot;(datamap:)&quot;:Array.from(variable)}:variable}function reviver(name,variable){if(Object.prototype.isPrototypeOf(variable)){if(Array.isArray(variable[&quot;(dataset:)&quot;]))return new Set(variable[&quot;(dataset:)&quot;]);if(Array.isArray(variable[&quot;(datamap:)&quot;]))return new Map(variable[&quot;(datamap:)&quot;])}return variable}function serialise(){var ret=timeline.slice(0,recent+1);if(serialisable=serialisable&amp;&amp;ret.every(function(moment){return Object.keys(moment.variables).every(function(e){return isSerialisable(moment.variables[e])})}),!serialisable)return!1;try{return JSON.stringify(ret,replacer)}catch(e){return!1}}function deserialise(str){var newTimeline=void 0,lastVariables=SystemVariables;try{newTimeline=JSON.parse(str,reviver)}catch(e){return!1}return Array.isArray(newTimeline)?(newTimeline=newTimeline.map(function(moment){return&quot;object&quot;===(&quot;undefined&quot;==typeof moment?&quot;undefined&quot;:_typeof(moment))&amp;&amp;moment.hasOwnProperty(&quot;passage&quot;)&amp;&amp;moment.hasOwnProperty(&quot;variables&quot;)?(moment.variables=Object.assign(Object.create(lastVariables),moment.variables),lastVariables=moment.variables,Object.assign(Object.create(Moment),moment)):!1})).indexOf(!1)&gt;-1?!1:(timeline=newTimeline,recent=timeline.length-1,void this.newPresent(timeline[recent].passage)):!1}return{serialise:serialise,deserialise:deserialise}}());return Object.seal(Moment),Object.freeze(State)}),define(&quot;utils/naturalsort&quot;,[],function(){return function(locale){return function naturalSort(a,b){var oFxNcL,oFyNcL,collator,colCmp,re=/(^-?[0-9]+(\.?[0-9]*)[df]?e?[0-9]?$|^0x[0-9a-f]+$|[0-9]+)/gi,sre=/(^[ ]*|[ ]*$)/g,dre=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,hre=/^0x[0-9a-f]+$/i,ore=/^0/,i=function(s){return naturalSort.insensitive&amp;&amp;(&quot;&quot;+s).toLowerCase()||&quot;&quot;+s},x=i(a).replace(sre,&quot;&quot;)||&quot;&quot;,y=i(b).replace(sre,&quot;&quot;)||&quot;&quot;,xN=x.replace(re,&quot;\x00$1\x00&quot;).replace(/\0$/,&quot;&quot;).replace(/^\0/,&quot;&quot;).split(&quot;\x00&quot;),yN=y.replace(re,&quot;\x00$1\x00&quot;).replace(/\0$/,&quot;&quot;).replace(/^\0/,&quot;&quot;).split(&quot;\x00&quot;),xD=parseInt(x.match(hre))||1!==xN.length&amp;&amp;x.match(dre)&amp;&amp;Date.parse(x),yD=parseInt(y.match(hre))||xD&amp;&amp;y.match(dre)&amp;&amp;Date.parse(y)||null;if(locale&amp;&amp;window.Intl&amp;&amp;window.Intl.Collator&amp;&amp;(collator=window.Intl.Collator(locale)),yD){if(yD&gt;xD)return-1;if(xD&gt;yD)return 1}for(var cLoc=0,numS=Math.max(xN.length,yN.length);numS&gt;cLoc;cLoc++){if(oFxNcL=!(xN[cLoc]||&quot;&quot;).match(ore)&amp;&amp;parseFloat(xN[cLoc])||xN[cLoc]||0,oFyNcL=!(yN[cLoc]||&quot;&quot;).match(ore)&amp;&amp;parseFloat(yN[cLoc])||yN[cLoc]||0,isNaN(oFxNcL)!==isNaN(oFyNcL))return isNaN(oFxNcL)?1:-1;if((&quot;undefined&quot;==typeof oFxNcL?&quot;undefined&quot;:_typeof(oFxNcL))!==(&quot;undefined&quot;==typeof oFyNcL?&quot;undefined&quot;:_typeof(oFyNcL)))oFxNcL+=&quot;&quot;,oFyNcL+=&quot;&quot;;else if(&quot;string&quot;==typeof oFxNcL&amp;&amp;collator&amp;&amp;(colCmp=collator.compare(oFxNcL,oFyNcL),0!==colCmp))return colCmp;if(oFyNcL&gt;oFxNcL)return-1;if(oFxNcL&gt;oFyNcL)return 1}return 0}}}),define(&quot;utils/operationutils&quot;,[&quot;utils&quot;,&quot;internaltypes/twineerror&quot;],function(_ref6,TwineError){function isObject(value){return!!value&amp;&amp;(&quot;object&quot;===(&quot;undefined&quot;==typeof value?&quot;undefined&quot;:_typeof(value))||&quot;function&quot;==typeof value)}function collectionType(value){return Array.isArray(value)?&quot;array&quot;:value instanceof Map?&quot;datamap&quot;:value instanceof Set?&quot;dataset&quot;:value&amp;&amp;&quot;object&quot;===(&quot;undefined&quot;==typeof value?&quot;undefined&quot;:_typeof(value))?&quot;object&quot;:&quot;&quot;}function isValidDatamapName(map,name){if(assert(map instanceof Map),&quot;string&quot;!=typeof name&amp;&amp;&quot;number&quot;!=typeof name)return TwineError.create(&quot;property&quot;,&quot;Only strings and numbers can be used as data names for &quot;+objectName(map)+&quot;, not &quot;+objectName(name)+&quot;.&quot;);var otherName=&quot;string&quot;==typeof name?+name:&quot;&quot;+name;return!Number.isNaN(otherName)&amp;&amp;map.has(otherName)?TwineError.create(&quot;property&quot;,&quot;You mustn&apos;t use both &quot;+objectName(name)+&quot; and &quot;+objectName(otherName)+&quot; as data names in the same datamap.&quot;):!0}function isSequential(value){return&quot;string&quot;==typeof value||Array.isArray(value)}function clone(value){if(!isObject(value))return value;if(&quot;function&quot;==typeof value.TwineScript_Clone)return value.TwineScript_Clone();if(Array.isArray(value))return[].concat(_toConsumableArray(value));if(value instanceof Map)return Object.assign(new Map(value),value);if(value instanceof Set)return Object.assign(new Set(value),value);if(&quot;function&quot;==typeof value)return Object.assign(value.bind(),value);switch(Object.getPrototypeOf(value)){case Object.prototype:return Object.assign({},value);case null:return Object.assign(Object.create(null),value)}return impossible(&quot;OperationUtils.clone&quot;,&quot;The value &quot;+(value.toSource?value.toSource():value)+&quot; cannot be cloned!&quot;),value}function coerceToString(fn,left,right){return&quot;string&quot;==typeof left&amp;&amp;isObject(right)&amp;&amp;&quot;TwineScript_ToString&quot;in right?fn(left,right.TwineScript_ToString()):&quot;string&quot;==typeof right&amp;&amp;isObject(left)&amp;&amp;&quot;TwineScript_ToString&quot;in left?fn(left.TwineScript_ToString(),right):!1}function objectName(obj){return isObject(obj)&amp;&amp;&quot;TwineScript_ObjectName&quot;in obj?obj.TwineScript_ObjectName:Array.isArray(obj)?&quot;an array&quot;:obj instanceof Map?&quot;a datamap&quot;:obj instanceof Set?&quot;a dataset&quot;:&quot;boolean&quot;==typeof obj?&quot;the logic value &apos;&quot;+obj+&quot;&apos;&quot;:&quot;string&quot;==typeof obj||&quot;number&quot;==typeof obj?&quot;the &quot;+(&quot;undefined&quot;==typeof obj?&quot;undefined&quot;:_typeof(obj))+&quot; &quot;+toJSLiteral(obj):void 0===obj?&quot;an empty variable&quot;:&quot;...whatever this is&quot;}function typeName(obj){return obj.innerType?&quot;either&quot;===obj.pattern?(assert(Array.isArray(obj.innerType)),obj.innerType.map(typeName).join(&quot; or &quot;)):&quot;optional&quot;===obj.pattern?&quot;(an optional) &quot;+typeName(obj.innerType):typeName(obj.innerType):obj===String||obj===Number||obj===Boolean?&quot;a &quot;+_typeof(obj()):obj===Map?&quot;a datamap&quot;:obj===Set?&quot;a dataset&quot;:obj===Array?&quot;an array&quot;:isObject(obj)&amp;&amp;&quot;TwineScript_TypeName&quot;in obj?obj.TwineScript_TypeName:objectName(obj)}function is(l,r){return&quot;object&quot;!==(&quot;undefined&quot;==typeof l?&quot;undefined&quot;:_typeof(l))&amp;&amp;&quot;object&quot;!==(&quot;undefined&quot;==typeof r?&quot;undefined&quot;:_typeof(r))?l===r:Array.isArray(l)&amp;&amp;Array.isArray(r)?l.length!==r.length?!1:l.every(function(element,index){return is(r[index],element)}):l instanceof Map&amp;&amp;r instanceof Map?is(Array.from(l.entries()).sort(),Array.from(r.entries()).sort()):l instanceof Set&amp;&amp;r instanceof Set?is(Array.from(l.values()),Array.from(r.values())):l&amp;&amp;&quot;function&quot;==typeof l.TwineScript_is?l.TwineScript_is(r):l&amp;&amp;&quot;object&quot;===(&quot;undefined&quot;==typeof l?&quot;undefined&quot;:_typeof(l))&amp;&amp;r&amp;&amp;&quot;object&quot;===(&quot;undefined&quot;==typeof r?&quot;undefined&quot;:_typeof(r))&amp;&amp;Object.getPrototypeOf(l)===Object.prototype&amp;&amp;Object.getPrototypeOf(r)===Object.prototype?is(Object.getOwnPropertyNames(l).map(function(name){return[name,l[name]]}),Object.getOwnPropertyNames(r).map(function(name){return[name,r[name]]})):Object.is(l,r)}function contains(container,obj){if(container){if(&quot;string&quot;==typeof container)return container.indexOf(obj)&gt;-1;if(Array.isArray(container))return container.some(function(e){return is(e,obj)});if(container instanceof Set||container instanceof Map)return Array.from(container.keys()).some(function(e){return is(e,obj)})}return is(container,obj)}function subset(sequence,a,b){if(!a||!b)return TwineError.create(&quot;macrocall&quot;,&quot;The sub&quot;+collectionType(sequence)+&quot; index values must not be 0 or NaN.&quot;);if(0&gt;a&amp;&amp;(a=sequence.length+a+1),0&gt;b&amp;&amp;(b=sequence.length+b+1),a&gt;b)return subset(sequence,b,a);var isString=&quot;string&quot;==typeof sequence;isString&amp;&amp;(sequence=Array.from(sequence));var ret=sequence.slice(a&gt;0?a-1:a,b);return isString?ret.join(&quot;&quot;):ret}var assert=_ref6.assert,impossible=_ref6.impossible,toJSLiteral=_ref6.toJSLiteral,OperationUtils=Object.freeze({isObject:isObject,isValidDatamapName:isValidDatamapName,collectionType:collectionType,isSequential:isSequential,clone:clone,coerceToString:coerceToString,objectName:objectName,typeName:typeName,is:is,contains:contains,subset:subset,numericIndex:/^(?:[1-9]\d*|0)$/});return OperationUtils}),define(&quot;macros&quot;,[&quot;jquery&quot;,&quot;utils/naturalsort&quot;,&quot;utils&quot;,&quot;utils/operationutils&quot;,&quot;internaltypes/twineerror&quot;],function($,NaturalSort,_ref7,_ref8,TwineError){
function readArguments(fn){return function(args){args=args.reduce(function(newArgs,el){if(el&amp;&amp;el.spreader===!0)if(Array.isArray(el.value)||&quot;string&quot;==typeof el.value)for(var i=0;i<el.value.length;i++)newargs.push(el.value[i]);else 0="==arg;if(type.innerType){if(" optional"="==type.pattern||&quot;zero&quot;" newargs.push(el.value="" instanceof="" set?array.from(el.value).sort(naturalsort("en")):twineerror.create("operation","i="" can't="" spread="" out="" "+objectname(el.value)+",="" which="" is="" not="" a="" string,="" dataset="" or="" array."));else="" newargs.push(el);return="" newargs},[]);var="" error="TwineError.containsError(args);return" error?error:fn.apply(void="" 0,_toconsumablearray(args))}}function="" singletypecheck(arg,type){if(null="==type)return" void="" more"="==type.pattern)return" type.innertype.some(function(type){return="" singletypecheck(arg,type)});if("wrapped"="==type.pattern)return" singletypecheck(arg,type.innertype)}return="" 0!="=type&amp;&amp;void" arg:type="==Boolean?" boolean"="=typeof&quot;" type:object.isprototypeof.call(type,arg):!0}function="" typesignaturecheck(name,fn,typesignature){if(!typesignature)return="" fn;typesignature="[].concat(typeSignature),name=" ("+(array.isarray(name)&&name.length"="">1?name[0]:name)+&quot;:)&quot;;var signatureInfo=void 0;return signatureInfo=typeSignature.length&gt;0?&quot;The &quot;+name+&quot; macro must only be given &quot;+typeSignature.map(typeName).reduce(function(a,e,i,arr){return a+(0===i?&quot;&quot;:i<arr.length-1?", ":",="" and="" ")+e},"")+(typesignature.length="">1?&quot;, in that order&quot;:&quot;.&quot;):&quot;The macro must not be given any data - just write &quot;+name+&quot;.&quot;,function(section){for(var _len5=arguments.length,args=Array(_len5&gt;1?_len5-1:0),_key5=1;_len5&gt;_key5;_key5++)args[_key5-1]=arguments[_key5];for(var rest=void 0,ind=0,end=Math.max(args.length,typeSignature.length);end&gt;ind;ind+=1){var type=typeSignature[ind],arg=args[ind];if(ind&gt;=typeSignature.length&amp;&amp;!rest)return TwineError.create(&quot;typesignature&quot;,args.length-typeSignature.length+&quot; too many values were given to this &quot;+name+&quot; macro.&quot;,signatureInfo);if(type||(type=rest),!type.innerType||&quot;rest&quot;!==type.pattern&amp;&amp;&quot;zero or more&quot;!==type.pattern||(rest=type.innerType,&quot;rest&quot;===type.pattern&amp;&amp;(type=type.innerType)),!singleTypeCheck(arg,type))return void 0===arg?TwineError.create(&quot;typesignature&quot;,&quot;The &quot;+name+&quot; macro needs &quot;+plural(typeSignature.length-ind,&quot;more value&quot;)+&quot;.&quot;,signatureInfo):arg&amp;&amp;arg.TwineScript_Unobservable&amp;&amp;type===Macros.TypeSignature.Any?TwineError.create(&quot;typesignature&quot;,name+&quot;&apos;s &quot;+nth(ind+1)+&quot; value is not valid data for this macro.&quot;,signatureInfo):TwineError.create(&quot;typesignature&quot;,name+&quot;&apos;s &quot;+nth(ind+1)+&quot; value is &quot;+objectName(arg)+&quot;, but should be &quot;+typeName(type)+&quot;.&quot;,type.message||signatureInfo)}return fn.apply(void 0,[section].concat(args))}}function privateAdd(name,type,fn){Array.isArray(name)?name.forEach(function(n){return lockProperty(macroRegistry,insensitiveName(n),fn)}):lockProperty(macroRegistry,insensitiveName(name),fn)}var insensitiveName=_ref7.insensitiveName,nth=_ref7.nth,plural=_ref7.plural,assert=_ref7.assert,lockProperty=_ref7.lockProperty,objectName=_ref8.objectName,typeName=_ref8.typeName,Macros=void 0,macroRegistry={},commandRegistry={};return Macros={has:function(e){return e=insensitiveName(e),macroRegistry.hasOwnProperty(e)},get:function(e){return e=insensitiveName(e),macroRegistry.hasOwnProperty(e)&amp;&#xAF;oRegistry[e]},add:function add(name,fn,typeSignature){return privateAdd(name,&quot;value&quot;,readArguments(typeSignatureCheck(name,fn,typeSignature))),add},addChanger:function addChanger(name,fn,changerCommandFn,typeSignature){return assert(changerCommandFn),privateAdd(name,&quot;changer&quot;,readArguments(typeSignatureCheck(name,fn,typeSignature))),commandRegistry[Array.isArray(name)?name[0]:name]=changerCommandFn,addChanger},getChangerFn:function(name){return commandRegistry[name]},TypeSignature:{optional:function(type){return{pattern:&quot;optional&quot;,innerType:type}},zeroOrMore:function(type){return{pattern:&quot;zero or more&quot;,innerType:type}},either:function(){for(var _len6=arguments.length,innerType=Array(_len6),_key6=0;_len6&gt;_key6;_key6++)innerType[_key6]=arguments[_key6];return{pattern:&quot;either&quot;,innerType:innerType}},rest:function(type){return{pattern:&quot;rest&quot;,innerType:type}},wrapped:function(innerType,message){return{pattern:&quot;wrapped&quot;,innerType:innerType,message:message}},Any:{TwineScript_TypeName:&quot;anything&quot;}},run:function(name,args){return TwineError.containsError(name)?name:Macros.has(name)?Macros.get(name)(args):TwineError.create(&quot;macrocall&quot;,&quot;I can&apos;t run the macro &apos;&quot;+name+&quot;&apos; because it doesn&apos;t exist.&quot;)}},Object.freeze(Macros)}),define(&quot;datatypes/colour&quot;,[&quot;utils&quot;,&quot;jquery&quot;],function(_ref9,$){function css3ToRGB(colourName){if(colourName in cssNameCache)return cssNameCache[colourName];var colour=$(&quot;<p>&quot;).css(&quot;background-color&quot;,colourName).css(&quot;background-color&quot;);return colour=colour.startsWith(&quot;rgb&quot;)?colour.match(/\d+/g).reduce(function(colour,num,ind){return colour[&quot;rgb&quot;[ind]]=+num,colour},{}):{r:192,g:192,b:192},cssNameCache[colourName]=colour,colour}function hexToRGB(str){return&quot;string&quot;!=typeof str?str:(str=str.replace(&quot;#&quot;,&quot;&quot;),str=str.replace(tripleDigit,&quot;$1$1$2$2$3$3&quot;),{r:parseInt(str.slice(0,2),16),g:parseInt(str.slice(2,4),16),b:parseInt(str.slice(4,6),16)})}var assert=_ref9.assert,singleDigit=/^([\da-fA-F])$/,tripleDigit=/^([\da-fA-F])([\da-fA-F])([\da-fA-F])$/,sextupleDigit=/^([\da-fA-F])([\da-fA-F])([\da-fA-F])([\da-fA-F])([\da-fA-F])([\da-fA-F])$/,cssNameCache=Object.create(null),Colour=Object.freeze({colour:!0,TwineScript_TypeName:&quot;a colour&quot;,TwineScript_ObjectName:&quot;a colour&quot;,&quot;TwineScript_+&quot;:function(other){var l=this,r=other;return Colour.create({r:Math.min(Math.round(.6*(l.r+r.r)),255),g:Math.min(Math.round(.6*(l.g+r.g)),255),b:Math.min(Math.round(.6*(l.b+r.b)),255)})},TwineScript_Print:function(){return&quot;<tw-colour style="background-color:rgb(" +[this.r,this.g,this.b].join(",")+");"="">&quot;},TwineScript_is:function(other){return Colour.isPrototypeOf(other)&amp;&amp;other.r===this.r&amp;&amp;other.g===this.g&amp;&amp;other.b===this.b},TwineScript_Clone:function(){return Colour.create(this)},toHexString:function(){return assert(this!==Colour),&quot;#&quot;+this.r.toString(16).replace(singleDigit,&quot;0$1&quot;)+this.g.toString(16).replace(singleDigit,&quot;0$1&quot;)+this.b.toString(16).replace(singleDigit,&quot;0$1&quot;)},create:function(rgbObj){return&quot;string&quot;==typeof rgbObj?this.create(Colour.isHexString(rgbObj)?hexToRGB(rgbObj):css3ToRGB(rgbObj)):Object.assign(Object.create(this),rgbObj)},isHexString:function(str){return&quot;string&quot;==typeof str&amp;&amp;&quot;#&quot;===str[0]&amp;&amp;(str.slice(1).match(tripleDigit)||str.slice(1).match(sextupleDigit))}});return Colour}),define(&quot;utils/hookutils&quot;,[&quot;jquery&quot;,&quot;utils/selectors&quot;],function($,Selectors){function sliceNode(node,start,end){var l=node.textContent.length;if(!(start&gt;=l)){var newNode=void 0,ret=[newNode=0===start?node:node.splitText(start)];return end&amp;&amp;(0&gt;=end&amp;&amp;(end=l-end),l&gt;end&amp;&amp;ret.push(newNode.splitText(end-start))),ret}}function findTextInNodes(textNodes,searchString){var examinedNodes=[],examinedText=&quot;&quot;,ret=[];if(!textNodes.length||!searchString)return ret;for(;textNodes.length&gt;0;){examinedNodes.push(textNodes[0]),examinedText+=textNodes[0].textContent,textNodes.shift();var index=examinedText.indexOf(searchString);if(index&gt;-1){for(var _ret2,remainingLength=examinedText.length-(index+searchString.length);index&gt;=examinedNodes[0].textContent.length;)index-=examinedNodes[0].textContent.length,examinedNodes.shift();if(1===examinedNodes.length){var _slices=sliceNode(examinedNodes[0],index,index+searchString.length);ret.push(_slices[0]),_slices[1]&amp;&amp;textNodes.unshift(_slices[1]);break}ret.push(sliceNode(examinedNodes[0],index,examinedNodes[0].length)[0]),(_ret2=ret).push.apply(_ret2,_toConsumableArray(examinedNodes.slice(1,-1)));var slices=sliceNode(examinedNodes[examinedNodes.length-1],0,examinedNodes[examinedNodes.length-1].textContent.length-remainingLength);ret.push(slices[0]),slices[1]&amp;&amp;textNodes.unshift(slices[1]),ret=ret.filter(Boolean);break}}return[ret].concat(_toConsumableArray(findTextInNodes(textNodes,searchString)))}var HookUtils={wrapTextNodes:function(searchString,dom,htmlTag){var nodes=findTextInNodes(dom.textNodes(),searchString),ret=$();return nodes.forEach(function(e){ret=ret.add($(e).wrapAll(htmlTag))}),ret},selectorType:function(val){if(val&amp;&amp;&quot;string&quot;==typeof val){var r=/\?(\w*)/.exec(val);return r&amp;&amp;r.length?&quot;hookRef&quot;:&quot;<"===val[0]&&">&quot;===val[val.length-1]?&quot;html&quot;:&quot;string&quot;}return&quot;undefined&quot;},hookToSelector:function(c){return c=c.replace(/&quot;/g,&quot;&quot;&quot;),Selectors.hook+&apos;[name=&quot;&apos;+c+&apos;&quot;]&apos;}};return Object.freeze(HookUtils)}),define(&quot;datatypes/hookset&quot;,[&quot;jquery&quot;,&quot;utils/hookutils&quot;],function($,_ref10){function hooks(){return this.section.$(hookToSelector(this.selector.slice(1)))}function jQueryCall(methodName){for(var myHooks=hooks.call(this),_len7=arguments.length,args=Array(_len7&gt;1?_len7-1:0),_key7=1;_len7&gt;_key7;_key7++)args[_key7-1]=arguments[_key7];return methodName in myHooks&amp;&amp;myHooks[methodName].apply(myHooks,args)}var hookToSelector=_ref10.hookToSelector,HookSet=Object.freeze({forEach:function(fn){return jQueryCall.call(this,&quot;each&quot;,function(i){fn($(this),i)})},text:function(){return jQueryCall.call(this,&quot;text&quot;)},TwineScript_ToString:function(){return this.text()},TwineScript_Print:function(){return this.text()},get TwineScript_ObjectName(){return this.selector+&quot; (a hook reference)&quot;},TwineScript_TypeName:&quot;a hook reference (like ?this)&quot;,set TwineScript_Assignee(value){this.section.renderInto(value,hooks.call(this),{append:&quot;replace&quot;})},get TwineScript_Assignee(){return this},TwineScript_AssignValue:function(){return jQueryCall.call(this,&quot;text&quot;)},TwineScript_DeleteValue:function(prop){&quot;TwineScript_Assignee&quot;===prop&amp;&amp;jQueryCall.call(this,&quot;text&quot;,&quot;&quot;)},create:function(section,hookSelector){var ret=Object.create(this);return ret.section=section,ret.selector=hookSelector,Object.freeze(ret)}});return HookSet}),define(&quot;internaltypes/varref&quot;,[&quot;state&quot;,&quot;internaltypes/twineerror&quot;,&quot;utils/operationutils&quot;,&quot;datatypes/hookset&quot;],function(State,TwineError,_ref11,HookSet){function compilePropertyIndex(obj,prop){var error=void 0;if(obj instanceof Map&amp;&amp;(error=TwineError.containsError(isValidDatamapName(obj,prop))))return error;if(isSequential(obj)){var match=void 0;if(&quot;number&quot;==typeof prop)prop-=1;else if(&quot;string&quot;==typeof prop&amp;&amp;(match=/(\d+)(?:st|[nr]d|th)last/i.exec(prop)))prop=-match[1]+&quot;&quot;;else if(&quot;string&quot;==typeof prop&amp;&amp;(match=/(\d+)(?:st|[nr]d|th)/i.exec(prop)))prop=match[1]-1+&quot;&quot;;else if(&quot;last&quot;===prop)prop=-1;else if(&quot;length&quot;!==prop)return TwineError.create(&quot;property&quot;,&quot;You can only access position strings/numbers (&apos;4th&apos;, &apos;last&apos;, &apos;2ndlast&apos;, (2), etc.) and &apos;length&apos; of &quot;+objectName(obj)+&quot;, not &quot;+objectName(prop)+&quot;.&quot;)}else if(obj instanceof Set){if(&quot;length&quot;!==prop)return TwineError.create(&quot;property&quot;,&quot;You can only get the &apos;length&apos; of a &quot;+objectName(obj)+&quot;.&quot;,&quot;To check contained values, use the &apos;contains&apos; operator.&quot;);prop=&quot;size&quot;}else if(&quot;number&quot;==typeof obj||&quot;boolean&quot;==typeof obj)return TwineError.create(&quot;property&quot;,&quot;You can&apos;t get data values from &quot;+objectName(obj)+&quot;.&quot;);return prop}function compilePropertyChain(object,propertyChain){var compiledPropertyChain=propertyChain.reduce(function(arr,prop,i){prop.computed&amp;&amp;(prop=prop.value),prop=Array.isArray(prop)?prop.map(function(prop){return compilePropertyIndex(object,prop)}):compilePropertyIndex(object,prop);var error=void 0;return(error=TwineError.containsError(arr,prop))?error:(i<propertychain.length-1&&(object=_get(object,prop)),arr.push(prop),arr)},[]);return{compiledpropertychain:compiledpropertychain,deepestobject:object}}function 0="==obj?obj:obj" objectormapget(obj,prop){return="" void="" instanceof="" map?obj.get(prop):(issequential(obj)&&0="">prop-0&amp;&amp;(prop=obj.length+(prop-0)),obj[prop])}function propertyDebugName(prop){return prop.computed?&quot;(&quot;+objectName(prop.value)+&quot;)&quot;:&quot;&apos;&quot;+prop+&quot;&apos;&quot;}function canSet(obj,prop){if(Array.isArray(prop))return prop.map(function(prop){return canSet(obj,prop)});var specialCollectionErrorMsg=&quot;I won&apos;t add &quot;+propertyDebugName(prop)+&quot; to &quot;+objectName(obj)+&quot; because it&apos;s one of my special system collections.&quot;,writeproofErrorMsg=&quot;I can&apos;t modify &apos;&quot;+propertyDebugName(prop)+&quot;&apos; because it holds one of my special system collections.&quot;;if(obj instanceof Map)return obj.TwineScript_Sealed&amp;&amp;!obj.has(prop)?TwineError.create(&quot;operation&quot;,specialCollectionErrorMsg):obj.TwineScript_Writeproof&amp;&amp;obj.TwineScript_Writeproof.indexOf(prop)&gt;-1?TwineError.create(&quot;operation&quot;,writeproofErrorMsg):!0;if(isSequential(obj)){if(&quot;length&quot;===prop)return TwineError.create(&quot;operation&quot;,&quot;I can&apos;t forcibly alter the length of &quot;+objectName(obj)+&quot;.&quot;);if(+prop!==(0|prop))return TwineError.create(&quot;property&quot;,objectName(obj)+&quot; can only have position keys (&apos;3rd&apos;, &apos;1st&apos;, (5), etc.), not &quot;+propertyDebugName(prop)+&quot;.&quot;)}return!obj.TwineScript_Sealed||prop in obj?obj.TwineScript_Writeproof&amp;&amp;obj.TwineScript_Writeproof.indexOf(prop)&gt;-1?TwineError.create(&quot;operation&quot;,writeproofErrorMsg):&quot;number&quot;==typeof obj||&quot;boolean&quot;==typeof obj?TwineError.create(&quot;operation&quot;,&quot;You can&apos;t alter the data values of &quot;+objectName(obj)+&quot;.&quot;):!0:TwineError.create(&quot;operation&quot;,specialCollectionErrorMsg)}function objectOrMapSet(obj,prop,value){obj instanceof Map?obj.set(prop,value):(isSequential(obj)&amp;&amp;0&gt;prop-0&amp;&amp;(prop=obj.length+(prop-0)),obj[prop]=value)}function objectOrMapDelete(obj,prop){isSequential(obj)&amp;&amp;0&gt;prop-0&amp;&amp;(prop=obj.length+(prop-0)),Array.isArray(obj)&amp;&amp;numericIndex.exec(prop)?obj.splice(prop,1):obj instanceof Map||obj instanceof Set?obj[&quot;delete&quot;](prop):obj.TwineScript_DeleteValue?obj.TwineScript_DeleteValue(prop):delete obj[prop]}function wrapError(error){function self(){return error}return{get:self,set:self,&quot;delete&quot;:self}}function _get(obj,prop,originalProp){if(Array.isArray(prop))return prop.map(function(e){return _get(obj,e,e)})[&quot;string&quot;==typeof obj?&quot;join&quot;:&quot;valueOf&quot;](&quot;&quot;);&quot;string&quot;==typeof obj&amp;&amp;(obj=[].concat(_toConsumableArray(obj)));var result=objectOrMapGet(obj,prop);return void 0===result?obj===State.variables?defaultValue:TwineError.create(&quot;property&quot;,&quot;I can&apos;t find a &quot;+propertyDebugName(originalProp)+&quot; data name in &quot;+objectName(obj)):result}function mutateRight(fn,value){var _this=this,result=this.compiledPropertyChain.reduce(function(arr,prop){var object=void 0;return object=0===arr.length?_this.object:_get.apply(void 0,_toConsumableArray(arr[arr.length-1])),arr.push([object,prop])&amp;&amp;arr},[]).reduceRight(fn,value);return TwineError.containsError(result)?result:void 0}var isObject=_ref11.isObject,isSequential=_ref11.isSequential,objectName=_ref11.objectName,clone=_ref11.clone,numericIndex=_ref11.numericIndex,isValidDatamapName=_ref11.isValidDatamapName,defaultValue=0,VarRefProto=Object.freeze({varref:!0,get:function(){return _get(this.deepestObject,this.compiledPropertyChain.slice(-1)[0],this.propertyChain.slice(-1)[0])},set:function(value){return value&amp;&amp;value.TwineScript_AssignValue&amp;&amp;(value=value.TwineScript_AssignValue()),mutateRight.call(this,function(value,_ref12,i){var _ref13=_slicedToArray(_ref12,2),object=_ref13[0],property=_ref13[1],error=void 0;if(error=TwineError.containsError(value,object,property)||TwineError.containsError(isObject(object)&amp;&amp;canSet(object,property)))return error;if(HookSet.isPrototypeOf(object)&amp;&amp;&quot;string&quot;!=typeof value)return TwineError.create(&quot;datatype&quot;,&quot;You can only set hook references to strings, not &quot;+objectName(value)+&quot;.&quot;);if(&quot;string&quot;==typeof object){var _ret3=function(){if(&quot;string&quot;!=typeof value||value.length!==(Array.isArray(property)?property.length:1))return{v:TwineError.create(&quot;datatype&quot;,&quot;I can&apos;t put this non-string value, &quot;+objectName(value)+&quot;, in a string.&quot;)};object=[].concat(_toConsumableArray(object));var valArray=[].concat(_toConsumableArray(value));[].concat(property).forEach(function(index){0&gt;0+index&amp;&amp;(index=object.length+(0+index)),object=[].concat(_toConsumableArray(object.slice(0,index)),[valArray.shift()],_toConsumableArray(object.slice(index+1)))}),object=object.join(&quot;&quot;)}();if(&quot;object&quot;===(&quot;undefined&quot;==typeof _ret3?&quot;undefined&quot;:_typeof(_ret3)))return _ret3.v}else isObject(object)&amp;&amp;(Array.isArray(property)&amp;&amp;isSequential(value)?(&quot;string&quot;==typeof value&amp;&amp;(value=[].concat(_toConsumableArray(value))),property.map(function(prop,i){return[prop,value[i]]}).forEach(function(_ref14){var _ref15=_slicedToArray(_ref14,2),e=_ref15[0],value=_ref15[1];return objectOrMapSet(object,e,value)})):objectOrMapSet(object,property,value));return i&gt;0&amp;&amp;(object=clone(object)),object},value)},&quot;delete&quot;:function(){return mutateRight.call(this,function(value,_ref16,i){var _ref17=_slicedToArray(_ref16,2),object=_ref17[0],property=_ref17[1],error=void 0;return(error=TwineError.containsError(value,object,property)||TwineError.containsError(isObject(object)&amp;&amp;canSet(object,property)))?error:(i&gt;0&amp;&amp;(object=clone(object)),null===value?isObject(object)&amp;&amp;(Array.isArray(property)?property.forEach(function(prop){return objectOrMapDelete(object,prop)}):objectOrMapDelete(object,property)):objectOrMapSet(object,property,value),object)},null)},create:function(object,propertyChain){var error=void 0;if(error=TwineError.containsError(object))return wrapError(error);propertyChain=[].concat(propertyChain),VarRefProto.isPrototypeOf(object)&amp;&amp;(propertyChain=object.propertyChain.concat(propertyChain),object=object.object);var _compilePropertyChain=compilePropertyChain(object,propertyChain),compiledPropertyChain=_compilePropertyChain.compiledPropertyChain,deepestObject=_compilePropertyChain.deepestObject;return(error=TwineError.containsError(compiledPropertyChain,deepestObject))?wrapError(error):Object.assign(Object.create(VarRefProto),{object:object,propertyChain:propertyChain,compiledPropertyChain:compiledPropertyChain,deepestObject:deepestObject})},get TwineScript_ObjectName(){return(this.object===State.variables?&quot;$&quot;:objectName(this.object)+&quot;&apos;s &quot;)+this.propertyChain.reduce(function(a,e){return a+&quot;&apos;s &quot;+propertyDebugName(e)})}});return VarRefProto}),define(&quot;internaltypes/assignmentrequest&quot;,[&quot;utils&quot;],function(_ref18){var assert=_ref18.assert,assignmentRequest=Object.freeze({assignmentRequest:!0,TwineScript_TypeName:&quot;an assignment operation&quot;,TwineScript_ObjectName:&quot;an assignment operation&quot;,TwineScript_Unobservable:!0,create:function(dest,src,operator){return assert(&quot;propertyChain&quot;in dest&amp;&amp;&quot;object&quot;in dest),Object.assign(Object.create(this),{dest:dest,src:src,operator:operator})}});return assignmentRequest}),define(&quot;twinescript/operations&quot;,[&quot;state&quot;,&quot;datatypes/colour&quot;,&quot;internaltypes/assignmentrequest&quot;,&quot;utils/operationutils&quot;,&quot;internaltypes/twineerror&quot;],function(State,Colour,AssignmentRequest,_ref19,TwineError){function onlyPrimitives(type,fn,operationVerb,message){return operationVerb=operationVerb||&quot;do this to&quot;,function(left,right){1===fn.length&amp;&amp;(right=left);var error=void 0;return(error=TwineError.containsError(left,right))?error:(&quot;undefined&quot;==typeof left?&quot;undefined&quot;:_typeof(left))!==type||(&quot;undefined&quot;==typeof right?&quot;undefined&quot;:_typeof(right))!==type?TwineError.create(&quot;operation&quot;,&quot;I can only &quot;+operationVerb+&quot; &quot;+type+&quot;s, not &quot;+objectName((&quot;undefined&quot;==typeof left?&quot;undefined&quot;:_typeof(left))!==type?left:right)+&quot;.&quot;,message):fn(left,right)}}function doNotCoerce(fn){return function(left,right){var error=void 0;return(error=TwineError.containsError(left,right))?error:left&amp;&amp;left.varref?TwineError.create(&quot;operation&quot;,&quot;I can&apos;t give an expression a new value.&quot;):(&quot;undefined&quot;==typeof left?&quot;undefined&quot;:_typeof(left))!==(&quot;undefined&quot;==typeof right?&quot;undefined&quot;:_typeof(right))||collectionType(left)!==collectionType(right)?coerceToString(fn,left,right)||TwineError.create(&quot;operation&quot;,objectName(left)+&quot; isn&apos;t the same type of data as &quot;+objectName(right)):fn(left,right)}}function comparisonOp(fn){return function(left,right){return It=left,fn(left,right)}}var isObject=_ref19.isObject,collectionType=_ref19.collectionType,coerceToString=_ref19.coerceToString,is=_ref19.is,contains=_ref19.contains,objectName=_ref19.objectName,Operations=void 0,It=0,andOrNotMessage=&quot;If one of these values is a number, you may want to write a check that it &apos;is not 0&apos;. Also, if one is a string, you may want to write a check that it &apos;is not \&quot;\&quot; &apos;.&quot;;return Operations={create:function(section){var ret=Object.create(this);return ret.Identifiers={get it(){return It},get time(){return Date.now()-section.timestamp}},ret},and:onlyPrimitives(&quot;boolean&quot;,doNotCoerce(function(l,r){return l&amp;&amp;r}),&quot;use &apos;and&apos; to join&quot;,andOrNotMessage),or:onlyPrimitives(&quot;boolean&quot;,doNotCoerce(function(l,r){return l||r}),&quot;use &apos;or&apos; to join&quot;,andOrNotMessage),not:onlyPrimitives(&quot;boolean&quot;,function(e){return!e},&quot;use &apos;not&apos; to invert&quot;,andOrNotMessage),&quot;+&quot;:doNotCoerce(function(l,r){if(Array.isArray(l))return[].concat(_toConsumableArray(l),_toConsumableArray(r));var ret=void 0;return l instanceof Map?(ret=new Map(l),r.forEach(function(v,k){return ret.set(k,v)}),ret):l instanceof Set?(ret=new Set(l),r.forEach(function(v){return ret.add(v)}),ret):&quot;function&quot;==typeof l[&quot;TwineScript_+&quot;]?l[&quot;TwineScript_+&quot;](r):&quot;string|number|boolean&quot;.includes(&quot;undefined&quot;==typeof l?&quot;undefined&quot;:_typeof(l))?l+r:TwineError.create(&quot;operation&quot;,&quot;I can&apos;t use + on &quot;+objectName(l)+&quot;.&quot;)}),&quot;-&quot;:doNotCoerce(function(l,r){if(Array.isArray(l))return l.filter(function(e){return-1===r.indexOf(e)});var ret=void 0;return l instanceof Set?(ret=new Set(l),r.forEach(function(v){return ret[&quot;delete&quot;](v)}),ret):&quot;string&quot;==typeof l?l.split(r).join(&quot;&quot;):l-r}),&quot;*&quot;:onlyPrimitives(&quot;number&quot;,doNotCoerce(function(l,r){return l*r}),&quot;multiply&quot;),&quot;/&quot;:onlyPrimitives(&quot;number&quot;,doNotCoerce(function(l,r){return 0===r?TwineError.create(&quot;operation&quot;,&quot;I can&apos;t divide &quot;+objectName(l)+&quot; by zero.&quot;):l/r}),&quot;divide&quot;),&quot;%&quot;:onlyPrimitives(&quot;number&quot;,doNotCoerce(function(l,r){return 0===r?TwineError.create(&quot;operation&quot;,&quot;I can&apos;t modulo &quot;+objectName(l)+&quot; by zero.&quot;):l%r}),&quot;modulus&quot;),&quot;<":comparisonop(onlyprimitives("number",donotcoerce(function(l,r){return r="">l}),&quot;do &lt; to&quot;)),&quot;&gt;&quot;:comparisonOp(onlyPrimitives(&quot;number&quot;,doNotCoerce(function(l,r){return l&gt;r}),&quot;do &gt; to&quot;)),&quot;<=":comparisonop(onlyprimitives("number",donotcoerce(function(l,r){return r="">=l}),&quot;do <= to")),"="">=&quot;:comparisonOp(onlyPrimitives(&quot;number&quot;,doNotCoerce(function(l,r){return l&gt;=r}),&quot;do &gt;= to&quot;)),is:comparisonOp(is),isNot:comparisonOp(function(l,r){return!Operations.is(l,r)}),contains:comparisonOp(contains),isIn:comparisonOp(function(l,r){return contains(r,l)}),makeSpreader:function(val){return{value:val,spreader:!0}},makeAssignmentRequest:function(dest,src,operator){var error=TwineError.containsError(dest,src);return error?error:src&amp;&amp;src.TwineScript_Unobservable?TwineError.create(&quot;operation&quot;,&quot;That type of value can&apos;t be stored.&quot;):isObject(dest)&amp;&amp;&quot;propertyChain&quot;in dest?AssignmentRequest.create(dest,src,operator):TwineError.create(&quot;operation&quot;,&quot;I can&apos;t store a new value inside &quot;+objectName(dest)+&quot;.&quot;)},setIt:function(e){return TwineError.containsError(e)?e:e.varref?(It=e.get(),e):TwineError.create(&quot;operation&quot;,&quot;I can&apos;t put a new value into &quot;+objectName(e)+&quot;.&quot;)}},Object.freeze(Operations)}),define(&quot;twinescript/environ&quot;,[&quot;macros&quot;,&quot;state&quot;,&quot;utils&quot;,&quot;datatypes/colour&quot;,&quot;internaltypes/varref&quot;,&quot;internaltypes/twineerror&quot;,&quot;twinescript/operations&quot;],function(Macros,State,Utils,Colour,VarRef,TwineError,OperationsProto){return function(section){&quot;object&quot;===(&quot;undefined&quot;==typeof section?&quot;undefined&quot;:_typeof(section))&amp;&#xA7;ion||Utils.impossible(&quot;TwineScript.environ&quot;,&quot;no Section argument was given!&quot;);var Operations=OperationsProto.create(section);return section.eval=function(){try{return eval(Array.from(arguments).join(&quot;&quot;))}catch(e){return Utils.log(e),Utils.log(Array.from(arguments).join(&quot;&quot;)),e}},section}}),define(&quot;internaltypes/pseudohookset&quot;,[&quot;jquery&quot;,&quot;utils/hookutils&quot;],function($,_ref20){var wrapTextNodes=_ref20.wrapTextNodes,PseudoHookSet=Object.freeze({forEach:function(fn){var e=wrapTextNodes(this.selector,this.section.dom,&quot;<tw-pseudo-hook>&quot;).parent();e.each(function(i){fn($(this),i)}),e.contents().unwrap().parent().each(function(){this.normalize()})},create:function(section,pseudoHookSelector){var ret=Object.create(this);return ret.section=section,ret.selector=pseudoHookSelector,ret}});return PseudoHookSet}),define(&quot;internaltypes/changedescriptor&quot;,[&quot;jquery&quot;,&quot;utils&quot;,&quot;renderer&quot;],function($,_ref21,_ref22){var assertOnlyHas=_ref21.assertOnlyHas,impossible=_ref21.impossible,transitionIn=_ref21.transitionIn,exec=_ref22.exec,changeDescriptorShape=void 0,ChangeDescriptor={source:&quot;&quot;,enabled:!0,target:null,append:&quot;append&quot;,transition:&quot;instant&quot;,transitionTime:0,styles:null,attr:null,data:null,section:null,create:function(properties,changer){var ret=Object.assign(Object.create(this),{attr:[].concat(this.attr||[]),styles:[].concat(this.styles||[])},properties);return changer&amp;&amp;changer.run(ret),ret},update:function(){var _this2=this,target=this.target;Array.isArray(this.styles)&amp;&amp;setTimeout(function(){var _Object;return target.css((_Object=Object).assign.apply(_Object,_toConsumableArray([{}].concat(_this2.styles))))}),this.attr&amp;&amp;this.attr.forEach(function(e){return target.attr(e)}),this.data&amp;&amp;target.data(this.data)},render:function(){var target=this.target,source=this.source,transition=this.transition,enabled=this.enabled,append=this.append;if(assertOnlyHas(this,changeDescriptorShape),!target||!enabled)return $();if(!(append in target)){if(&quot;replace&quot;!==append)return void impossible(&quot;Section.render&quot;,&quot;The target jQuery doesn&apos;t have a &apos;&quot;+append+&quot;&apos; method.&quot;);target.empty(),append=&quot;append&quot;}var dom=$(source&amp;&amp;$.parseHTML(exec(source),document,!0));return target[append](dom.length?dom:void 0),this.update(),transition&amp;&amp;transitionIn(&quot;replace&quot;===append?target:dom,transition),dom}};return changeDescriptorShape=Object.keys(ChangeDescriptor),Object.seal(ChangeDescriptor)}),define(&quot;internaltypes/twinenotifier&quot;,[&quot;jquery&quot;,&quot;utils&quot;],function($,_ref23){var impossible=_ref23.impossible,TwineNotifier={create:function(message){return message||impossible(&quot;TwineNotifier.create&quot;,&quot;called with only 1 string.&quot;),Object.assign(Object.create(TwineNotifier),{message:message})},render:function(){return $(&quot;<tw-notifier>&quot;).attr(&quot;message&quot;,this.message)}};return TwineNotifier}),define(&quot;section&quot;,[&quot;jquery&quot;,&quot;utils&quot;,&quot;utils/selectors&quot;,&quot;renderer&quot;,&quot;twinescript/environ&quot;,&quot;state&quot;,&quot;utils/hookutils&quot;,&quot;datatypes/hookset&quot;,&quot;internaltypes/pseudohookset&quot;,&quot;internaltypes/changedescriptor&quot;,&quot;internaltypes/twineerror&quot;,&quot;internaltypes/twinenotifier&quot;],function($,Utils,Selectors,Renderer,Environ,State,HookUtils,HookSet,PseudoHookSet,ChangeDescriptor,TwineError,TwineNotifier){function applyExpressionToHook(expr,result){var nextHook=expr.next(Selectors.hook);if(result&amp;&amp;result.changer)if(nextHook.length){var enabled=this.renderInto(nextHook.popAttr(&quot;source&quot;),nextHook,result);if(!enabled)return expr.addClass(&quot;false&quot;),void(&quot;elseif&quot;!==Utils.insensitiveName(expr.attr(&quot;name&quot;))&amp;&amp;(this.stack[0].lastHookShown=!1))}else expr.replaceWith(TwineError.create(&quot;changer&quot;,&quot;The (&quot;+result.macroName+&quot;:) command should be assigned to a variable or attached to a hook.&quot;,&quot;Macros like this should usually be touching the left side of a hook: &quot;+expr.attr(&quot;title&quot;)+&quot;[Some text]&quot;).render(expr.attr(&quot;title&quot;)));else if(result&amp;&amp;result.live)runLiveHook.call(this,nextHook,result.delay,result.event);else if((result===!1||null===result||void 0===result)&amp;&amp;(nextHook.removeAttr(&quot;source&quot;),expr.addClass(&quot;false&quot;),nextHook.length))return void(this.stack[0].lastHookShown=!1);nextHook.length&amp;&amp;(this.stack[0].lastHookShown=!0)}function runExpression(expr){var result=this.eval(expr.popAttr(&quot;js&quot;)||&quot;&quot;);if(TwineError.containsError(result))result instanceof Error&amp;&amp;(result=TwineError.fromError(result)),expr.replaceWith(result.render(expr.attr(&quot;title&quot;),expr));else if(TwineNotifier.isPrototypeOf(result))expr.append(result.render());else if(result&amp;&amp;result.TwineScript_Print&amp;&amp;!result.changer){if(result=result.TwineScript_Print(),result.earlyExit)return!1;result instanceof $?expr.append(result):TwineError.containsError(result)?(result instanceof Error&amp;&amp;(result=TwineError.fromError(result)),expr.replaceWith(result.render(expr.attr(&quot;title&quot;),expr))):this.renderInto(result,expr)}else&quot;string&quot;==typeof result||&quot;number&quot;==typeof result||&quot;object&quot;===(&quot;undefined&quot;==typeof result?&quot;undefined&quot;:_typeof(result))&amp;&amp;result&amp;&amp;result.toString!==Object.prototype.toString?this.renderInto(result+&quot;&quot;,expr):applyExpressionToHook.call(this,expr,result)}function collapse(elem){function noVerbatim(e){return 0===$(this||e).parentsUntil(&quot;tw-collapsed&quot;).filter(&quot;tw-verbatim, tw-expression, [collapsing=false]&quot;).length}var beforeNode=elem.prevTextNode();$(beforeNode).parents(&quot;tw-collapsed&quot;).length||(beforeNode=null);var afterNode=elem.nextTextNode();$(afterNode).parents(&quot;tw-collapsed&quot;).length||(afterNode=null),Utils.findAndFilter(elem,&quot;br:not([data-raw])&quot;).filter(noVerbatim).replaceWith(document.createTextNode(&quot; &quot;));var nodes=elem.textNodes(),finalSpaces=0;nodes.reduce(function(prevNode,node){return noVerbatim(node)?(node.textContent=node.textContent.replace(/\s+/g,&quot; &quot;),&quot; &quot;!==node.textContent[0]||prevNode&amp;&amp;prevNode.textContent&amp;&amp;!(prevNode.textContent.search(/\s$/)&gt;-1)||(node.textContent=node.textContent.slice(1)),node):document.createTextNode(&quot;A&quot;)},beforeNode),[].concat(_toConsumableArray(nodes)).reverse().every(function(node){return noVerbatim(node)?node.textContent.match(/^\s*$/)?(finalSpaces+=node.textContent.length,node.textContent=&quot;&quot;,!0):(node.textContent=node.textContent.replace(/\s+$/,function(substr){return finalSpaces+=substr.length,&quot;&quot;}),!1):!1}),finalSpaces&gt;0&amp;&amp;afterNode&amp;&amp;(nodes[nodes.length-1].textContent+=&quot; &quot;),elem[0]&amp;&amp;supportsNormalize()&amp;&amp;elem[0].normalize()}function runLiveHook(target,delay){var _this3=this,source=target.popAttr(&quot;source&quot;)||&quot;&quot;;delay=void 0===delay?20:delay;var recursive=function recursive(){_this3.inDOM()&amp;&amp;(_this3.renderInto(source,target,{append:&quot;replace&quot;}),target.find(Selectors.expression+&quot;[name=&apos;stop&apos;]&quot;).length||_this3.inDOM()&amp;&amp;setTimeout(recursive,delay))};setTimeout(recursive,delay)}var Section=void 0,supportsNormalize=function(){var result=void 0;return function(){if(void 0!==result)return result;var p=$(&quot;<p>&quot;);return p[0].normalize?(p.append(document.createTextNode(&quot;0-&quot;),document.createTextNode(&quot;2&quot;),document.createTextNode(&quot;&quot;))[0].normalize(),result=1===p.contents().length):result=!1}}();return Section={create:function(dom){Utils.assert(dom instanceof $&amp;&amp;1===dom.length);var ret=Object.assign(Object.create(this),{timestamp:Date.now(),dom:dom||Utils.storyElement,stack:[],enchantments:[]});return ret=Environ(ret)},inDOM:function(){return $(Utils.storyElement).find(this.dom).length&gt;0},$:function(str){return Utils.$(str,this.dom)},evaluateTwineMarkup:function(expr){var p=$(&quot;</p><p>&quot;);this.renderInto(expr,p);var errors=void 0;return(errors=p.find(&quot;tw-error&quot;)).length&gt;0?errors:p.text()},selectHook:function(selectorString){if(HookSet.isPrototypeOf(selectorString)||PseudoHookSet.isPrototypeOf(selectorString))return selectorString;switch(HookUtils.selectorType(selectorString)){case&quot;hookRef&quot;:return HookSet.create(this,selectorString);case&quot;html&quot;:return Utils.findAndFilter(this.dom.add(Utils.storyElement),selectorString.slice(1,-1));case&quot;string&quot;:return PseudoHookSet.create(this,selectorString)}return null},renderInto:function(source,target,changers){var desc=ChangeDescriptor.create({target:target,source:source});if(desc.section=this,changers&amp;&amp;[].concat(changers).forEach(function(changer){changer&amp;&amp;changer.changer?changer.run(desc):Object.assign(desc,changer)}),&quot;string&quot;==typeof desc.target&amp;&amp;(desc.target=this.selectHook(desc.target)),!desc.target)return Utils.impossible(&quot;Section.renderInto&quot;,&quot;ChangeDescriptor has source but not a target!&quot;),!1;var dom=$();this.stack.length&gt;=50?dom=TwineError.create(&quot;infinite&quot;,&quot;Printing this expression may have trapped me in an infinite loop.&quot;).render(target.attr(&quot;title&quot;)).replaceAll(target):desc.target instanceof $?dom=desc.render():desc.target.forEach(function(e){dom=dom.add(desc.create({target:e}).render())}),this.stack.unshift(Object.create(null));var section=this;return Utils.findAndFilter(dom,Selectors.hook+&quot;,&quot;+Selectors.expression).each(function(){
var expr=$(this);switch(expr.tag()){case Selectors.hook:expr.attr(&quot;source&quot;)&amp;&amp;(section.renderInto(expr.attr(&quot;source&quot;),expr),expr.removeAttr(&quot;source&quot;));break;case Selectors.expression:return runExpression.call(section,expr)}}),dom.length&amp;&amp;target instanceof $&amp;&amp;target.is(Selectors.hook)&amp;&amp;target.parents(&quot;tw-collapsed&quot;).length&gt;0&amp;&amp;collapse(dom),Utils.findAndFilter(dom,Selectors.collapsed).each(function(){collapse($(this))}),this.stack.shift(),0===this.stack.length&amp;&amp;this.updateEnchantments(),desc.enabled},updateEnchantments:function(){this.enchantments.forEach(function(e){e.disenchant(),e.enchantScope()})}},Object.preventExtensions(Section)}),define(&quot;engine&quot;,[&quot;jquery&quot;,&quot;utils&quot;,&quot;utils/selectors&quot;,&quot;state&quot;,&quot;section&quot;,&quot;passages&quot;],function($,Utils,Selectors,State,Section,Passages){function createPassageElement(){var container=$(&quot;<tw-passage><tw-sidebar>&quot;),sidebar=container.children(Selectors.sidebar);options.permalink&amp;&amp;State.save&amp;&amp;sidebar.append(&apos;<tw-icon tabindex="0" class="permalink" title="Permanent link to this passage"><a href="#&apos;+State.save()+&apos;">&#xA7;&apos;);var back=$(&apos;<tw-icon tabindex="0" class="undo" title="Undo">&#x21B6;</tw-icon>&apos;).click(Engine.goBack),fwd=$(&apos;<tw-icon tabindex="0" class="redo" title="Redo">&#x21B7;</tw-icon>&apos;).click(Engine.goForward);return State.pastLength<=0&&back.css("visibility","hidden"),state.futurelength<=0&&fwd.css("visibility","hidden"),sidebar.append(back).append(fwd),container}function setuppassageelement(tagtype,setuppassage){return"<tw-include="" type="+tagType+" title="" +escape(setuppassage.get("name"))+""="">&quot;+setupPassage.get(&quot;source&quot;)+&quot;&quot;}function showPassage(name,stretch){var t8n=&quot;instant&quot;,passageData=Passages.get(name),story=Utils.storyElement,parent=story.parent();parent.is(Selectors.enchantment)&amp;&amp;(parent=story.unwrap().parent()),passageData&amp;&amp;passageData instanceof Map&amp;&amp;passageData.has(&quot;source&quot;)||impossible(&quot;Engine.showPassage&quot;,&quot;There&apos;s no passage with the name \&quot;&quot;+name+&apos;&quot;!&apos;),story.detach();var oldPassages=Utils.$(story.children(passageSelector));!stretch&amp;&amp;t8n&amp;&amp;transitionOut(oldPassages,t8n);var newPassage=createPassageElement().appendTo(story);assert(newPassage.length&gt;0);var section=Section.create(newPassage),source=passageData.get(&quot;source&quot;);source=(options.debug?Passages.getTagged(&quot;debug-header&quot;).map(setupPassageElement.bind(0,&quot;debug-header&quot;)).join(&quot;&quot;):&quot;&quot;)+Passages.getTagged(&quot;header&quot;).map(setupPassageElement.bind(0,&quot;header&quot;)).join(&quot;&quot;)+source+Passages.getTagged(&quot;footer&quot;).map(setupPassageElement.bind(0,&quot;footer&quot;)).join(&quot;&quot;)+(options.debug?Passages.getTagged(&quot;debug-footer&quot;).map(setupPassageElement.bind(0,&quot;debug-footer&quot;)).join(&quot;&quot;):&quot;&quot;),State.pastLength<=0&&(options.debug&&(source=passages.gettagged("debug-startup").map(setuppassageelement.bind(0,"debug-startup")).join("")+source),source=passages.gettagged("startup").map(setuppassageelement.bind(0,"startup")).join("")+source),section.renderinto(source,newpassage,[{transition:"dissolve"}]),$("html").append(story.parent().length?story.parent():story),scroll(0,stretch?newpassage.offset().top-.05*$(window).height():parent.offset().top)}var escape="Utils.escape,impossible=Utils.impossible,passageSelector=Utils.passageSelector,transitionOut=Utils.transitionOut,assert=Utils.assert,Engine=void" 0,options="Object.create(null);return" engine="{goBack:function(){State.rewind()&amp;&amp;showPassage(State.passage)},goForward:function(){State.fastForward()&amp;&amp;showPassage(State.passage)},goToPassage:function(id,stretch){State.play(id),showPassage(id,stretch)},showPassage:showPassage,options:options},Object.freeze(Engine)}),define(" macrolib="" values",["macros","utils="" operationutils","internaltypes="" twineerror"],function(macros,_ref24,twineerror){function"="" mathfilter(fn){return="" function(args){var="" result="fn.apply(void" 0,_toconsumablearray(args));return"number"!="typeof" result||isnan(result)?twineerror.create("macrocall","this="" mathematical="" expression="" doesn't="" compute!"):result}}function="" either(){return="" arguments.length<="~~(Math.random()*arguments.length)+0?void" 0:arguments[~~(math.random()*arguments.length)+0]}var="" subset="_ref24.subset,objectName=_ref24.objectName,_Macros$TypeSignature=Macros.TypeSignature,rest=_Macros$TypeSignature.rest,zeroOrMore=_Macros$TypeSignature.zeroOrMore,Any=_Macros$TypeSignature.Any;Macros.add([" text","string"],function(){for(var"="" _len8="arguments.length,args=Array(_len8">1?_len8-1:0),_key8=1;_len8&gt;_key8;_key8++)args[_key8-1]=arguments[_key8];return args.join(&quot;&quot;)},[zeroOrMore(Macros.TypeSignature.either(String,Number,Boolean,Array))])(&quot;substring&quot;,function(_,string,a,b){return subset(string,a,b)},[String,Number,Number])([&quot;num&quot;,&quot;number&quot;],function(_,expr){return Number.isNaN(+expr)?TwineError.create(&quot;macrocall&quot;,&quot;I couldn&apos;t convert &quot;+objectName(expr)+&quot; to a number.&quot;):+expr},[String]),{weekday:[function(){return[&quot;Sun&quot;,&quot;Mon&quot;,&quot;Tues&quot;,&quot;Wednes&quot;,&quot;Thurs&quot;,&quot;Fri&quot;,&quot;Satur&quot;][(new Date).getDay()]+&quot;day&quot;},null],monthday:[function(){return(new Date).getDate()},null],currenttime:[function(){var d=new Date,am=d.getHours()<12;return d.gethours()%12+":"+d.getminutes()+"="" "+(am?"a":"p")+"m"},null],currentdate:[function(){return(new="" date).todatestring()},null],min:[math.min,rest(number)],max:[math.max,rest(number)],abs:[math.abs,number],sign:[math.sign,number],sin:[math.sin,number],cos:[math.cos,number],tan:[math.tan,number],floor:[math.floor,number],round:[math.round,number],ceil:[math.ceil,number],pow:[math.pow,number],exp:[math.exp,number],sqrt:[mathfilter(math.sqrt),number],log:[mathfilter(math.log),number],log10:[mathfilter(math.log10),number],log2:[mathfilter(math.log2),number],random:[function(a,b){if(a!="=(0|a)||b!==(0|b))return" twineerror.create("macrocall","(random:)="" only="" accepts="" whole="" numbers,="" not="" "+objectname(a!="=(0|a)?a:b));var" from="void" 0,to="void" 0;return="" b?(from="Math.min(a,b),to=Math.max(a,b)):(from=0,to=a),to+=1,~~(Math.random()*(to-from))+from},[Number,Macros.TypeSignature.optional(Number)]],either:[either,rest(Any)],alert:[function(text){return" window.alert(text||"")},string],prompt:[function(text,value){return="" window.prompt(text||"",value||"")||""},string,string],confirm:[function(text){return="" window.confirm(text||"")},string],openurl:[window.open,string],reload:[window.location.reload.bind(window.location),null],gotourl:[window.location.assign.bind(window.location),string],pageurl:[function(){return="" window.location.href},null],"":function(){var="" _this4="this;Object.keys(this).forEach(function(key){key&amp;&amp;!function(){var" fn="_this4[key][0],typeSignature=_this4[key][1];Macros.add(key,function(){for(var" _len9="arguments.length,rest=Array(_len9">1?_len9-1:0),_key9=1;_len9&gt;_key9;_key9++)rest[_key9-1]=arguments[_key9];return fn.apply(void 0,rest)},typeSignature)}()})}}[&quot;&quot;]()}),function(global){!function(){if(!global.requestAnimationFrame){global.webkitRequestAnimationFrame&amp;&amp;(global.requestAnimationFrame=global.webkitRequestAnimationFrame,global.cancelAnimationFrame=global.webkitCancelAnimationFrame||global.webkitCancelRequestAnimationFrame);var lastTime=0;global.requestAnimationFrame=function(callback){var currTime=(new Date).getTime(),timeToCall=Math.max(0,16-(currTime-lastTime)),id=global.setTimeout(function(){callback(currTime+timeToCall)},timeToCall);return lastTime=currTime+timeToCall,id},global.cancelAnimationFrame=function(id){clearTimeout(id)}}}(),&quot;function&quot;==typeof define&amp;&amp;define(&quot;requestAnimationFrame&quot;,[],function(){return global.requestAnimationFrame})}(window),define(&quot;macrolib/commands&quot;,[&quot;requestAnimationFrame&quot;,&quot;macros&quot;,&quot;utils&quot;,&quot;state&quot;,&quot;passages&quot;,&quot;engine&quot;,&quot;internaltypes/twineerror&quot;,&quot;utils/operationutils&quot;],function(requestAnimationFrame,Macros,_ref25,State,Passages,Engine,TwineError,_ref26){function storagePrefix(text){return&quot;(&quot;+text+&quot; &quot;+Engine.options.ifid+&quot;) &quot;}var toJSLiteral=_ref25.toJSLiteral,unescape=_ref25.unescape,isObject=_ref26.isObject,_Macros$TypeSignature2=Macros.TypeSignature,Any=_Macros$TypeSignature2.Any,optional=_Macros$TypeSignature2.optional,hasStorage=!!localStorage&amp;&amp;function(){try{return localStorage.setItem(&quot;test&quot;,&quot;1&quot;),localStorage.removeItem(&quot;test&quot;),!0}catch(e){return!1}}();Macros.add(&quot;display&quot;,function(_,name){return{TwineScript_ObjectName:&quot;a (display: &quot;+toJSLiteral(name)+&quot;) command&quot;,TwineScript_TypeName:&quot;a (display:) command&quot;,TwineScript_Print:function(){return Passages.has(name)?unescape(Passages.get(name).get(&quot;source&quot;)):TwineError.create(&quot;macrocall&quot;,&quot;I can&apos;t (display:) the passage &apos;&quot;+name+&quot;&apos; because it doesn&apos;t exist.&quot;)}}},[String])(&quot;print&quot;,function print(_,expr){if(TwineError.containsError(expr))return expr;if(expr&amp;&amp;&quot;function&quot;==typeof expr.TwineScript_Print)expr=expr.TwineScript_Print();else if(expr instanceof Map){if(expr=Array.from(expr.entries()),TwineError.containsError(expr))return expr;expr=expr.reduce(function(html,pair){return html+&quot;<tr><td>&quot;+print(_,pair[0]).TwineScript_Print()+&quot;</td><td>&quot;+print(_,pair[1]).TwineScript_Print()+&quot;</td></tr>&quot;},&quot;<table class="datamap">&quot;)+&quot;</table>&quot;}else if(expr instanceof Set)expr=Array.from(expr.values());else if(Array.isArray(expr))expr+=&quot;&quot;;else{if(isObject(expr))throw new TypeError(&quot;I don&apos;t know how to print this value yet.&quot;);expr+=&quot;&quot;}return{TwineScript_ObjectName:&quot;a (print: &quot;+toJSLiteral(expr)+&quot;) command&quot;,TwineScript_TypeName:&quot;a (print:) command&quot;,TwineScript_Print:function(){return expr}}},[Any])(&quot;goto&quot;,function(_,name){return{TwineScript_ObjectName:&quot;a (go-to: &quot;+toJSLiteral(name)+&quot;) command&quot;,TwineScript_TypeName:&quot;a (go-to:) command&quot;,TwineScript_Print:function(){return Passages.has(name)?(requestAnimationFrame(Engine.goToPassage.bind(Engine,name,!1)),{earlyExit:1}):TwineError.create(&quot;macrocall&quot;,&quot;I can&apos;t (go-to:) the passage &apos;&quot;+name+&quot;&apos; because it doesn&apos;t exist.&quot;)}}},[String])(&quot;live&quot;,function(_,delay){return{TwineScript_ObjectName:&quot;a (live: &quot;+delay+&quot;) command&quot;,TwineScript_TypeName:&quot;a (live:) command&quot;,live:!0,delay:delay}},[optional(Number)])(&quot;stop&quot;,function(){return{TwineScript_ObjectName:&quot;a (stop:) command&quot;,TwineScript_TypeName:&quot;a (stop:) command&quot;,TwineScript_Print:function(){return&quot;&quot;}}},[])(&quot;savegame&quot;,function(_,slotName,fileName){if(fileName=fileName||&quot;&quot;,!hasStorage)return!1;var serialisation=State.serialise();if(!serialisation)return TwineError.create(&quot;saving&quot;,&quot;The game&apos;s variables contain a complex data structure; the game can no longer be saved.&quot;);try{return localStorage.setItem(storagePrefix(&quot;Saved Game&quot;)+slotName,serialisation),localStorage.setItem(storagePrefix(&quot;Saved Game Filename&quot;)+slotName,fileName),!0}catch(e){return!1}},[String,optional(String)])(&quot;loadgame&quot;,function(_,slotName){return{TwineScript_ObjectName:&quot;a (load-game:) command&quot;,TwineScript_TypeName:&quot;a (load-game:) command&quot;,TwineScript_Print:function(){var saveData=localStorage.getItem(storagePrefix(&quot;Saved Game&quot;)+slotName);return saveData?(State.deserialise(saveData),requestAnimationFrame(Engine.showPassage.bind(Engine,State.passage,!1)),{earlyExit:1}):TwineError.create(&quot;saving&quot;,&quot;I can&apos;t find a save slot named &apos;&quot;+slotName+&quot;&apos;!&quot;)}}},[String])}),define(&quot;macrolib/datastructures&quot;,[&quot;jquery&quot;,&quot;utils/naturalsort&quot;,&quot;macros&quot;,&quot;utils/operationutils&quot;,&quot;state&quot;,&quot;engine&quot;,&quot;passages&quot;,&quot;internaltypes/assignmentrequest&quot;,&quot;internaltypes/twineerror&quot;,&quot;internaltypes/twinenotifier&quot;],function($,NaturalSort,Macros,_ref27,State,Engine,Passages,AssignmentRequest,TwineError,TwineNotifier){var objectName=_ref27.objectName,subset=_ref27.subset,collectionType=_ref27.collectionType,isValidDatamapName=_ref27.isValidDatamapName,_Macros$TypeSignature3=Macros.TypeSignature,optional=_Macros$TypeSignature3.optional,rest=_Macros$TypeSignature3.rest,zeroOrMore=_Macros$TypeSignature3.zeroOrMore,Any=_Macros$TypeSignature3.Any;Macros.add(&quot;set&quot;,function(){for(var debugMessage=&quot;&quot;,i=0;i<arguments.length-1;i+=1){var ar="arguments.length&lt;=i+1?void" 0:arguments[i+1];if("into"="==ar.operator)return" twineerror.create("macrocall","please="" say="" 'to'="" when="" using="" the="" (set:)="" macro.");var="" result="ar.dest.set(ar.src);if(TwineError.isPrototypeOf(result))return" result;engine.options.debug&&(debugmessage+="(debugMessage?" ;"="" ":"")+objectname(ar.dest)+"="" is="" now="" "+objectname(ar.src))}return{twinescript_typename:"a="" operation",twinescript_objectname:"a="" operation",twinescript_unobservable:!0,twinescript_print:function(){return="" debugmessage&&twinenotifier.create(debugmessage).render()}}},[rest(assignmentrequest)])("put",function(){for(var="" debugmessage="" ,i="0;i&lt;arguments.length-1;i+=1){var" 0:arguments[i+1];if("into"!="=ar.operator)return" 'into'="" (put:)="" debugmessage&&twinenotifier.create(debugmessage).render()}}},[rest(assignmentrequest)])("move",function(_,ar){if("into"!="=ar.operator)return" (move:)="" macro.");if(ar.src&&ar.src.varref){var="" get="ar.src.get(),error=void" 0;if(error="TwineError.containsError(get))return" error;ar.dest.set(get),ar.src["delete"]()}else="" ar.dest.set(ar.src),ar.src.twinescript_deletevalue&&ar.src.twinescript_deletevalue();return{twinescript_typename:"a="" operation",twinescript_unobservable:!0,twinescript_print:""}},[rest(assignmentrequest)])(["a","array"],function(){for(var="" _len10="arguments.length,args=Array(_len10">1?_len10-1:0),_key10=1;_len10&gt;_key10;_key10++)args[_key10-1]=arguments[_key10];return args},zeroOrMore(Any))(&quot;range&quot;,function range(_,a,b){if(a&gt;b)return range(_,b,a);var ret=[a];for(b-=a;b--&gt;0;)ret.push(++a);return ret},[Number,Number])(&quot;subarray&quot;,function(_,array,a,b){return subset(array,a,b)},[Array,Number,Number])(&quot;shuffled&quot;,function(){for(var _len11=arguments.length,args=Array(_len11&gt;1?_len11-1:0),_key11=1;_len11&gt;_key11;_key11++)args[_key11-1]=arguments[_key11];return args.reduce(function(a,e,ind){var j=Math.random()*(ind+1)|0;return j===ind?a.push(e):(a.push(a[j]),a[j]=e),a},[])},[Any,rest(Any)])(&quot;sorted&quot;,function(){for(var _len12=arguments.length,args=Array(_len12&gt;1?_len12-1:0),_key12=1;_len12&gt;_key12;_key12++)args[_key12-1]=arguments[_key12];return args.sort(NaturalSort(&quot;en&quot;))},[String,rest(String)])(&quot;rotated&quot;,function(_,number){for(var _len13=arguments.length,array=Array(_len13&gt;2?_len13-2:0),_key13=2;_len13&gt;_key13;_key13++)array[_key13-2]=arguments[_key13];return number*=-1,0===number?TwineError.create(&quot;macrocall&quot;,&quot;I can&apos;t rotate these values by 0 positions.&quot;):Math.abs(number)&gt;=array.length?TwineError.create(&quot;macrocall&quot;,&quot;I can&apos;t rotate these &quot;+array.length+&quot; values by &quot;+number+&quot; positions.&quot;):array.slice(number).concat(array.slice(0,number))},[Any,Any,rest(Any)])(&quot;datanames&quot;,function(_,map){return Array.from(map.keys()).sort(NaturalSort(&quot;en&quot;))},[Map])(&quot;datavalues&quot;,function(_,map){return Array.from(map.entries()).sort(function(a,b){return[a[0],b[0]].sort(NaturalSort(&quot;en&quot;))[0]===a[0]?-1:1}).map(function(e){return e[1]})},[Map])(&quot;history&quot;,function(){return State.pastPassageNames()},[])(&quot;passage&quot;,function(_,passageName){return Passages.get(passageName||State.passage)||TwineError.create(&quot;macrocall&quot;,&quot;There&apos;s no passage named &apos;&quot;+passageName+&quot;&apos; in this story.&quot;)},[optional(String)])(&quot;savedgames&quot;,function(){function storagePrefix(text){return&quot;(&quot;+text+&quot; &quot;+Engine.options.ifid+&quot;) &quot;}var i=0,key=void 0,savesMap=new Map;do{key=localStorage.key(i),i+=1;var prefix=storagePrefix(&quot;Saved Game&quot;);key&amp;&amp;key.startsWith(prefix)&amp;&amp;(key=key.slice(prefix.length),savesMap.set(key,localStorage.getItem(storagePrefix(&quot;Saved Game Filename&quot;)+key)))}while(key);return savesMap},[])(&quot;datamap&quot;,function(){for(var _len14=arguments.length,args=Array(_len14&gt;1?_len14-1:0),_key14=1;_len14&gt;_key14;_key14++)args[_key14-1]=arguments[_key14];var key=void 0,map=new Map,status=args.reduce(function(status,element){var error=void 0;if(TwineError.containsError(status))return status;if(void 0===key)key=element;else{if(error=TwineError.containsError(isValidDatamapName(map,key)))return error;if(map.has(key))return TwineError.create(&quot;macrocall&quot;,&quot;You used the same data name (&quot;+objectName(key)+&quot;) twice in the same (datamap:) call.&quot;);map.set(key,element),key=void 0}return status},!0);return TwineError.containsError(status)?status:void 0!==key?TwineError.create(&quot;macrocall&quot;,&quot;This datamap has a data name without a value.&quot;):map},zeroOrMore(Any))(&quot;dataset&quot;,function(){for(var _len15=arguments.length,args=Array(_len15&gt;1?_len15-1:0),_key15=1;_len15&gt;_key15;_key15++)args[_key15-1]=arguments[_key15];return new Set(args)},zeroOrMore(Any))(&quot;count&quot;,function(_,collection,value){switch(collectionType(collection)){case&quot;dataset&quot;:case&quot;datamap&quot;:return+collection.has(name);case&quot;string&quot;:return&quot;string&quot;!=typeof value?new TypeError(objectName(collection)+&quot; can&apos;t contain  &quot;+objectName(value)+&quot; because it isn&apos;t a string.&quot;):collection.split(value).length-1;case&quot;array&quot;:return collection.reduce(function(count,e){return count+(e===value)},0)}},[Any,Any])}),define(&quot;datatypes/changercommand&quot;,[&quot;utils&quot;,&quot;macros&quot;,&quot;utils/operationutils&quot;],function(_ref28,Macros,_ref29){var assert=_ref28.assert,is=_ref29.is,ChangerCommand={changer:!0,TwineScript_TypeName:&quot;a changer command&quot;,TwineScript_Print:function(){return&quot;[A &apos;&quot;+this.macroName+&quot;&apos; command]&quot;},create:function(macroName,params,next){return assert(void 0===params||Array.isArray(params)),Object.assign(Object.create(this),{macroName:macroName,params:params,next:next||null,TwineScript_ObjectName:&quot;a (&quot;+macroName+&quot;:) command&quot;})},&quot;TwineScript_+&quot;:function(other){for(var ret=this.TwineScript_Clone();ret.next;)ret=ret.next;return ret.next=other,ret},TwineScript_is:function(other){return ChangerCommand.isPrototypeOf(other)?this.macroName===other.macroName&amp;&amp;is(this.params,other.params)&amp;&amp;is(this.next,other.next):void 0},TwineScript_Clone:function(){return this.create(this.macroName,this.params,this.next)},run:function(desc){Macros.getChangerFn(this.macroName).apply(void 0,[desc].concat(_toConsumableArray(this.params))),this.next&amp;&amp;this.next.run(desc)}};return Object.freeze(ChangerCommand)}),define(&quot;macrolib/stylechangers&quot;,[&quot;jquery&quot;,&quot;macros&quot;,&quot;utils&quot;,&quot;utils/selectors&quot;,&quot;datatypes/colour&quot;,&quot;datatypes/changercommand&quot;,&quot;internaltypes/twineerror&quot;],function($,Macros,_ref30,Selectors,Colour,ChangerCommand,TwineError){var insensitiveName=_ref30.insensitiveName,assert=_ref30.assert,childrenProbablyInline=_ref30.childrenProbablyInline,_Macros$TypeSignature4=Macros.TypeSignature,either=_Macros$TypeSignature4.either,wrapped=_Macros$TypeSignature4.wrapped,IfTypeSignature=[wrapped(Boolean,&apos;If you gave a number, you may instead want to check that the number is not 0. If you gave a string, you may instead want to check that the string is not &quot;&quot;.&apos;)];Macros.addChanger(&quot;if&quot;,function(_,expr){return ChangerCommand.create(&quot;if&quot;,[expr])},function(d,expr){return d.enabled=d.enabled&amp;&amp;expr},IfTypeSignature)(&quot;unless&quot;,function(_,expr){return ChangerCommand.create(&quot;unless&quot;,[!expr])},function(d,expr){return d.enabled=d.enabled&amp;&amp;expr},IfTypeSignature)(&quot;elseif&quot;,function(section,expr){return&quot;lastHookShown&quot;in section.stack[0]?ChangerCommand.create(&quot;elseif&quot;,[section.stack[0].lastHookShown===!1&amp;&amp;!!expr]):TwineError.create(&quot;macrocall&quot;,&quot;There&apos;s no (if:) or something else before this to do (else-if:) with.&quot;)},function(d,expr){return d.enabled=d.enabled&amp;&amp;expr},IfTypeSignature)(&quot;else&quot;,function(section){return&quot;lastHookShown&quot;in section.stack[0]?ChangerCommand.create(&quot;else&quot;,[section.stack[0].lastHookShown===!1]):TwineError.create(&quot;macrocall&quot;,&quot;There&apos;s nothing before this to do (else:) with.&quot;)},function(d,expr){return d.enabled=d.enabled&amp;&amp;expr},null)([&quot;hook&quot;],function(_,name){return ChangerCommand.create(&quot;hook&quot;,[name])},function(d,name){return d.attr.push({name:name})},[String])([&quot;transition&quot;,&quot;t8n&quot;],function(_,name){var validT8ns=[&quot;dissolve&quot;,&quot;shudder&quot;,&quot;pulse&quot;];return name=insensitiveName(name),-1===validT8ns.indexOf(name)?TwineError.create(&quot;macrocall&quot;,&quot;&apos;&quot;+name+&apos;&quot; is not a valid (transition:)&apos;,&quot;Only the following names are recognised (capitalisation and hyphens ignored): &quot;+validT8ns.join(&quot;, &quot;)):ChangerCommand.create(&quot;transition&quot;,[name])},function(d,name){return d.transition=name,d},[String])(&quot;font&quot;,function(_,family){return ChangerCommand.create(&quot;font&quot;,[family])},function(d,family){return d.styles.push({&quot;font-family&quot;:family}),d},[String])(&quot;align&quot;,function(_,arrow){var style=void 0,centerIndex=arrow.indexOf(&quot;&gt;<");if(! ^(="=+">|<=+|=+><=+|<==+>)$/.test(arrow))return TwineError.create(&quot;macrocall&quot;,&apos;The (align:) macro requires an alignment arrow (&quot;==&gt;&quot;, &quot;<==", "="="><=" etc.)="" be="" provided,="" not="" "'+arrow+'"');if(~centerindex){var="" alignpercent="Math.round(centerIndex/(arrow.length-2)*50);style=Object.assign({" text-align":"center","max-width":"50%"},25="==alignPercent?{&quot;margin-left&quot;:&quot;auto&quot;,&quot;margin-right&quot;:&quot;auto&quot;}:{&quot;margin-left&quot;:alignPercent+&quot;%&quot;})}else&quot;" style="&lt;" =="=arrow[0]&amp;&amp;" "="">&quot;===arrow.slice(-1)?{&quot;text-align&quot;:&quot;justify&quot;,&quot;max-width&quot;:&quot;50%&quot;}:arrow.includes(&quot;&gt;&quot;)?{&quot;text-align&quot;:&quot;right&quot;}:{&quot;text-align&quot;:&quot;left&quot;};return style.display=&quot;block&quot;,ChangerCommand.create(&quot;align&quot;,[style])},function(d,style){d.styles.push(style)},[String])([&quot;text-colour&quot;,&quot;text-color&quot;,&quot;color&quot;,&quot;colour&quot;],function(_,CSScolour){return CSScolour&amp;&amp;CSScolour.colour&amp;&amp;(CSScolour=CSScolour.toHexString(CSScolour)),ChangerCommand.create(&quot;text-colour&quot;,[CSScolour])},function(d,CSScolour){return d.styles.push({color:CSScolour}),d},[either(String,Colour)])(&quot;text-rotate&quot;,function(_,rotation){return ChangerCommand.create(&quot;text-rotate&quot;,[rotation])},function(d,rotation){return d.styles.push({display:&quot;inline-block&quot;,transform:function(){var currentTransform=$(this).css(&quot;transform&quot;)||&quot;&quot;;return&quot;none&quot;===currentTransform&amp;&amp;(currentTransform=&quot;&quot;),currentTransform+&quot; rotate(&quot;+rotation+&quot;deg)&quot;}}),d},[Number])(&quot;background&quot;,function(_,value){return value&amp;&amp;value.colour&amp;&amp;(value=value.toHexString(value)),ChangerCommand.create(&quot;background&quot;,[value])},function(d,value){var property=void 0;return property=Colour.isHexString(value)?{&quot;background-color&quot;:value}:{&quot;background-size&quot;:&quot;cover&quot;,&quot;background-image&quot;:&quot;url(&quot;+value+&quot;)&quot;},d.styles.push(property,{display:function(){return childrenProbablyInline($(this))?&quot;initial&quot;:&quot;block&quot;}}),d},[either(String,Colour)]).apply(void 0,_toConsumableArray(function(){var colourTransparent={color:&quot;transparent&quot;},styleTagNames=Object.assign(Object.create(null),{bold:{&quot;font-weight&quot;:&quot;bold&quot;},italic:{&quot;font-style&quot;:&quot;italic&quot;},underline:{&quot;text-decoration&quot;:&quot;underline&quot;},strike:{&quot;text-decoration&quot;:&quot;line-through&quot;},superscript:{&quot;vertical-align&quot;:&quot;super&quot;,&quot;font-size&quot;:&quot;.83em&quot;},subscript:{&quot;vertical-align&quot;:&quot;sub&quot;,&quot;font-size&quot;:&quot;.83em&quot;},blink:{animation:&quot;fade-in-out 1s steps(1,end) infinite alternate&quot;},shudder:{animation:&quot;shudder linear 0.1s 0s infinite&quot;,display:&quot;inline-block&quot;},mark:{&quot;background-color&quot;:&quot;hsla(60, 100%, 50%, 0.6)&quot;},condense:{&quot;letter-spacing&quot;:&quot;-0.08em&quot;},expand:{&quot;letter-spacing&quot;:&quot;0.1em&quot;},outline:[{&quot;text-shadow&quot;:function(){var colour=$(this).css(&quot;color&quot;);return&quot;-1px -1px 0 &quot;+colour+&quot;, 1px -1px 0 &quot;+colour+&quot;,-1px  1px 0 &quot;+colour+&quot;, 1px  1px 0 &quot;+colour}},{color:function(){return $(this).css(&quot;background-color&quot;)}}],shadow:{&quot;text-shadow&quot;:function(){return&quot;0.08em 0.08em 0.08em &quot;+$(this).css(&quot;color&quot;)}},emboss:{&quot;text-shadow&quot;:function(){return&quot;0.08em 0.08em 0em &quot;+$(this).css(&quot;color&quot;)}},smear:[{&quot;text-shadow&quot;:function(){var colour=$(this).css(&quot;color&quot;);return&quot;0em   0em 0.02em &quot;+colour+&quot;,-0.2em 0em  0.5em &quot;+colour+&quot;, 0.2em 0em  0.5em &quot;+colour}},colourTransparent],blur:[{&quot;text-shadow&quot;:function(){return&quot;0em 0em 0.08em &quot;+$(this).css(&quot;color&quot;)}},colourTransparent],blurrier:[{&quot;text-shadow&quot;:function(){return&quot;0em 0em 0.2em &quot;+$(this).css(&quot;color&quot;)},&quot;user-select&quot;:&quot;none&quot;},colourTransparent],mirror:{display:&quot;inline-block&quot;,transform:&quot;scaleX(-1)&quot;},upsidedown:{display:&quot;inline-block&quot;,transform:&quot;scaleY(-1)&quot;},fadeinout:{animation:&quot;fade-in-out 2s ease-in-out infinite alternate&quot;},rumble:{animation:&quot;rumble linear 0.1s 0s infinite&quot;,display:&quot;inline-block&quot;}});return[&quot;text-style&quot;,function(_,styleName){return styleName=insensitiveName(styleName),styleName in styleTagNames?ChangerCommand.create(&quot;text-style&quot;,[styleName]):TwineError.create(&quot;macrocall&quot;,&quot;&apos;&quot;+styleName+&apos;&quot; is not a valid (textstyle:)&apos;,&quot;Only the following names are recognised (capitalisation and hyphens ignored): &quot;+Object.keys(styleTagNames).join(&quot;, &quot;))},function(d,styleName){return assert(styleName in styleTagNames),d.styles=d.styles.concat(styleTagNames[styleName]),d}]}()).concat([[String]]))(&quot;css&quot;,function(_,text){return text.trim().endsWith(&quot;;&quot;)||(text+=&quot;;&quot;),ChangerCommand.create(&quot;css&quot;,[text])},function(d,text){return d.attr.push({style:function(){return($(this).attr(&quot;style&quot;)||&quot;&quot;)+text}}),d},[String])}),define(&quot;internaltypes/enchantment&quot;,[&quot;jquery&quot;,&quot;utils&quot;,&quot;internaltypes/changedescriptor&quot;],function($,Utils,ChangeDescriptor){var Enchantment={create:function(descriptor){return Utils.assertOnlyHas(descriptor,[&quot;scope&quot;,&quot;attr&quot;,&quot;data&quot;,&quot;changer&quot;]),Object.assign(Object.create(this),{enchantments:$()},descriptor)},enchantScope:function(){var _this5=this,attr=this.attr,data=this.data,changer=this.changer,scope=this.scope;scope instanceof $&amp;&amp;(scope=Array.prototype.map.call(scope,function(e){return $(e)})),this.enchantments=$(),scope.forEach(function(e){var wrapping=e.wrapAll(&quot;<tw-enchantment>&quot;).parent();if(attr&amp;&amp;wrapping.attr(attr),data&amp;&amp;wrapping.data(data),changer){var cd=ChangeDescriptor.create({target:wrapping});changer.run(cd),cd.update()}e.is(&quot;tw-story&quot;)&amp;&amp;wrapping.css({width:&quot;100%&quot;,height:&quot;100%&quot;}),_this5.enchantments=_this5.enchantments.add(wrapping)})},disenchant:function(){this.enchantments.each(function(){$(this).contents().unwrap()})}};return Object.freeze(Enchantment)}),define(&quot;macrolib/enchantments&quot;,[&quot;jquery&quot;,&quot;utils&quot;,&quot;macros&quot;,&quot;datatypes/hookset&quot;,&quot;datatypes/changercommand&quot;,&quot;internaltypes/enchantment&quot;,&quot;internaltypes/twineerror&quot;],function($,Utils,Macros,HookSet,ChangerCommand,Enchantment,TwineError){function newEnchantmentMacroFns(enchantDesc,name){return Utils.assert(enchantDesc),$(function(){Utils.storyElement.on(enchantDesc.event+&quot;.enchantment&quot;,&quot;.&quot;+enchantDesc.classList.replace(/ /g,&quot;.&quot;),function(){var enchantment=$(this),event=enchantment.data(&quot;enchantmentEvent&quot;);event&amp;&amp;event(enchantment)})}),[function(_,selector){return selector.selector&amp;&amp;(selector=selector.selector),selector?ChangerCommand.create(name,[selector]):TwineError.create(&quot;datatype&quot;,&quot;The string given to this (&quot;+name+&quot;:) macro was empty.&quot;)},function(desc,selector){desc.enabled=!1,enchantDesc.rerender&amp;&amp;(desc.target=selector,desc.append=enchantDesc.rerender);var enchantData=Enchantment.create({attr:Object.assign({&quot;class&quot;:enchantDesc.classList},enchantDesc.classList.includes(&quot;link&quot;)?{tabIndex:&quot;0&quot;}:{}),data:{enchantmentEvent:function(){if(enchantDesc.once){var index=desc.section.enchantments.indexOf(enchantData);desc.section.enchantments.splice(index,1),enchantData.disenchant()}desc.section.renderInto(desc.source,null,Object.assign({},desc,{enabled:!0}))}},scope:desc.section.selectHook(selector)});return desc.section.enchantments.push(enchantData),enchantData.enchantScope(),desc},either(HookSet,String)]}var either=Macros.TypeSignature.either,revisionTypes=[&quot;replace&quot;,&quot;append&quot;,&quot;prepend&quot;];revisionTypes.forEach(function(e){Macros.addChanger(e,function(_,scope){return scope?ChangerCommand.create(e,[scope]):TwineError.create(&quot;datatype&quot;,&quot;The string given to this (&quot;+e+&quot;:) macro was empty.&quot;)},function(desc,scope){var collapsing=$(desc.target.context).parents().filter(&quot;tw-collapsed&quot;).length&gt;0;return collapsing||(desc.attr=[].concat(_toConsumableArray(desc.attr),[{collapsing:!1}])),desc.target=scope,desc.append=e,desc},either(HookSet,String))});var interactionTypes=[{name:&quot;click&quot;,enchantDesc:{event:&quot;click&quot;,once:!0,rerender:&quot;&quot;,classList:&quot;link enchantment-link&quot;}},{name:&quot;mouseover&quot;,enchantDesc:{event:&quot;mouseenter&quot;,once:!0,rerender:&quot;&quot;,classList:&quot;enchantment-mouseover&quot;}},{name:&quot;mouseout&quot;,enchantDesc:{event:&quot;mouseleave&quot;,once:!0,rerender:&quot;&quot;,classList:&quot;enchantment-mouseout&quot;}}];interactionTypes.forEach(function(e){return Macros.addChanger.apply(Macros,[e.name].concat(_toConsumableArray(newEnchantmentMacroFns(e.enchantDesc,e.name))))}),revisionTypes.forEach(function(revisionType){interactionTypes.forEach(function(interactionType){var enchantDesc=Object.assign({},interactionType.enchantDesc,{rerender:revisionType}),name=interactionType.name+&quot;-&quot;+revisionType;Macros.addChanger.apply(Macros,[name].concat(_toConsumableArray(newEnchantmentMacroFns(enchantDesc,name))))})})}),define(&quot;macrolib/links&quot;,[&quot;jquery&quot;,&quot;macros&quot;,&quot;utils&quot;,&quot;utils/selectors&quot;,&quot;state&quot;,&quot;passages&quot;,&quot;engine&quot;,&quot;datatypes/changercommand&quot;],function($,Macros,Utils,Selectors,State,Passages,Engine,ChangerCommand){var optional=Macros.TypeSignature.optional;$(function(){return $(Utils.storyElement).on(&quot;click.passage-link&quot;,Selectors.internalLink,function(){var link=$(this),event=link.parent().data(&quot;clickEvent&quot;);if(event)return void event(link);var next=link.attr(&quot;passage-name&quot;);next&amp;&amp;Engine.goToPassage(next,!1)})}),[[&quot;link&quot;,&quot;link-replace&quot;],[&quot;link-reveal&quot;],[&quot;link-repeat&quot;]].forEach(function(arr){return Macros.addChanger(arr,function(_,expr){return ChangerCommand.create(arr[0],[expr])},function(desc,text){var innerSource=desc.source;desc.source=&quot;<tw-link tabindex="0">&quot;+text+&quot;</tw-link>&quot;,desc.append=&quot;link&quot;===arr[0]?&quot;replace&quot;:&quot;append&quot;,desc.data={clickEvent:function(link){desc.source=innerSource,desc.section.renderInto(innerSource+&quot;&quot;,null,desc),&quot;link-reveal&quot;===arr[0]&amp;&amp;link.contents().unwrap()}}},[String])}),Macros.add([&quot;link-goto&quot;],function(section,text,passage){return{TwineScript_TypeName:&quot;a (link-goto: &quot;+Utils.toJSLiteral(text)+&quot;, &quot;+Utils.toJSLiteral(passage)+&quot;) command&quot;,TwineScript_ObjectName:&quot;a (link-goto:) command&quot;,TwineScript_Print:function(){var passageName=section.evaluateTwineMarkup(Utils.unescape(passage||text));if(passageName instanceof $)return passageName;if(!Passages.has(passageName))return&apos;<tw-broken-link passage-name="&apos;+Utils.escape(passageName)+&apos;">&apos;+(text||passage)+&quot;</tw-broken-link>&quot;;var visited=State.passageNameVisited(passageName);return&quot;<tw-link tabindex="0" "+(visited="">0?&apos;class=&quot;visited&quot; &apos;:&quot;&quot;)+&apos;passage-name=&quot;&apos;+Utils.escape(passageName)+&apos;&quot;&gt;&apos;+(text||passage)+&quot;</tw-link>&quot;}}},[String,optional(String)])}),define(&quot;macrolib&quot;,[&quot;utils&quot;,&quot;macrolib/values&quot;,&quot;macrolib/commands&quot;,&quot;macrolib/datastructures&quot;,&quot;macrolib/stylechangers&quot;,&quot;macrolib/enchantments&quot;,&quot;macrolib/links&quot;],function(_ref31){var log=_ref31.log;log(&quot;Loaded the built-in macros.&quot;)}),define(&quot;repl&quot;,[&quot;utils&quot;,&quot;markup&quot;,&quot;twinescript/compiler&quot;,&quot;twinescript/environ&quot;],function(Utils,TwineMarkup,Compiler,Environ){window.REPL=function(a){var r=Compiler(TwineMarkup.lex(&quot;(print:&quot;+a+&quot;)&quot;));return console.log(r),Environ({}).eval(r)},window.LEX=function(a){var r=TwineMarkup.lex(a);return 1===r.length?r[0]:r}}),require.config({paths:{jquery:&quot;../node_modules/jquery/dist/jquery&quot;,almond:&quot;../node_modules/almond/almond&quot;,&quot;es6-shim&quot;:&quot;../node_modules/es6-shim/es6-shim&quot;,requestAnimationFrame:&quot;../node_modules/requestanimationframe/app/requestAnimationFrame&quot;,jqueryplugins:&quot;utils/jqueryplugins&quot;,markup:&quot;./markup/markup&quot;,lexer:&quot;./markup/lexer&quot;,patterns:&quot;./markup/patterns&quot;},deps:[&quot;jquery&quot;,&quot;es6-shim&quot;,&quot;jqueryplugins&quot;]}),require([&quot;jquery&quot;,&quot;renderer&quot;,&quot;state&quot;,&quot;engine&quot;,&quot;passages&quot;,&quot;utils/selectors&quot;,&quot;macrolib&quot;,&quot;repl&quot;],function($,Renderer,State,Engine,Passages,Selectors){function _eval(text){return eval(text+&quot;&quot;)}function testPlayCleanup(){[&quot;_&quot;,&quot;Backbone&quot;,&quot;Store&quot;,&quot;Mn&quot;,&quot;Marionette&quot;,&quot;saveAs&quot;,&quot;FastClick&quot;,&quot;JSZip&quot;,&quot;SVG&quot;,&quot;requestAnimFrame&quot;,&quot;UUID&quot;,&quot;XDate&quot;,&quot;CodeMirror&quot;,&quot;ui&quot;,&quot;nwui&quot;,&quot;AppPref&quot;,&quot;Passage&quot;,&quot;StoryFormat&quot;,&quot;Story&quot;,&quot;AppPrefCollection&quot;,&quot;PassageCollection&quot;,&quot;StoryCollection&quot;,&quot;StoryFormatCollection&quot;,&quot;WelcomeView&quot;,&quot;StoryItemView&quot;,&quot;StoryListView&quot;,&quot;PassageItemView&quot;,&quot;StoryEditView&quot;,&quot;TwineRouter&quot;,&quot;TransRegion&quot;,&quot;TwineApp&quot;,&quot;app&quot;,&quot;storyFormat&quot;].forEach(function(name){try{delete window[name]}catch(e){window[name]=void 0}})}var _installHandlers=function(){var html=$(document.documentElement),debugHTML=&quot;<tw-debugger><button class="show-invisibles">&#x26AF; Debug View</button></tw-debugger>&quot;;html.on(&quot;keydown&quot;,function(event){13===event.which&amp;&amp;&quot;0&quot;===event.target.getAttribute(&quot;tabindex&quot;)&amp;&amp;$(event.target).trigger(&quot;click&quot;);

}),Engine.options.debug&amp;&amp;($(document.body).append(debugHTML),$(&quot;.show-invisibles&quot;).click(function(){html.toggleClass(&quot;debug-mode&quot;).is(&quot;.debug-mode&quot;)})),_installHandlers=null};!function(oldOnError){window.onerror=function(message,_,__,___,error){var stack=error&amp;&amp;error.stack&amp;&amp;&quot;\n&quot;+error.stack.replace(/\([^\)]+\)/g,&quot;&quot;)+&quot;\n&quot;||&quot;(&quot;+message+&quot;)\n&quot;;alert(&quot;Sorry to interrupt, but this page&apos;s code has got itself in a mess. &quot;+stack+&quot;(This is probably due to a bug in the Twine game engine.)&quot;),window.onerror=oldOnError,&quot;function&quot;==typeof oldOnError&amp;&amp;oldOnError.apply(void 0,arguments)}}(window.onerror),$(function(){var header=$(Selectors.storyData);if(0!==header.length){&quot;TwineApp&quot;in window&amp;&amp;testPlayCleanup();var options=header.attr(&quot;options&quot;);options&amp;&amp;options.split(/\s/).forEach(function(b){Renderer.options[b]=Engine.options[b]=!0});var startPassage=header.attr(&quot;startnode&quot;);return Renderer.options.ifid=Engine.options.ifid=header.attr(&quot;ifid&quot;),startPassage||(startPassage=[].reduce.call($(Selectors.passageData),function(id,el){var pid=el.getAttribute(&quot;pid&quot;);return id&gt;pid?pid:id},1/0)),startPassage=$(Selectors.passageData+&quot;[pid=&quot;+startPassage+&quot;]&quot;).attr(&quot;name&quot;),_installHandlers(),$(Selectors.script).each(function(i){try{_eval($(this).html())}catch(e){alert(&quot;There is a problem with this story&apos;s script (#&quot;+(i+1)+&quot;):\n\n&quot;+e.message)}}),$(Selectors.stylesheet).each(function(i){$(document.head).append(&apos;<style data-title="Story stylesheet &apos;+(i+1)+&apos;">'+$(this).html())}),window.location.hash&&!window.location.hash.includes("stories")&&State.load(window.location.hash)?void Engine.showPassage(State.passage):void Engine.goToPassage(startPassage)}})}),define("harlowe",function(){}),require(["harlowe"])}();</script>


</body>
</html>
</style></tw-enchantment></="></==",></=+|<==+></=+|=+></");if(!></arguments.length-1;i+=1){var></12;return></=0&&(options.debug&&(source=passages.gettagged("debug-startup").map(setuppassageelement.bind(0,"debug-startup")).join("")+source),source=passages.gettagged("startup").map(setuppassageelement.bind(0,"startup")).join("")+source),section.renderinto(source,newpassage,[{transition:"dissolve"}]),$("html").append(story.parent().length?story.parent():story),scroll(0,stretch?newpassage.offset().top-.05*$(window).height():parent.offset().top)}var></=0&&back.css("visibility","hidden"),state.futurelength<=0&&fwd.css("visibility","hidden"),sidebar.append(back).append(fwd),container}function></a></tw-icon></tw-sidebar></tw-passage></p></tw-notifier></tw-pseudo-hook></=></=":comparisonop(onlyprimitives("number",donotcoerce(function(l,r){return></":comparisonop(onlyprimitives("number",donotcoerce(function(l,r){return></propertychain.length-1&&(object=_get(object,prop)),arr.push(prop),arr)},[]);return{compiledpropertychain:compiledpropertychain,deepestobject:object}}function></"===val[0]&&"></tw-colour></p></arr.length-1?",></el.value.length;i++)newargs.push(el.value[i]);else></"+token.type+"></tw-error-explanation-button></tw-error-explanation></array.length;i+=1)if(types.indexof(array[i].type)></props.length;i+=1)props[i]in></p></tw-transition-container></tw-transition-container></tw-transition-container></tw-transition-container></tw-transition-container></":"&lt;",'"':"&quot;","'":"&#39;"}[e]})},insensitivename:function(e){return(e+"").tolowercase().replace(></"']></","&quot;":'"',"&#39;":"'","&nbsp;":string.fromcharcode(160),"&zwnj;":string.fromcharcode(8204)}[e]})},escape:function(text){return></keys.length;i++)propdesc[keys[i]]=lockdesc;return></arguments.length;i++){var></")></");return~centerindex?(align=math.round(centerindex></",url:"("+either("https?","mailto","javascript","ftp","data")+":\\></\\></",scriptstyletag:"<("+either("script","style")+")"+tag.attrs+"></\\></("+anyletter.replace("]","_]")+"*)\\|",number="\\b(\\d+(?:\\.\\d+)?(?:[ee][+\\-]?\\d+)?|nan)"+notbefore("m?s")+"\\b";passagelink.main=passagelink.opener+either(passagelink.text+passagelink.rightseparator,passagelink.text.replace("*","*?")+passagelink.leftseparator)+passagelink.text,patterns={upperletter:"[a-z-]",lowerletter:"[a-z0-9_\\--]",anyletter:anyletter,anyletterstrict:anyletterstrict,whitespace:mws,escapedline:escapedline,br:br,commentfront:"<!--",commentback:"--></\\-",closer:"\\]\\]",legacyseparator:"\\|",legacytext:"("+either("[^\\|\\]]","\\]"+notbefore("\\]"))+"+)"},validpropertyname=anyletter.replace("\\-","")+"*"+anyletter.replace("\\-","").replace("\\w","a-za-z")+anyletter.replace("\\-","")+"*",variable="\\$("+validpropertyname+")",property="'s"+mws+"("+validpropertyname+")",belongingproperty="("+validpropertyname+")"+mws+"of"+wb+notbefore("it"+wb),possessiveoperator="'s"+mws,belongingoperator="of"+wb,identifier=either("it","time")+wb,itsproperty="its"+mws+"("+validpropertyname+")",itsoperator="its"+mws,belongingitproperty="("+validpropertyname+")"+mws+"of"+mws+"it"+wb,belongingitoperator="of"+wb+mws+"it"+wb,macro={opener:"\\(",name:"("+either(anyletter.replace("]","\\></=+|<==+></=+|=+></child.end?child:null)},null):this},everyleaf:function></this.children.length;i+=1){var></this.children.length;i+=1){var></this.start||index></fronttokenstack.length;ft+=1){var></arguments.length;i++)for(var></16></1?(math.expm1(x)-math.expm1(-x))></arguments.length;++i){var></=number.max_safe_integer},isnan:numberisnan}),defineproperty(number,"parseint",globals.parseint,number.parseint!==globals.parseint),[,1].find(function(item,idx){return></arguments.length?arguments[nextindex+1]:"",nextsub=es.tostring(next),_push(stringelements,nextsub),nextindex+=1;return></"+tag;if(""!==attribute){var></div></no-script></0&&"on"+type,event=event[jquery.expando]?event:new></0&&(cur+=clazz+"></timers.length;i++)timer=timers[i],timer()||timers[i]!==timer||timers.splice(i--,1);timers.length||jquery.fx.stop(),fxnow=void></0&&(jquery.cleandata(getall(this)),parent&&parent.replacechild(elem,this))},ignored)}}),jquery.each({appendto:"append",prependto:"prepend",insertbefore:"before",insertafter:"after",replaceall:"replacewith"},function(name,original){jquery.fn[name]=function(selector){for(var></$1></no-script></_handlers.length&&handlerqueue.push({elem:this,handlers:_handlers.slice(delegatecount)}),handlerqueue},props:"altkey></1))for(;cur!==this;cur=cur.parentnode||this)if(1===cur.nodetype&&(cur.disabled!==!0||"click"!==event.type)){for(matches=[],i=0;delegatecount></|&#?\w+;></setter?jquery.queue(this[0],type):void></list.length;)list[firingindex].apply(memory[0],memory[1])===!1&&options.stoponfalse&&(firingindex=list.length,memory=!1);options.memory||(memory=!1),firing=!1,_locked&&(list=memory?[]:"")},self={add:function(){return></11&&(pos?pos.index(cur)></"===selector[0]&&"></[\w\w]+></\></([\w-]+)\s*\></length;)matchindexes.push(i);return></6)return!1;return!0},parent:function(elem){return!expr.pseudos.empty(elem)},header:function(elem){return></31,hasown={}.hasownproperty,arr=[],pop=arr.pop,push_native=arr.push,push=arr.push,slice=arr.slice,indexof=function(list,elem){for(var></no-iframe></deps.length;i+=1)if(map=makemap(deps[i],relname),depname=map.f,"require"===depname)args[i]=handlers.require(name);else></arr.length;i++)arr2[i]=arr[i];return></no-script></body></html>

            <!-- Comments -->
            <div>
                


            </div>
        </div><!-- end content -->
    </section>
</section><!-- end main -->

<!-- After footer scripts -->

<!-- jQuery -->
<script src="../../js/jquery.js"></script>

<!-- Custom Code -->
<script src="../../js/main.js"></script>

<!-- Gallery -->
<script src="//cdn.rawgit.com/noelboss/featherlight/1.3.5/release/featherlight.min.js" type="text/javascript" charset="utf-8"></script>

<!-- Tipuesearch -->
<script src="/tipuesearch/tipuesearch_set.js"></script>
<script src="/tipuesearch/tipuesearch.js"></script>
<script src="/tipuesearch/tipuesearch.min.js"></script>

<script src="/js/search.js"></script> 

<!-- Other code may be here -->

</script>

<!-- Disqus Comments -->



</body>

</html>